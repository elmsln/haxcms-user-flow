import{a as t,x as i,b as n,i as o,w as r,t as s,e as a,r as l,$ as c,s as d}from"./68bab227.js";import{S as u,s as h,a as p,A as v,b as m}from"./0742b9f3.js";import{haxElementToNode as f,winEventsElement as g,getRange as b,stripMSWord as _,validURL as y,nodeToHaxElement as x,camelToDash as w,htmlEntities as E}from"./b78a3bce.js";import{I18NMixin as S,I18NManagerStore as N}from"./29b617f1.js";
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var O,A;class T extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=i(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return n}}T.finalized=!0,T._$litElement$=!0,null===(O=globalThis.litElementHydrateSupport)||void 0===O||O.call(globalThis,{LitElement:T});const C=globalThis.litElementPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var k,D;null==C||C({LitElement:T}),(null!==(A=globalThis.litElementVersions)&&void 0!==A?A:globalThis.litElementVersions=[]).push("3.0.1");class P extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=i(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return n}}P.finalized=!0,P._$litElement$=!0,null===(k=globalThis.litElementHydrateSupport)||void 0===k||k.call(globalThis,{LitElement:P});const H=globalThis.litElementPolyfillSupport;null==H||H({LitElement:P}),(null!==(D=globalThis.litElementVersions)&&void 0!==D?D:globalThis.litElementVersions=[]).push("3.0.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class L extends o{constructor(e){if(super(e),this.it=r,e.type!==s.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===r||null==e)return this.ft=void 0,this.it=e;if(e===n)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this.ft;this.it=e;const t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}L.directiveName="unsafeHTML",L.resultType=1;const I=a(L);
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */class j extends(u(h)){static get tag(){return"simple-toolbar-more-button"}static get styles(){return[...super.styles,l`:host([hidden]){display:none!important}`]}constructor(){super(),this.icon="more-vert",this.toggled=!1,this.toggles=!0,this.label="More buttons",this.labelToggled="Fewer buttons",this.tooltipDirection="left",this.disabled=!1}_handleShortcutKeys(e,t){this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,cancelable:!0,composed:!0,detail:{...e.detail,button:this,shortcutKey:this}}))}}window.customElements.define(j.tag,j);
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */
class V extends(u(h)){static get tag(){return"simple-toolbar-field"}static get styles(){return[...super.styles,l`:host([full-display]){min-width:100px;display:block;padding-right:3px;overflow:visible}[part=button]{height:auto;width:auto;align-self:stretch;flex:1 1 auto}[part=button]:hover{opacity:1}[part=button]:hover>:not([part=field]){opacity:var(--simple-toolbar-button-hover-opacity,.8)}:host([full-display]) [part=button]{border-width:0}:host(:focus-within) [part=button]{color:var(--simple-toolbar-button-hover-color);background-color:var(--simple-toolbar-button-hover-bg);border-color:var(--simple-toolbar-button-hover-border-color);opacity:var(--simple-toolbar-button-hover-opacity,.8)}[part=field]{width:0;height:0;flex:0 0 0px;display:flex;align-items:center;overflow:visible}:host([icon-position=bottom]) [part=field],:host([icon-position=top]) [part=field]{flex-direction:column}:host([align-horizontal=left]) [part=field]{align-items:flex-start}:host([align-horizontal=right]) [part=field]{align-items:flex-end}::slotted(*){width:10px;flex:1 1 auto}:host(:not([full-display])) ::slotted(*){flex:0 0 auto;width:0;opacity:0;padding:0;transition:width ease-in-out .5s,opacity .5s ease-in-out 0s}:host([is-current-item]:not([full-display])) ::slotted(:focus){width:100px;opacity:1;padding:unset;transition:width ease-in-out .5s}`]}constructor(){super(),this.fullDisplay=!1,this.addEventListener("click",this.toggleFocus),this.observer.observe(this,{childList:!0,subtree:!0})}static get properties(){return{...super.properties,fullDisplay:{type:Boolean,attribute:"full-display",reflect:!0}}}get buttonTemplate(){return this.fullDisplay?c` <div id="button" class="simple-toolbar-button" ?disabled="${this.disabled}" part="button"> ${this.buttonInnerTemplate} <slot></slot> </div> ${this.tooltipFullDisplayTemplate}`:c` <div id="button" class="simple-toolbar-button" ?disabled="${this.disabled}" part="button"> ${this.buttonInnerTemplate} <span part="field"> <slot></slot> </span> </div> ${this.tooltipTemplate}`}get tooltipFullDisplayTemplate(){return this.tooltipVisible?c`<simple-tooltip id="tooltip" for="${this.hasIcon?"icon":"label"}" offset="5" position="right" part="tooltip" fit-to-visible-bounds>${this.currentTooltip||this.currentLabel}</simple-tooltip>`:""}get focusableElement(){return this.querySelector("*:not([disabled]):not([hidden])")}toggleFocus(e){this.focusableElement.clientWidth>10?this.focusableElement.blur():this.focus()}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"isCurrentItem"===t&&this.focusableElement&&this.focusableElement.setAttribute("tabindex",this.isCurrentItem?0:-1)}))}get observer(){return new MutationObserver((e=>this._watchChildren(e)))}_watchChildren(e){this.focusableElement&&this.focusableElement.setAttribute("tabindex",this.isCurrentItem?0:-1)}}window.customElements.define(V.tag,V);
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */
class R extends(function(e){return class extends e{render(){return""}static get properties(){return{...super.properties,itemData:{type:Array},selection:{type:String,attribute:"selection"}}}constructor(){super(),this.addEventListener(this.__selectEvent,this._handleSelectItem)}connectedCallback(){super.connectedCallback(),this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!0})}disconnectedCallback(){this.__observer&&this.__observer.disconnect&&this.__observer.disconnect(),this.removeEventListener(this.__selectEvent,this._handleSelectItem),super.disconnectedCallback()}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),this.selectItem(this.selection)}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"selection"===t&&this.selection!==e&&this.selectItem(this.selection)}))}get selectedIndex(){let e=this.itemData.filter((e=>e.id===this.selection));return e&&e[0]?e[0].index:0}get __observer(){return new MutationObserver(((e,t)=>this._handleItemChange(e,t)))}get __allowNull(){return!1}get __query(){return"> item"}get __selected(){return"selected"}get __selectEvent(){return"select-item"}selectItem(e){e="string"==typeof e&&e.trim().length>0?this._getItemById(e):"integer"==typeof e?this._getItemByIndex(e):e,this.__allowNull||e&&!e.disabled||(e=this.selection&&this._getItemByQuery(`#${this.selection}`)?this._getItemByQuery(`#${this.selection}`):this.__selected&&this._getItemByQuery(`[${this.__selected}]`)?this._getItemByQuery(`[${this.__selected}]`):this._getItemByQuery()),e&&!this._isItemSelected(e)?(e.id=e.id||this._generateUUID(),this.selection=e.id,this._handleSelectionChange()):!e&&this.__allowNull&&this.selection&&(this.selection=void 0,this._handleSelectionChange()),this._updateItemData()}_getDataFromItems(){let e=this.querySelectorAll(`${this.__query}`);return Object.keys(e||{}).map((t=>this._getDataFromItem(e[t],t,this.__selected)))}_getDataFromItem(e,t,i){return(!e.id||e.id.trim().length<1)&&(e.id=this._generateUUID()),{id:e.id,index:parseInt(t),node:e,innerHTML:e.innerHTML,selected:e.getAttribute(i)}}_generateUUID(){return"item-ss-s-s-s-sss".replace(/s/g,Math.floor(65536*(1+Math.random())).toString(16).substring(1))}_getItemById(e){return this._getItemByQuery(`#${e}`)}_getItemByIndex(e){let t=this.querySelectorAll(this.__query);return t&&t[e]&&!t[e].disabled?t[e]:void 0}_getItemByQuery(e=""){let t=this.querySelector(`${this.__query}${e}`);return t&&!t.disabled?t:void 0}_handleItemChange(e,t){let i=!1;e.forEach((e=>{let t="childList"===e.type&&e.addedNodes.length>0,n="childList"===e.type&&e.removedNodes.length>0&&Object.keys(e.removedNodes||{}).filter((t=>e.removedNodes[t].id===this.selection)).length>0,o="attributes"===e.type&&"id"===e.attributeName;i=i||t||n||o})),i&&(this.querySelectorAll(`${this.__query}`).forEach((e=>{e.id||(e.id=this._generateUUID())})),this.selectItem(this.selection)),this._updateItemData()}_handleSelectItem(e){e.stopPropagation&&e.stopPropagation(),this.selectItem(e.detail.controls)}_handleSelectionChange(){this.querySelectorAll(`${this.__query}`).forEach((e=>this._setItemSelected(e))),this.dispatchEvent(new CustomEvent("selection-changed",{bubbles:!1,cancelable:!0,composed:!0,detail:this}))}_isItemSelected(e){return e&&(e.id&&e.id===this.selection||e.hasAttribute(this.__selected))}_setItemSelected(e){e.id!==this.selection?e.removeAttribute(this.__selected):e.setAttribute(this.__selected,!0)}_updateItemData(){this.itemData=this._getDataFromItems(),this.render&&this.render()}}}(h)){static get tag(){return"simple-toolbar-button-group"}static get properties(){return{...super.properties,required:{type:Boolean,attribute:"required",reflect:!0}}}constructor(){super(),this.setAttribute("role","radiogroup"),this.classList.add("group"),this.addEventListener("button-toggled",this._handleToggle)}connectedCallback(){super.connectedCallback(),this.querySelectorAll(`${this.__query}`).forEach((e=>{e.id||(e.id=this._generateUUID())})),this.selectItem(this.selection),this._updateItemData()}render(){return c`<slot></slot>`}get __allowNull(){return!this.required}get __query(){return"*[radio]:not([hidden])"}get __selected(){return"toggled"}_handleToggle(e){this.selectItem(e.detail.isToggled?e.detail.id:void 0)}}window.customElements.define(R.tag,R);
/**
 * Copyright 2021 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const B=function(t){return class extends t{tag(){return"simple-toolbar"}static get stickyStyles(){return[l`:host([sticky]){position:sticky;top:0}`]}static get baseStyles(){return[l`:host{position:relative;display:flex;align-items:flex-start;opacity:1;z-index:2;margin:0;justify-content:space-between;background-color:var(--simple-toolbar-bg);font-size:inherit;margin:0;padding:0;transition:all .5s;transition:z-index 0s}:host([hidden]){z-index:-1;visibility:hidden;opacity:0;height:0}:host([disabled]){opacity:.6;pointer-events:none}:host(:focus-within){border:1px solid var(--simple-toolbar-hover-border-color,var(--simple-toolbar-button-hover-border-color))}#buttons{flex-wrap:wrap;display:flex;justify-content:flex-start;flex:1 1 auto;overflow-y:visible}#morebutton{flex:0 0 auto}::slotted(.group){display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:stretch;margin:0;flex:0 1 auto;overflow-y:visible;border-width:0;border-style:solid;padding:var(--simple-toolbar-group-padding,0 3px);border-color:var(--simple-toolbar-border-color,var(--simple-toolbar-group-border-color,transparent))}::slotted(.group:not(:last-child)){border-right-width:var(--simple-toolbar-group-border-width,var(--simple-toolbar-border-width,1px))}::slotted(:focus-wthin),::slotted(:hover){z-index:var(--simple-toolbar-focus-z-index,100);transition:z-index 0s}:host([collapsed]:not([always-expanded])) ::slotted([collapse-hide]){display:none!important}`]}static get styles(){return[...this.baseStyles,...this.stickyStyles]}static get properties(){return{...p,alwaysExpanded:{name:"alwaysExpanded",type:Boolean,attribute:"always-expanded",reflect:!0},ariaControls:{name:"ariaControls",type:String,attribute:"aria-controls",reflect:!0},ariaLabel:{name:"ariaLabel",type:String,attribute:"aria-label",reflect:!0},collapsed:{name:"collapsed",type:Boolean,attribute:"collapsed",reflect:!0},config:{name:"config",type:Array,attribute:"config"},id:{name:"id",type:String,attribute:"id",reflect:!0},moreShortcuts:{name:"moreShortcuts",attribute:"more-shortcuts",type:Object},shortcutKeys:{name:"shortcutKeys",attribute:"shortcut-keys",type:Object},sticky:{name:"sticky",type:Boolean,attribute:"sticky",reflect:!0},__buttons:{name:"__buttons",type:Array},collapseDisabled:{type:Boolean,attribute:"collapse-disabled",reflect:!0},__focused:{name:"__focused",type:Boolean},__hovered:{name:"__hovered",type:Boolean}}}render(){return this.toolbarTemplate}get buttons(){return this.__buttons}get focused(){return this.__focused}get hovered(){return this.__hovered}get moreButton(){return c` <simple-toolbar-more-button id="morebutton" .align-horizontal="${this.alignHorizontal}" .align-vertical="${this.alignVertical}" aria-controls="buttons" class="button" @click="${e=>this.collapsed=!this.collapsed}" ?disabled="${this.collapseDisabled}" @toggle="${e=>this.collapsed=!this.collapsed}" ?hidden="${this.collapseDisabled}" .icon="${this.icon}" .icon-position="${this.iconPosition}" .label="${this.label}" .shortcut="${this.shortcut}" ?show-text-label="${this.showTextLabel}" ?toggled="${!this.collapsed}" .toggled-icon="${this.toggledIcon}" .toggled-label="${this.toggledLabel}" .toggled-tooltip="${this.toggledTooltip}" .tooltip-direction="${this.tooltipDirection}" part="morebutton"> </simple-toolbar-more-button>`}get toolbarTemplate(){return c` <div id="buttons" class="${!this.alwaysExpanded&&this.collapsed?"collapsed":""}" part="buttons"> <slot></slot> </div> ${this.alwaysExpanded?"":this.moreButton} `}constructor(){super(),this.collapsed=!0,this.collapseDisabled=!1,this.config=[],this.__buttons=[],this.__focused=!1,this.__hovered=!1,this.icon="more-vert",this.label="More Buttons",this.toggledLabel="Fewer Buttons",this.showTextLabel=!1,this.shortcut="ctrl+shift+;",this.sticky=!1,this.shortcutKeys={},this.setAttribute("role","toolbar"),this.addEventListener("register-button",this._handleButtonRegister),this.addEventListener("deregister-button",this._handleButtonDeregister),this.addEventListener("update-button-registry",this._handleButtonUpdate),this.addEventListener("toggle-toolbar",this._handleToggleToolbar)}connectedCallback(){super.connectedCallback(),this.collapsed&&window.addEventListener("resize",this._handleResize.bind(this)),this.addEventListener("keypress",this._handleShortcutKeys)}disconnectedCallback(){this.collapsed&&window.removeEventListener("resize",this._handleResize.bind(this)),super.disconnectedCallback(),this.addEventListener("keypress",this._handleShortcutKeys)}firstUpdated(e){this.setAttribute("aria-live","polite"),this.onfocus=e=>this.__focused=!0,this.onblur=e=>this.__focused=!1,this.onmouseover=e=>this.__hovered=!0,this.onmouseout=e=>this.__hovered=!1,this.addEventListener("keydown",this._handleKeydown),super.firstUpdated&&super.firstUpdated(e)}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"config"===t&&this.updateToolbar(),"collapsed"===t&&(this.collapsed?(this.resizeToolbar(),window.addEventListener("resize",this._handleResize.bind(this))):window.removeEventListener("resize",this._handleResize.bind(this))),"hidden"===t&&this.setAttribute("aria-hidden",this.hidden?"true":"false")})),!this.currentItem&&this.buttons&&this.setCurrentItem(this.buttons[0]),this.resizeToolbar()}addButton(e,t){let i=this._renderButton(e);return(t=t||this).appendChild(i),i}addButtonGroup(e={},t){if(!e.buttons||e.buttons.length<1)return;let i=this._renderButtonGroup(e);return(t||this).appendChild(i),this._addConfigItems(e.buttons,i),i}clearToolbar(){this.innerHTML="",this.__buttons=[],this.shortcutKeys={},this.shortcutKeys[this.shortcut]=this.shadowRoot?this.shadowRoot.querySelector("#morebutton"):void 0}deregisterButton(e){this.__buttons=this.__buttons.filter((t=>t!==e)),(e.shortcutKeys||"").split(" ").forEach((e=>delete this.shortcutKeys[e])),e.removeEventListener("blur",(t=>this._handleFocusChange(e))),e.removeEventListener("focus",(t=>this._handleFocusChange(e)))}registerButton(e){this.__buttons.push(e),this.__buttons=[...new Set(this.__buttons)],(e.shortcutKeys||"").split(" ").forEach((t=>this.shortcutKeys[t]=e)),"menuitem"!==e.role&&(e.isCurrentItem=!1),e.addEventListener("blur",(t=>this._handleFocusChange(e))),e.addEventListener("focus",(t=>this._handleFocusChange(e))),this.currentItem||this.setCurrentItem(e)}resizeToolbar(){if(this.alwaysExpanded)return;if(!this.collapsed)return;let e=[...this.children||[]],t=!0;e.forEach((e=>{e.removeAttribute&&e.removeAttribute("collapse-hide"),e.offsetTop&&e.offsetTop>0?(e.setAttribute("collapse-hide",!0),t=!1):t||e.setAttribute("collapse-hide",!0)})),this.collapseDisabled=!!t,this.currentItem||this.setCurrentItem(this.firstItem)}get firstItem(){return this.mainItems?this.mainItems[0]:void 0}get nextItem(){return this.getItem()}get previousItem(){return this.getItem(-1)}get lastItem(){return this.buttons?this.mainItems[this.mainItems.length-1]:void 0}get mainItems(){return this.buttons.filter((e=>"menuitem"!==e.role))}getItemIndex(e=this.currentItem){let t=-1;return this.mainItems.forEach(((i,n)=>{i===e&&(t=n)})),t}getItem(e=1){let t=this.getItemIndex(this.currentItem)+e;return!this.mainItems||t<0||this.mainItems.length<=t?void 0:this.mainItems[t]}setCurrentItem(e){this.currentItem&&(this.currentItem.isCurrentItem=!1),e&&e.closest("[collapse-hide=true]")&&(this.collapsed=!1),this.currentItem=e,this.currentItem&&(this.currentItem.isCurrentItem=!0)}focusOn(e){let t=e&&e.closest("[collapse-hide=true]");this.currentItem.close&&this.currentItem.close(!0),this.setCurrentItem(e),t?setTimeout((()=>this.currentItem.focus()),300):this.currentItem.focus()}updateButton(e){e&&this.deregisterButton(e),e&&this.registerButton(e)}updateToolbar(e){this&&this.config&&0!=this.config.length&&(this.clearToolbar(),typeof this.config!=typeof[]&&(this.config=JSON.parse(e)),this._addConfigItems(this.config),this.resizeToolbar())}_addConfigItems(e=this.config,t=this){(e||[]).forEach((e=>{"button-group"===e.type||"simple-toolbar-button-group"===e.type?this.addButtonGroup(e,t):this.addButton(e,t)}))}get keyCode(){return{TAB:9,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40}}_handleKeydown(e){let t=!1;if(!this._shortcutKeysMatch(e)){switch(e.keyCode){case this.keyCode.RIGHT:this.focusOn(this.nextItem||this.firstItem),t=!0;break;case this.keyCode.LEFT:this.focusOn(this.previousItem||this.lastItem),t=!0;break;case this.keyCode.HOME:this.focusOn(this.firstItem),t=!0;break;case this.keyCode.END:this.focusOn(this.lastItem),t=!0;break;case this.keyCode.UP:this.focusOn(this.previousItem||this.lastItem),t=!0;break;case this.keyCode.DOWN:this.focusOn(this.nextItem||this.firstItem),t=!0}t&&(e.stopPropagation(),e.preventDefault())}}_handleFocusChange(){this.__focused=this.contains(document.activeElement)}_handleButtonRegister(e){e.stopPropagation(),this.registerButton(e.detail),this.resizeToolbar()}_handleButtonDeregister(e){e.stopPropagation(),this.deregisterButton(e.detail),this.resizeToolbar()}_handleButtonUpdate(e){e.stopPropagation(),this.updateButton(e.detail)}_handleResize(e){this.resizeToolbar()}_handleShortcutKeys(e){let t=this._shortcutKeysMatch(e);t&&(e.preventDefault(),this.shortcutKeys[t]._handleShortcutKeys(e,t),this.dispatchEvent(new CustomEvent("shortcut-key-pressed",{bubbles:!0,cancelable:!0,composed:!0,detail:{...e.detail,button:this,shortcutKey:this}})))}_handleToggleToolbar(e){this.collapsed=e.detail&&void 0!==e.detail?e.detail:!this.collapsed}_renderButton(e){let t=document.createElement(e.type);return Object.keys(e).forEach((i=>t[i]=e[i])),t.addEventListener("button-command",this._handleButton),t}_renderButtonGroup(e){let t=e.type&&"simpletoolbar-button-group"===e.type?e.type:"div",i=document.createElement(t);return i.setAttribute("class","group"),Object.keys(e).forEach((t=>i[t]=e[t])),i}_shortcutKeysMatch(t){let i=!1;return Object.keys(this.shortcutKeys||{}).forEach((n=>{let o=(n||"").toLowerCase().split("+"),r=o.includes("alt"),s=o.includes("ctrl"),a=o.includes("meta")||o.includes("cmd"),l=o.includes("shift"),c=t.shiftKey&&t.code>65&&t.code<91,d=o.filter((e=>1==e.length)).map((e=>c?e.toUpperCase():e)),u=d[0];r===t.altKey&&(s===t.ctrlKey||s===window.navigator.platform==="MacIntel"&&e.metaKey)&&a===t.metaKey&&l===t.shiftKey&&(t.key?t.key===u:!u)&&(i=n)})),i}}};class M extends(B(h)){}customElements.define("simple-toolbar",M);
/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const z=function(e){return class extends e{constructor(){super(),this.ariaLabelledby="",this.controls="",this.disabled=!1,this.form="",this.label="",this.fieldName="",this.type="",this.value="",this.icon=""}static get styles(){return[super.styles||[],l`:host([hidden]){display:none}:host([icon=""]) simple-icon-lite{display:none}:host{display:inline-flex;align-items:center;justify-content:center;position:relative;vertical-align:middle;border-radius:var(--simple-icon-button-border-radius,50%);background-color:var(--simple-icon-button-background-color,transparent);padding:0;margin:0;color:inherit}button{color:inherit;cursor:pointer;opacity:var(--simple-icon-button-opacity,1);border:var(--simple-icon-button-border,0);border-radius:var(--simple-icon-button-border-radius,50%);background-color:var(--simple-icon-button-background-color,transparent);padding:var(--simple-icon-button-padding,0);margin:0;width:100%;height:100%}button[aria-pressed]{opacity:var(--simple-icon-button-toggled-opacity,1);--simple-icon-button-border:var(
              --simple-icon-toggled-button-border
            );--simple-icon-color:var(--simple-icon-button-toggled-color);--simple-icon-button-background-color:var(
              --simple-icon-button-toggled-background-color
            )}button:focus,button:hover{opacity:var(--simple-icon-button-focus-opacity,.8);--simple-icon-button-border:var(--simple-icon-button-focus-border);--simple-icon-color:var(--simple-icon-button-focus-color);--simple-icon-button-background-color:var(
              --simple-icon-button-focus-background-color
            )}button:disabled,button[disabled]{opacity:var(--simple-icon-button-disabled-opacity,.5);--simple-icon-button-border:var(
              --simple-icon-button-disabled-border
            );--simple-icon-color:var(--simple-icon-button-disabled-color);--simple-icon-button-background-color:var(
              --simple-icon-button-disabled-background-color
            );cursor:not-allowed}simple-icon-lite{color:inherit;height:calc(var(--simple-icon-height,24px) - 2 * var(--simple-icon-button-padding,0px));width:calc(var(--simple-icon-width,24px) - 2 * var(--simple-icon-button-padding,0px))}`]}render(){return c` <button ?autofocus="${this.autofocus}" aria-labelledby="${this.ariaLabelledby}" .aria-pressed="${this.toggles||this.toggled?"true":this.toggles?"false":void 0}" controls="${this.controls}" part="button" ?disabled="${this.disabled}" form="${this.form}" label="${this.label}" aria-label="${this.label}" name="${this.fieldName}" .type="${this.type}" value="${this.value}"> <simple-icon-lite icon="${this.icon}" part="icon"></simple-icon-lite> <slot></slot> </button> `}static get properties(){return{...super.properties,autofocus:{attribute:"autofocus",type:Boolean},ariaLabelledby:{attribute:"aria-labelledby",type:String},controls:{attribute:"controls",type:String},disabled:{attribute:"disabled",type:Boolean},fieldName:{attribute:"field-name",type:String},form:{attribute:"form",type:String},icon:{type:String,reflect:!0},label:{attribute:"label",type:String},type:{attribute:"type",type:String},value:{attribute:"value",type:String,reflect:!0},toggles:{attribute:"toggles",type:Boolean,reflect:!0},toggled:{attribute:"toggled",type:Boolean,reflect:!0}}}}};class U extends(z(d)){static get tag(){return"simple-icon-button-lite"}constructor(){super(),this.type="button"}}customElements.define(U.tag,U);
/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class $ extends v{static get styles(){return[...super.styles,l`:host([hidden]){display:none}:host>div{display:flex;flex-direction:column-reverse;justify-content:stretch;z-index:1}:host([position=left])>div{justify-content:flex-start;flex-direction:row}:host([position=right])>div{justify-content:flex-end;flex-direction:row-reverse}:host([position=top])>div{flex-direction:column}:host>div>*{width:100%}:host([position=left])>div>*,:host([position=right])>div>*{width:unset}:host{pointer-events:none}#content{margin:0;pointer-events:all;padding:var(--simple-popover-padding,10px);color:var(--simple-popover-color,#222);background-color:var(--simple-popover-background-color,#fff);border:var(--simple-popover-border,1px solid var(--simple-popover-border-color,#bbb));border-radius:var(--simple-popover-border-radius,3px);box-shadow:var(--simple-popover-box-shadow,rgba(60,64,67,.3) 0 4px 8px 3px);min-height:var(--simple-popover-min-height,20px);max-height:var(--simple-popover-max-height,200px);overflow:auto;scroll-behavior:smooth}#pointer-outer{margin:-1px}#pointer{width:20px;height:20px;position:relative;overflow:hidden;flex:0 0 20px}#pointer:after{content:"";position:absolute;width:10px;height:10px;background-color:var(--simple-popover-background-color,#fff);border:1px solid var(--simple-popover-border-color,#bbb);transform:rotate(45deg);top:15px;left:5px}:host([position=top]) #pointer:after{top:-5px;left:5px}:host([position=right]) #pointer:after{top:5px;left:15px}:host([position=left]) #pointer:after{top:5px;left:-5px}`]}render(){return c` <div> <div id="content" role="alertdialog"> <slot></slot> </div> <div id="pointer-outer"> <div id="pointer" .style="${this._getMargins(this.__positions)}"></div> </div> </div>`}static get haxProperties(){return{canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Simple popover",description:"A popover alertdialog that is positioned next to a target element",icon:"icons:android",color:"green",groups:["Popover"],handles:[{type:"todo:read-the-docs-for-usage"}],meta:{author:"nikkimk",owner:"The Pennsylvania State University"}},settings:{configure:[{property:"title",description:"",inputMethod:"textfield",required:!1,icon:"icons:android"}],advanced:[]}}}static get properties(){return{...super.properties}}constructor(){super(),this.offset=-10,this.fitToVisibleBounds=!0}static get tag(){return"simple-popover"}_getMargins(e){if(e&&e.target){let t=this.getBoundingClientRect(),i="bottom"===this.position||"top"===this.position,n=i?t.width:t.height,o=i?t.left:t.top,r=(i?e.target.left:e.target.top)+(i?e.target.width/2:e.target.height/2)-10,s=Math.min(n-20,Math.max(0,r-o));return i?`margin: 0 0 0 ${s}px;`:`margin: ${s}px 0 0 0;`}return""}}window.customElements.define($.tag,$);customElements.define("simple-popover-manager",class extends P{constructor(){super(),this.popover=null,this.opened=!1,this.context=null,this.orientation="tb",this.position="bottom",this.__ignore=!1}static get styles(){return[l`simple-popover{font-family:var(--simple-tour-font-family,unset);font-size:var(--simple-tour-font-size,14px);max-width:var(--simple-popover-manager-max-width,200px);min-width:var(--simple-popover-manager-min-width,200px);display:flex;--simple-popover-padding:0;--simple-icon-button-border:1px solid var(--simple-tour-border-color, #ddd);--simple-icon-button-border-radius:3px}simple-popover[hidden]{display:none!important}.heading{font-size:var(--simple-tour-titlebar-font-size,14px);flex:0 0 auto;background-color:var(--simple-tour-titlebar-background-color,#f0f4f8);border-bottom:1px solid var(--simple-tour-border-color,#ddd);line-height:130%;padding:var(--simple-tour-padding-sm,2px) var(--simple-tour-padding-sm,2px) var(--simple-tour-padding-sm,2px) var(--simple-tour-padding-lg,10px);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0}.body{flex:1 1 auto;padding:var(--simple-tour-padding-sm,2px) var(--simple-tour-padding-lg,10px);background-color:var(--simple-tour-background-color,#fff)}.nav{flex:0 0 auto;margin:0;padding:0;display:flex;align-items:center;justify-content:space-between;position:sticky;bottom:0;background-color:var(--simple-tour-background-color,#fff)}::slotted(.title){font-size:var(--simple-tour-titlebar-font-size,14px);margin:0 calc(2 * var(--simple-tour-padding-sm,2px)) 0 0;line-height:100%}::slotted(.subheading){font-size:var(--simple-tour-subheading-font-size,16px)}::slotted([slot=body]){margin:var(--simple-tour-padding-sm,2px) 0}::slotted(simple-icon-button-lite){flex:1 1 auto;background-color:var(--simple-tour-background-color,#fff)}::slotted(simple-icon-button-lite[slot=heading]){flex:0 0 auto}::slotted(simple-icon-button-lite:focus-within),::slotted(simple-icon-button-lite:hover){--simple-icon-button-border:1px solid #000}`]}render(){return c` <simple-popover auto part="simple-popover" ?hidden="${!this.opened}" position="${this.position}"> <div class="heading" part="simple-popover-heading"> <slot name="heading"></slot> </div> <div class="body" part="simple-popover-body"> <slot name="body"></slot> </div> <div class="nav" part="simple-popover-nav"> <slot name="nav"></slot> </div> </simple-popover> `}static get properties(){return{position:{type:String},opened:{type:Boolean},orientation:{type:String}}}updated(e){e.forEach(((e,t)=>{["opened","position","orientation"].includes(t)&&(clearTimeout(this.timer),this.timer=setTimeout((()=>{this.popover.updatePosition()}),0))}))}setPopover(e,t,i=null,n="tb",o){if(this.__ignore)this.__ignore=!1,setTimeout((()=>{this.popover.updatePosition()}),100);else{let r;t!==this.popover.target&&(this.context&&this.context.managerReset&&e!==this.context&&(this.context.managerReset(),this.__ignore=!0),this.context=e,this.setAttribute("mode",o||""),this.popover.target=null,this.popover.target=t);let s=t.getBoundingClientRect();r="tb"==n?s.y>window.innerHeight/2?"top":"bottom":s.x>window.innerWidth/2?"left":"right",this.orientation=n,this.position=r,null!=i&&(this.opened=i)}}firstUpdated(){this.popover=this.shadowRoot.querySelector("simple-popover")}}),window.SimplePopoverManager=window.SimplePopoverManager||{},window.SimplePopoverManager.requestAvailability=()=>(window.SimplePopoverManager.instance||(window.SimplePopoverManager.instance=document.createElement("simple-popover-manager"),document.body.appendChild(window.SimplePopoverManager.instance)),window.SimplePopoverManager.instance),window.SimplePopoverManager.requestAvailability();class q{constructor(){this.target=null,this.title="Title",this.description="<p>Description</p>"}}customElements.define("simple-tour",class extends P{constructor(){super(),this.stacks={},this.orientation="lr",this.active=null,this.tourInfo={},this.activeElementDelay=500,this.stop=-1,window.addEventListener("simple-tour-register",this.registerNewTourEvent.bind(this)),window.addEventListener("simple-tour-create-tour-stop",this.createTourStopEvent.bind(this))}registerNewTourEvent(e){this.registerNewTour(e.detail)}registerNewTour(e){return this.stacks[e.key]||(this.stacks[e.key]=[]),this.tourInfo[e.key]||(this.tourInfo[e.key]=e),this.stacks[e.key]}createTourStopEvent(e){this.createTourStop(e.detail.name,e.detail.target,e.detail.title,e.detail.description,e.detail.mode)}createTourStop(e,t,i,n,o){let r=new q;return r.target=t,r.title=i,r.description=n,r.mode=o,this.addStops(e,[r]),r}removeTarget(e,t){let i=[];this.stacks[e].forEach(((e,n)=>{e.target===t&&i.push(n)})),i.forEach((t=>{this.stacks[e].splice(t,1)}))}addStops(e,t){this.stacks[e]||(this.stacks[e]=[]),this.stacks[e]=this.stacks[e].concat(t)}hasNext(){return this.stop<this.stacks[this.active].length-1}hasPrev(){return this.stop>0}nextStop(e){this.stop<this.stacks[this.active].length-1&&(this.stop+=1)}prevStop(e){this.stop>0&&(this.stop-=1)}startTour(e){this.active=e,this.dispatchEvent(new CustomEvent("tour-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}stopTour(e){window.SimplePopoverManager.requestAvailability().setPopover(this,this,!1,this.orientation),this.stop=-1,this.active=null,this.dispatchEvent(new CustomEvent("tour-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}tourButtons(){return c`<h1 class="title" slot="heading"> ${this.tourInfo[this.active].name}, <span class="xofy">${this.stop+1}/${this.stacks[this.active].length}</span> </h1> <simple-icon-button-lite id="close" slot="heading" @click="${this.stopTour.bind(this)}" label="Stop Tour" icon="close"> </simple-icon-button-lite> <simple-icon-button-lite id="prev" slot="nav" @click="${this.prevStop.bind(this)}" ?disabled="${!this.hasPrev()}" label="Prev" icon="arrow-back" show-text-label> </simple-icon-button-lite> <simple-tooltip for="prev" position="top" slot="nav"> Previous Item </simple-tooltip> <simple-icon-button-lite id="next" slot="nav" @click="${this.nextStop.bind(this)}" ?disabled="${!this.hasNext()}" label="Next" icon="arrow-forward" show-text-label> </simple-icon-button-lite> <simple-tooltip for="close" slot="body"> Stop Tour </simple-tooltip> <simple-tooltip for="next" position="top" slot="nav"> Next Item </simple-tooltip>`}scrollHere(e){"function"==typeof e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded(!0):e.scrollIntoView({behavior:"smooth",inline:"center"})}managerReset(){this.stopTour()}updated(e){e.forEach(((e,t)=>{if("active"==t&&this.active&&(this.stop=0),"stop"==t&&-1!=this.stop||"active"==t&&this.active){i(document.createElement("div"),window.SimplePopoverManager.requestAvailability());let e=this.stacks[this.active][this.stop].title,t=this.stacks[this.active][this.stop].description;if("live"==this.stacks[this.active][this.stop].mode){let i=this.stacks[this.active][this.stop].target;i.getAttribute("data-stop-title")&&i.getAttribute(i.getAttribute("data-stop-title"))?e=i.getAttribute(i.getAttribute("data-stop-title")):i.querySelector("[data-stop-title]")&&(e=i.querySelector("[data-stop-title]").innerHTML),t=i.querySelector("[data-stop-content]").innerHTML?i.querySelector("[data-stop-content]").innerHTML:""}let n=c`${this.tourButtons()} <h2 class="subheading" slot="body"> ${I("<span>"+e+"</span>")} </h2> ${I('<p slot="body">'+t+"</p>")}${this.tourInfo[this.active].style?I("<style>"+this.tourInfo[this.active].style+"</style>"):""}`;i(n,window.SimplePopoverManager.requestAvailability()),window.SimplePopoverManager.requestAvailability().setPopover(this,this.stacks[this.active][this.stop].target,!0,this.orientation,this.active),this.scrollHere(this.stacks[this.active][this.stop].target);let o=this.stacks[this.active][this.stop].target,r=this.stacks[this.active][this.stop].target.getAttribute("part");o.setAttribute("part","simple-tour-active"),setTimeout((()=>{null==r||"simple-tour-active"==r?o.removeAttribute("part"):o.setAttribute("part",r)}),this.activeElementDelay)}}))}static get properties(){return{stop:{type:Number},active:{type:String},stacks:{type:Object},activeElementDelay:{type:Number}}}}),window.SimpleTourManager=window.SimpleTourManager||{},window.SimpleTourManager.requestAvailability=()=>(window.SimpleTourManager.instance||(window.SimpleTourManager.instance=document.createElement("simple-tour"),document.body.appendChild(window.SimpleTourManager.instance)),window.SimpleTourManager.instance);const G=window.SimpleTourManager.requestAvailability();var K="production"!==process.env.NODE_ENV?{0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(e,t){return"Cannot apply '"+e+"' to '"+t.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen",16:"Modification exception: the internal structure of an observable array was changed.",17:function(e,t){return"[mobx.array] Index out of bounds, "+e+" is larger than "+t},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(e){return"Cannot initialize from classes that inherit from Map: "+e.constructor.name},20:function(e){return"Cannot initialize map from "+e},21:function(e){return"Cannot convert to map from '"+e+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(e){return"Cannot obtain administration from "+e},25:function(e,t){return"the entry '"+e+"' does not exist in the observable map '"+t+"'"},26:"please specify a property",27:function(e,t){return"no observable property '"+e.toString()+"' found on the observable object '"+t+"'"},28:function(e){return"Cannot obtain atom from "+e},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(e,t){return"Cycle detected in computation "+e+": "+t},33:function(e){return"The setter of computed value '"+e+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(e){return"[ComputedValue '"+e+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(e){return"[mobx] `observableArray."+e+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+e+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"}:{};function X(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if("production"!==process.env.NODE_ENV){var o="string"==typeof e?e:K[e];throw"function"==typeof o&&(o=o.apply(null,i)),new Error("[MobX] "+o)}throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(i.length?" "+i.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var W={};function F(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:W}var J=Object.assign,Y=Object.getOwnPropertyDescriptor,Q=Object.defineProperty,Z=Object.prototype,ee=[];Object.freeze(ee);var te={};Object.freeze(te);var ie="undefined"!=typeof Proxy,ne=Object.toString();function oe(){ie||X("production"!==process.env.NODE_ENV?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function re(e){"production"!==process.env.NODE_ENV&&ei.verifyProxies&&X("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+e)}function se(){return++ei.mobxGuid}function ae(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var le=function(){};function ce(e){return"function"==typeof e}function de(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ue(e){return null!==e&&"object"==typeof e}function he(e){var t;if(!ue(e))return!1;var i=Object.getPrototypeOf(e);return null==i||(null==(t=i.constructor)?void 0:t.toString())===ne}function pe(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ve(e,t,i){Q(e,t,{enumerable:!1,writable:!0,configurable:!0,value:i})}function me(e,t,i){Q(e,t,{enumerable:!1,writable:!1,configurable:!0,value:i})}function fe(e,t){var i="isMobX"+e;return t.prototype[i]=!0,function(e){return ue(e)&&!0===e[i]}}function ge(e){return e instanceof Map}function be(e){return e instanceof Set}var _e=void 0!==Object.getOwnPropertySymbols;var ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:_e?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function xe(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function we(e){return null===e?null:"object"==typeof e?""+e:e}function Ee(e,t){return Z.hasOwnProperty.call(e,t)}var Se=Object.getOwnPropertyDescriptors||function(e){var t={};return ye(e).forEach((function(i){t[i]=Y(e,i)})),t};function Ne(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t,i){return t&&Ne(e.prototype,t),i&&Ne(e,i),e}function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ae.apply(this,arguments)}function Te(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function De(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return ke(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}var Pe=Symbol("mobx-stored-annotations");function He(e){return Object.assign((function(t,i){Le(t,i,e)}),e)}function Le(e,t,i){(Ee(e,Pe)||ve(e,Pe,Ae({},e[Pe])),"production"!==process.env.NODE_ENV&&Ue(i)&&!Ee(e[Pe],t))&&X("'"+(e.constructor.name+".prototype."+t.toString())+"' is decorated with 'override', but no such decorated member was found on prototype.");!function(e,t,i){if("production"!==process.env.NODE_ENV&&!Ue(t)&&Ee(e[Pe],i)){var n=e.constructor.name+".prototype."+i.toString(),o=e[Pe][i].annotationType_;X("Cannot apply '@"+t.annotationType_+"' to '"+n+"':\nThe field is already decorated with '@"+o+"'.\nRe-decorating fields is not allowed.\nUse '@override' decorator for methods overriden by subclass.")}}(e,i,t),Ue(i)||(e[Pe][t]=i)}var Ie=Symbol("mobx administration"),je=function(){function e(e){void 0===e&&(e="production"!==process.env.NODE_ENV?"Atom@"+se():"Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=It.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return si(this)},t.reportChanged=function(){oi(),ai(this),ri()},t.toString=function(){return this.name_},e}(),Ve=fe("Atom",je);function Re(e,t,i){void 0===t&&(t=le),void 0===i&&(i=le);var n,o=new je(e);return t!==le&&Pi("onBO",o,t,n),i!==le&&Di(o,i),o}var Be={identity:function(e,t){return e===t},structural:function(e,t){return Kn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Kn(e,t,1)}};function Me(e,t,i){return Ui(e)?e:Array.isArray(e)?_t.array(e,{name:i}):he(e)?_t.object(e,void 0,{name:i}):ge(e)?_t.map(e,{name:i}):be(e)?_t.set(e,{name:i}):"function"!=typeof e||Ti(e)||Mi(e)?e:pe(e)?Ri(e):Ai(i,e)}function ze(e){return e}function Ue(e){return"override"===e.annotationType_}function $e(e,t){return{annotationType_:e,options_:t,make_:qe,extend_:Ge}}function qe(e,t,i,n){var o;if(null==(o=this.options_)?void 0:o.bound)return null===this.extend_(e,t,i,!1)?0:1;if(n===e.target_)return null===this.extend_(e,t,i,!1)?0:2;if(Ti(i.value))return 1;var r=Ke(e,this,t,i,!1);return Q(n,t,r),2}function Ge(e,t,i,n){var o=Ke(e,this,t,i);return e.defineProperty_(t,o,n)}function Ke(e,t,i,n,o){var r,s,a,l,c;void 0===o&&(o=ei.safeDescriptors),function(e,t,i,n){var o=t.annotationType_,r=n.value;"production"===process.env.NODE_ENV||ce(r)||X("Cannot apply '"+o+"' to '"+e.name_+"."+i.toString()+"':\n'"+o+"' can only be used on properties with a function value.")}(e,t,i,n);var d,u=n.value;(null==(r=t.options_)?void 0:r.bound)&&(u=u.bind(null!=(d=e.proxy_)?d:e.target_));return{value:Tt(null!=(s=null==(a=t.options_)?void 0:a.name)?s:i.toString(),u,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function Xe(e,t){return{annotationType_:e,options_:t,make_:We,extend_:Fe}}function We(e,t,i,n){var o;if(n===e.target_)return null===this.extend_(e,t,i,!1)?0:2;if((null==(o=this.options_)?void 0:o.bound)&&!Mi(e.target_[t])&&null===this.extend_(e,t,i,!1))return 0;if(Mi(i.value))return 1;var r=Je(e,this,t,i,!1,!1);return Q(n,t,r),2}function Fe(e,t,i,n){var o,r=Je(e,this,t,i,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,r,n)}function Je(e,t,i,n,o,r){void 0===r&&(r=ei.safeDescriptors),function(e,t,i,n){var o=t.annotationType_,r=n.value;"production"===process.env.NODE_ENV||ce(r)||X("Cannot apply '"+o+"' to '"+e.name_+"."+i.toString()+"':\n'"+o+"' can only be used on properties with a generator function value.")}(e,t,i,n);var s,a=n.value;o&&(a=a.bind(null!=(s=e.proxy_)?s:e.target_));return{value:Ri(a),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function Ye(e,t){return{annotationType_:e,options_:t,make_:Qe,extend_:Ze}}function Qe(e,t,i){return null===this.extend_(e,t,i,!1)?0:1}function Ze(e,t,i,n){return function(e,t,i,n){var o=t.annotationType_,r=n.get;"production"===process.env.NODE_ENV||r||X("Cannot apply '"+o+"' to '"+e.name_+"."+i.toString()+"':\n'"+o+"' can only be used on getter(+setter) properties.")}(e,this,t,i),e.defineComputedProperty_(t,Ae({},this.options_,{get:i.get,set:i.set}),n)}function et(e,t){return{annotationType_:e,options_:t,make_:tt,extend_:it}}function tt(e,t,i){return null===this.extend_(e,t,i,!1)?0:1}function it(e,t,i,n){var o,r;return function(e,t,i,n){var o=t.annotationType_;"production"===process.env.NODE_ENV||"value"in n||X("Cannot apply '"+o+"' to '"+e.name_+"."+i.toString()+"':\n'"+o+"' cannot be used on getter/setter properties")}(e,this,t,i),e.defineObservableProperty_(t,i.value,null!=(o=null==(r=this.options_)?void 0:r.enhancer)?o:Me,n)}var nt=ot();function ot(e){return{annotationType_:"true",options_:e,make_:rt,extend_:st}}function rt(e,t,i,n){var o,r,s,a;if(i.get)return wt.make_(e,t,i,n);if(i.set){var l=Tt(t.toString(),i.set);return n===e.target_?null===e.defineProperty_(t,{configurable:!ei.safeDescriptors||e.isPlainObject_,set:l})?0:2:(Q(n,t,{configurable:!0,set:l}),2)}if(n!==e.target_&&"function"==typeof i.value)return pe(i.value)?((null==(a=this.options_)?void 0:a.autoBind)?Ri.bound:Ri).make_(e,t,i,n):((null==(s=this.options_)?void 0:s.autoBind)?Ai.bound:Ai).make_(e,t,i,n);var c,d=!1===(null==(o=this.options_)?void 0:o.deep)?_t.ref:_t;"function"==typeof i.value&&(null==(r=this.options_)?void 0:r.autoBind)&&(i.value=i.value.bind(null!=(c=e.proxy_)?c:e.target_));return d.make_(e,t,i,n)}function st(e,t,i,n){var o,r,s;if(i.get)return wt.extend_(e,t,i,n);if(i.set)return e.defineProperty_(t,{configurable:!ei.safeDescriptors||e.isPlainObject_,set:Tt(t.toString(),i.set)},n);"function"==typeof i.value&&(null==(o=this.options_)?void 0:o.autoBind)&&(i.value=i.value.bind(null!=(s=e.proxy_)?s:e.target_));return(!1===(null==(r=this.options_)?void 0:r.deep)?_t.ref:_t).extend_(e,t,i,n)}var at={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function lt(e){return e||at}Object.freeze(at);var ct=et("observable"),dt=et("observable.ref",{enhancer:ze}),ut=et("observable.shallow",{enhancer:function(e,t,i){return null==e||Dn(e)||fn(e)||wn(e)||Nn(e)?e:Array.isArray(e)?_t.array(e,{name:i,deep:!1}):he(e)?_t.object(e,void 0,{name:i,deep:!1}):ge(e)?_t.map(e,{name:i,deep:!1}):be(e)?_t.set(e,{name:i,deep:!1}):void("production"!==process.env.NODE_ENV&&X("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets"))}}),ht=et("observable.struct",{enhancer:function(e,t){return"production"!==process.env.NODE_ENV&&Ui(e)&&X("observable.struct should not be used with observable values"),Kn(e,t)?t:e}}),pt=He(ct);function vt(e){return!0===e.deep?Me:!1===e.deep?ze:(t=e.defaultDecorator)&&null!=(i=null==(n=t.options_)?void 0:n.enhancer)?i:Me;var t,i,n}function mt(e,t,i){if(!de(t))return Ui(e)?e:he(e)?_t.object(e,t,i):Array.isArray(e)?_t.array(e,t):ge(e)?_t.map(e,t):be(e)?_t.set(e,t):"object"==typeof e&&null!==e?e:_t.box(e,t);Le(e,t,ct)}Object.assign(mt,pt);var ft,gt,bt={box:function(e,t){var i=lt(t);return new Ht(e,vt(i),i.name,!0,i.equals)},array:function(e,t){var i=lt(t);return(!1===ei.useProxies||!1===i.proxy?zn:an)(e,vt(i),i.name)},map:function(e,t){var i=lt(t);return new xn(e,vt(i),i.name)},set:function(e,t){var i=lt(t);return new Sn(e,vt(i),i.name)},object:function(e,t,i){return function(e,t,i,n){"production"!==process.env.NODE_ENV&&(arguments.length>4&&X("'extendObservable' expected 2-4 arguments"),"object"!=typeof e&&X("'extendObservable' expects an object as first argument"),wn(e)&&X("'extendObservable' should not be used on maps, use map.merge instead"),he(t)||X("'extendObservabe' only accepts plain objects as second argument"),(Ui(t)||Ui(i))&&X("Extending an object with another observable (object) is not supported"));var o=Se(t),r=Tn(e,n)[Ie];oi();try{ye(o).forEach((function(e){r.extend_(e,o[e],!i||(!(e in i)||i[e]))}))}finally{ri()}return e}(!1===ei.useProxies||!1===(null==i?void 0:i.proxy)?Tn({},i):function(e,t){var i,n;return oe(),e=Tn(e,t),null!=(n=(i=e[Ie]).proxy_)?n:i.proxy_=new Proxy(e,Fi)}({},i),e,t)},ref:He(dt),shallow:He(ut),deep:pt,struct:He(ht)},_t=J(mt,bt),yt=Ye("computed"),xt=Ye("computed.struct",{equals:Be.structural}),wt=function(e,t){if(de(t))return Le(e,t,yt);if(he(e))return He(Ye("computed",e));"production"!==process.env.NODE_ENV&&(ce(e)||X("First argument to `computed` should be an expression."),ce(t)&&X("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var i=he(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new Vt(i)};Object.assign(wt,yt),wt.struct=He(xt);var Et,St=0,Nt=1,Ot=null!=(ft=null==(gt=Y((function(){}),"name"))?void 0:gt.configurable)&&ft,At={value:"action",configurable:!0,writable:!1,enumerable:!1};function Tt(e,t,i,n){function o(){return Ct(e,i,t,n||this,arguments)}return void 0===i&&(i=!1),"production"!==process.env.NODE_ENV&&(ce(t)||X("`action` can only be invoked on functions"),"string"==typeof e&&e||X("actions should have valid names, got: '"+e+"'")),o.isMobxAction=!0,Ot&&(At.value=e,Object.defineProperty(o,"name",At)),o}function Ct(e,t,i,n,o){var r=function(e,t,i,n){var o="production"!==process.env.NODE_ENV&&mi()&&!!e,r=0;if("production"!==process.env.NODE_ENV&&o){r=Date.now();var s=n?Array.from(n):ee;gi({type:yi,name:e,object:i,arguments:s})}var a=ei.trackingDerivation,l=!t||!a;oi();var c=ei.allowStateChanges;l&&(Kt(),c=kt(!0));var d=Wt(!0),u={runAsAction_:l,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:d,notifySpy_:o,startTime_:r,actionId_:Nt++,parentActionId_:St};return St=u.actionId_,u}(e,t,n,o);try{return i.apply(n,o)}catch(e){throw r.error_=e,e}finally{!function(e){St!==e.actionId_&&X(30);St=e.parentActionId_,void 0!==e.error_&&(ei.suppressReactionErrors=!0);Dt(e.prevAllowStateChanges_),Ft(e.prevAllowStateReads_),ri(),e.runAsAction_&&Xt(e.prevDerivation_);"production"!==process.env.NODE_ENV&&e.notifySpy_&&_i({time:Date.now()-e.startTime_});ei.suppressReactionErrors=!1}(r)}}function kt(e){var t=ei.allowStateChanges;return ei.allowStateChanges=e,t}function Dt(e){ei.allowStateChanges=e}Et=Symbol.toPrimitive;var Pt,Ht=function(e){function t(t,i,n,o,r){var s;return void 0===n&&(n="production"!==process.env.NODE_ENV?"ObservableValue@"+se():"ObservableValue"),void 0===o&&(o=!0),void 0===r&&(r=Be.default),(s=e.call(this,n)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=i,s.name_=n,s.equals=r,s.value_=i(t,void 0,n),"production"!==process.env.NODE_ENV&&o&&mi()&&fi({type:"create",object:Ce(s),observableKind:"value",debugObjectName:s.name_,newValue:""+s.value_}),s}Te(t,e);var i=t.prototype;return i.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},i.set=function(e){var t=this.value_;if((e=this.prepareNewValue_(e))!==ei.UNCHANGED){var i=mi();"production"!==process.env.NODE_ENV&&i&&gi({type:on,object:this,observableKind:"value",debugObjectName:this.name_,newValue:e,oldValue:t}),this.setNewValue_(e),"production"!==process.env.NODE_ENV&&i&&_i()}},i.prepareNewValue_=function(e){if(Ut(this),Ji(this)){var t=Qi(this,{object:this,type:on,newValue:e});if(!t)return ei.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?ei.UNCHANGED:e},i.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Zi(this)&&tn(this,{type:on,object:this,newValue:e,oldValue:t})},i.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},i.intercept_=function(e){return Yi(this,e)},i.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:on,newValue:this.value_,oldValue:void 0}),en(this,e)},i.raw=function(){return this.value_},i.toJSON=function(){return this.get()},i.toString=function(){return this.name_+"["+this.value_+"]"},i.valueOf=function(){return we(this.get())},i[Et]=function(){return this.valueOf()},t}(je),Lt=fe("ObservableValue",Ht);Pt=Symbol.toPrimitive;var It,jt,Vt=function(){function e(e){this.dependenciesState_=It.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=It.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Bt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=jt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||X(31),this.derivation=e.get,this.name_=e.name||("production"!==process.env.NODE_ENV?"ComputedValue@"+se():"ComputedValue"),e.set&&(this.setter_=Tt("production"!==process.env.NODE_ENV?this.name_+"-setter":"ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Be.structural:Be.default),this.scope_=e.context,this.requiresReaction_=!!e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==It.UP_TO_DATE_)return;e.lowestObserverState_=It.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===It.UP_TO_DATE_&&(e.dependenciesState_=It.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&X(32,this.name_,this.derivation),0!==ei.inBatch||0!==this.observers_.size||this.keepAlive_){if(si(this),zt(this)){var e=ei.trackingContext;this.keepAlive_&&!e&&(ei.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===It.STALE_)return;e.lowestObserverState_=It.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===It.POSSIBLY_STALE_?(t.dependenciesState_=It.STALE_,"production"!==process.env.NODE_ENV&&t.isTracing_!==jt.NONE&&li(t,e)):t.dependenciesState_===It.UP_TO_DATE_&&(e.lowestObserverState_=It.UP_TO_DATE_)}))}(this),ei.trackingContext=e}}else zt(this)&&(this.warnAboutUntrackedRead_(),oi(),this.value_=this.computeValue_(!1),ri());var t=this.value_;if(Mt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&X(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else X(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===It.NOT_TRACKING_,i=this.computeValue_(!0);"production"!==process.env.NODE_ENV&&mi()&&fi({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:this.value_,newValue:i});var n=t||Mt(e)||Mt(i)||!this.equals_(e,i);return n&&(this.value_=i),n},t.computeValue_=function(e){this.isComputing_=!0;var t,i=kt(!1);if(e)t=$t(this,this.derivation,this.scope_);else if(!0===ei.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Bt(e)}return Dt(i),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(qt(this),this.value_=void 0)},t.observe_=function(e,t){var i=this,n=!0,o=void 0;return Ci((function(){var r=i.get();if(!n||t){var s=Kt();e({observableKind:"computed",debugObjectName:i.name_,type:on,object:i,newValue:r,oldValue:o}),Xt(s)}n=!1,o=r}))},t.warnAboutUntrackedRead_=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction_&&X("[mobx] Computed value "+this.name_+" is read outside a reactive context"),this.isTracing_!==jt.NONE&&console.log("[mobx.trace] '"+this.name_+"' is being read outside a reactive context. Doing a full recompute"),ei.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name_+" is being read outside a reactive context. Doing a full recompute"))},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return we(this.get())},t[Pt]=function(){return this.valueOf()},e}(),Rt=fe("ComputedValue",Vt);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(It||(It={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(jt||(jt={}));var Bt=function(e){this.cause=void 0,this.cause=e};function Mt(e){return e instanceof Bt}function zt(e){switch(e.dependenciesState_){case It.UP_TO_DATE_:return!1;case It.NOT_TRACKING_:case It.STALE_:return!0;case It.POSSIBLY_STALE_:for(var t=Wt(!0),i=Kt(),n=e.observing_,o=n.length,r=0;r<o;r++){var s=n[r];if(Rt(s)){if(ei.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return Xt(i),Ft(t),!0}if(e.dependenciesState_===It.STALE_)return Xt(i),Ft(t),!0}}return Jt(e),Xt(i),Ft(t),!1}}function Ut(e){if("production"!==process.env.NODE_ENV){var t=e.observers_.size>0;ei.allowStateChanges||!t&&"always"!==ei.enforceActions||console.warn("[MobX] "+(ei.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+e.name_)}}function $t(e,t,i){var n=Wt(!0);Jt(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++ei.runId;var o,r=ei.trackingDerivation;if(ei.trackingDerivation=e,ei.inBatch++,!0===ei.disableErrorBoundaries)o=t.call(i);else try{o=t.call(i)}catch(e){o=new Bt(e)}return ei.inBatch--,ei.trackingDerivation=r,function(e){for(var t=e.observing_,i=e.observing_=e.newObserving_,n=It.UP_TO_DATE_,o=0,r=e.unboundDepsCount_,s=0;s<r;s++){var a=i[s];0===a.diffValue_&&(a.diffValue_=1,o!==s&&(i[o]=a),o++),a.dependenciesState_>n&&(n=a.dependenciesState_)}i.length=o,e.newObserving_=null,r=t.length;for(;r--;){var l=t[r];0===l.diffValue_&&ii(l,e),l.diffValue_=0}for(;o--;){var c=i[o];1===c.diffValue_&&(c.diffValue_=0,ti(c,e))}n!==It.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}(e),function(e){if("production"===process.env.NODE_ENV)return;if(0!==e.observing_.length)return;(ei.reactionRequiresObservable||e.requiresObservable_)&&console.warn("[mobx] Derivation "+e.name_+" is created/updated without reading any observable value")}(e),Ft(n),o}function qt(e){var t=e.observing_;e.observing_=[];for(var i=t.length;i--;)ii(t[i],e);e.dependenciesState_=It.NOT_TRACKING_}function Gt(e){var t=Kt();try{return e()}finally{Xt(t)}}function Kt(){var e=ei.trackingDerivation;return ei.trackingDerivation=null,e}function Xt(e){ei.trackingDerivation=e}function Wt(e){var t=ei.allowStateReads;return ei.allowStateReads=e,t}function Ft(e){ei.allowStateReads=e}function Jt(e){if(e.dependenciesState_!==It.UP_TO_DATE_){e.dependenciesState_=It.UP_TO_DATE_;for(var t=e.observing_,i=t.length;i--;)t[i].lowestObserverState_=It.UP_TO_DATE_}}var Yt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Qt=!0,Zt=!1,ei=function(){var e=F();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Qt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Yt).version&&(Qt=!1),Qt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Yt):(setTimeout((function(){Zt||X(35)}),1),new Yt)}();function ti(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function ii(e,t){e.observers_.delete(t),0===e.observers_.size&&ni(e)}function ni(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,ei.pendingUnobservations.push(e))}function oi(){ei.inBatch++}function ri(){if(0==--ei.inBatch){hi();for(var e=ei.pendingUnobservations,t=0;t<e.length;t++){var i=e[t];i.isPendingUnobservation_=!1,0===i.observers_.size&&(i.isBeingObserved_&&(i.isBeingObserved_=!1,i.onBUO()),i instanceof Vt&&i.suspend_())}ei.pendingUnobservations=[]}}function si(e){!function(e){"production"!==process.env.NODE_ENV&&!ei.allowStateReads&&ei.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name_+" being read outside a reactive context")}(e);var t=ei.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&ei.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&ei.inBatch>0&&ni(e),!1)}function ai(e){e.lowestObserverState_!==It.STALE_&&(e.lowestObserverState_=It.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===It.UP_TO_DATE_&&("production"!==process.env.NODE_ENV&&t.isTracing_!==jt.NONE&&li(t,e),t.onBecomeStale_()),t.dependenciesState_=It.STALE_})))}function li(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===jt.BREAK){var i=[];ci(Hi(Un(e,n)),i,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Vt?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+i.join("\n")+"\n*/\n    ")()}var n}function ci(e,t,i){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(i).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return ci(e,t,i+1)})))}var di=function(){function e(e,t,i,n){void 0===e&&(e="production"!==process.env.NODE_ENV?"Reaction@"+se():"Reaction"),void 0===n&&(n=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=It.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=jt.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=i,this.requiresObservable_=n}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ei.pendingReactions.push(this),hi())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){oi(),this.isScheduled_=!1;var e=ei.trackingContext;if(ei.trackingContext=this,zt(this)){this.isTrackPending_=!0;try{this.onInvalidate_(),"production"!==process.env.NODE_ENV&&this.isTrackPending_&&mi()&&fi({name:this.name_,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation_(e)}}ei.trackingContext=e,ri()}},t.track=function(e){if(!this.isDisposed_){oi();var t,i=mi();"production"!==process.env.NODE_ENV&&i&&(t=Date.now(),gi({name:this.name_,type:"reaction"})),this.isRunning_=!0;var n=ei.trackingContext;ei.trackingContext=this;var o=$t(this,e,void 0);ei.trackingContext=n,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&qt(this),Mt(o)&&this.reportExceptionInDerivation_(o.cause),"production"!==process.env.NODE_ENV&&i&&_i({time:Date.now()-t}),ri()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(ei.disableErrorBoundaries)throw e;var i="production"!==process.env.NODE_ENV?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";ei.suppressReactionErrors?"production"!==process.env.NODE_ENV&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(i,e),"production"!==process.env.NODE_ENV&&mi()&&fi({type:"error",name:this.name_,message:i,error:""+e}),ei.globalReactionErrorHandlers.forEach((function(i){return i(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(oi(),qt(this),ri()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[Ie]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){"production"===process.env.NODE_ENV&&X("trace() is not available in production builds");for(var e=!1,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];"boolean"==typeof i[i.length-1]&&(e=i.pop());var o=Ki(i);if(!o)return X("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===jt.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled");o.isTracing_=e?jt.BREAK:jt.LOG}(this,e)},e}(),ui=function(e){return e()};function hi(){ei.inBatch>0||ei.isRunningReactions||ui(pi)}function pi(){ei.isRunningReactions=!0;for(var e=ei.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("production"!==process.env.NODE_ENV?"Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]:"[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var i=e.splice(0),n=0,o=i.length;n<o;n++)i[n].runReaction_()}ei.isRunningReactions=!1}var vi=fe("Reaction",di);function mi(){return"production"!==process.env.NODE_ENV&&!!ei.spyListeners.length}function fi(e){if("production"!==process.env.NODE_ENV&&ei.spyListeners.length)for(var t=ei.spyListeners,i=0,n=t.length;i<n;i++)t[i](e)}function gi(e){"production"!==process.env.NODE_ENV&&fi(Ae({},e,{spyReportStart:!0}))}var bi={type:"report-end",spyReportEnd:!0};function _i(e){"production"!==process.env.NODE_ENV&&fi(e?Ae({},e,{type:"report-end",spyReportEnd:!0}):bi)}var yi="action",xi=$e(yi),wi=$e("action.bound",{bound:!0}),Ei=$e("autoAction",{autoAction:!0}),Si=$e("autoAction.bound",{autoAction:!0,bound:!0});function Ni(e){return function(t,i){return ce(t)?Tt(t.name||"<unnamed action>",t,e):ce(i)?Tt(t,i,e):de(i)?Le(t,i,e?Ei:xi):de(t)?He($e(e?"autoAction":yi,{name:t,autoAction:e})):void("production"!==process.env.NODE_ENV&&X("Invalid arguments for `action`"))}}var Oi=Ni(!1);Object.assign(Oi,xi);var Ai=Ni(!0);function Ti(e){return ce(e)&&!0===e.isMobxAction}function Ci(e,t){var i,n;void 0===t&&(t=te),"production"!==process.env.NODE_ENV&&(ce(e)||X("Autorun expects a function as first argument"),Ti(e)&&X("Autorun does not accept actions since actions are untrackable"));var o,r=null!=(i=null==(n=t)?void 0:n.name)?i:"production"!==process.env.NODE_ENV?e.name||"Autorun@"+se():"Autorun";if(!t.scheduler&&!t.delay)o=new di(r,(function(){this.track(l)}),t.onError,t.requiresObservable);else{var s=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ki}(t),a=!1;o=new di(r,(function(){a||(a=!0,s((function(){a=!1,o.isDisposed_||o.track(l)})))}),t.onError,t.requiresObservable)}function l(){e(o)}return o.schedule_(),o.getDisposer_()}Object.assign(Ai,Ei),Oi.bound=He(wi),Ai.bound=He(Si);var ki=function(e){return e()};function Di(e,t,i){return Pi("onBUO",e,t,i)}function Pi(e,t,i,n){var o="function"==typeof n?Un(t,i):Un(t),r=ce(n)?n:i,s=e+"L";return o[s]?o[s].add(r):o[s]=new Set([r]),function(){var e=o[s];e&&(e.delete(r),0===e.size&&delete o[s])}}function Hi(e){var t,i={name:e.name_};return e.observing_&&e.observing_.length>0&&(i.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Hi)),i}var Li=0;function Ii(){this.message="FLOW_CANCELLED"}Ii.prototype=Object.create(Error.prototype);var ji=Xe("flow"),Vi=Xe("flow.bound",{bound:!0}),Ri=Object.assign((function(e,t){if(de(t))return Le(e,t,ji);"production"!==process.env.NODE_ENV&&1!==arguments.length&&X("Flow expects single argument with generator function");var i=e,n=i.name||"<unnamed flow>",o=function(){var e,t=this,o=arguments,r=++Li,s=Oi(n+" - runid: "+r+" - init",i).apply(t,o),a=void 0,l=new Promise((function(t,i){var o=0;function l(e){var t;a=void 0;try{t=Oi(n+" - runid: "+r+" - yield "+o++,s.next).call(s,e)}catch(e){return i(e)}d(t)}function c(e){var t;a=void 0;try{t=Oi(n+" - runid: "+r+" - yield "+o++,s.throw).call(s,e)}catch(e){return i(e)}d(t)}function d(e){if(!ce(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(l,c);e.then(d,i)}e=i,l(void 0)}));return l.cancel=Oi(n+" - runid: "+r+" - cancel",(function(){try{a&&Bi(a);var t=s.return(void 0),i=Promise.resolve(t.value);i.then(le,le),Bi(i),e(new Ii)}catch(t){e(t)}})),l};return o.isMobXFlow=!0,o}),ji);function Bi(e){ce(e.cancel)&&e.cancel()}function Mi(e){return!0===(null==e?void 0:e.isMobXFlow)}function zi(e,t){return!!e&&(void 0!==t?"production"!==process.env.NODE_ENV&&(wn(e)||fn(e))?X("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Dn(e)&&e[Ie].values_.has(t):Dn(e)||!!e[Ie]||Ve(e)||vi(e)||Rt(e))}function Ui(e){return"production"!==process.env.NODE_ENV&&1!==arguments.length&&X("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),zi(e)}function $i(e,t,i){return e.set(t,i),i}function qi(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!Ui(e))return e;if(Lt(e)||Rt(e))return qi(e.get(),t);if(t.has(e))return t.get(e);if(fn(e)){var i=$i(t,e,new Array(e.length));return e.forEach((function(e,n){i[n]=qi(e,t)})),i}if(Nn(e)){var n=$i(t,e,new Set);return e.forEach((function(e){n.add(qi(e,t))})),n}if(wn(e)){var o=$i(t,e,new Map);return e.forEach((function(e,i){o.set(i,qi(e,t))})),o}var r=$i(t,e,{});return function(e){if(Dn(e))return e[Ie].ownKeys_();X(38)}(e).forEach((function(i){Z.propertyIsEnumerable.call(e,i)&&(r[i]=qi(e[i],t))})),r}function Gi(e,t){return"production"!==process.env.NODE_ENV&&t&&X("toJS no longer supports options"),qi(e,new Map)}function Ki(e){switch(e.length){case 0:return ei.trackingDerivation;case 1:return Un(e[0]);case 2:return Un(e[0],e[1])}}function Xi(e,t){void 0===t&&(t=void 0),oi();try{return e.apply(t)}finally{ri()}}function Wi(e){return e[Ie]}Ri.bound=He(Vi);var Fi={has:function(e,t){return"production"!==process.env.NODE_ENV&&ei.trackingDerivation&&re("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),Wi(e).has_(t)},get:function(e,t){return Wi(e).get_(t)},set:function(e,t,i){var n;return!!de(t)&&("production"===process.env.NODE_ENV||Wi(e).values_.has(t)||re("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),null==(n=Wi(e).set_(t,i,!0))||n)},deleteProperty:function(e,t){var i;return"production"!==process.env.NODE_ENV&&re("delete properties from an observable object. Use 'remove' from 'mobx' instead."),!!de(t)&&(null==(i=Wi(e).delete_(t,!0))||i)},defineProperty:function(e,t,i){var n;return"production"!==process.env.NODE_ENV&&re("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),null==(n=Wi(e).defineProperty_(t,i))||n},ownKeys:function(e){return"production"!==process.env.NODE_ENV&&ei.trackingDerivation&&re("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),Wi(e).ownKeys_()},preventExtensions:function(e){X(13)}};function Ji(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Yi(e,t){var i=e.interceptors_||(e.interceptors_=[]);return i.push(t),ae((function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}function Qi(e,t){var i=Kt();try{for(var n=[].concat(e.interceptors_||[]),o=0,r=n.length;o<r&&((t=n[o](t))&&!t.type&&X(14),t);o++);return t}finally{Xt(i)}}function Zi(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function en(e,t){var i=e.changeListeners_||(e.changeListeners_=[]);return i.push(t),ae((function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}function tn(e,t){var i=Kt(),n=e.changeListeners_;if(n){for(var o=0,r=(n=n.slice()).length;o<r;o++)n[o](t);Xt(i)}}function nn(e,t,i){var n=Tn(e,i)[Ie];oi();try{null!=t||(t=function(e){return Ee(e,Pe)||("production"===process.env.NODE_ENV||e[Pe]||X("No annotations were passed to makeObservable, but no decorated members have been found either"),ve(e,Pe,Ae({},e[Pe]))),e[Pe]}(e)),ye(t).forEach((function(e){return n.make_(e,t[e])}))}finally{ri()}return e}var on="update",rn={get:function(e,t){var i=e[Ie];return t===Ie?i:"length"===t?i.getArrayLength_():"string"!=typeof t||isNaN(t)?Ee(ln,t)?ln[t]:e[t]:i.get_(parseInt(t))},set:function(e,t,i){var n=e[Ie];return"length"===t&&n.setArrayLength_(i),"symbol"==typeof t||isNaN(t)?e[t]=i:n.set_(parseInt(t),i),!0},preventExtensions:function(){X(15)}},sn=function(){function e(e,t,i,n){void 0===e&&(e="production"!==process.env.NODE_ENV?"ObservableArray@"+se():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=n,this.atom_=new je(e),this.enhancer_=function(i,n){return t(i,n,"production"!==process.env.NODE_ENV?e+"[..]":"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Yi(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),en(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||e<0)&&X("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var i=new Array(e-t),n=0;n<e-t;n++)i[n]=void 0;this.spliceWithArray_(t,0,i)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&X(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Mn(e+t+1)},t.spliceWithArray_=function(e,t,i){var n=this;Ut(this.atom_);var o=this.values_.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===i&&(i=ee),Ji(this)){var r=Qi(this,{object:this.proxy_,type:"splice",index:e,removedCount:t,added:i});if(!r)return ee;t=r.removedCount,i=r.added}if(i=0===i.length?i:i.map((function(e){return n.enhancer_(e,void 0)})),this.legacyMode_||"production"!==process.env.NODE_ENV){var s=i.length-t;this.updateArrayLength_(o,s)}var a=this.spliceItemsIntoValues_(e,t,i);return 0===t&&0===i.length||this.notifyArraySplice_(e,i,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,i){var n;if(i.length<1e4)return(n=this.values_).splice.apply(n,[e,t].concat(i));var o=this.values_.slice(e,e+t),r=this.values_.slice(e+t);this.values_.length=e+i.length-t;for(var s=0;s<i.length;s++)this.values_[e+s]=i[s];for(var a=0;a<r.length;a++)this.values_[e+i.length+a]=r[a];return o},t.notifyArrayChildUpdate_=function(e,t,i){var n=!this.owned_&&mi(),o=Zi(this),r=o||n?{observableKind:"array",object:this.proxy_,type:on,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:i}:null;"production"!==process.env.NODE_ENV&&n&&gi(r),this.atom_.reportChanged(),o&&tn(this,r),"production"!==process.env.NODE_ENV&&n&&_i()},t.notifyArraySplice_=function(e,t,i){var n=!this.owned_&&mi(),o=Zi(this),r=o||n?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:e,removed:i,added:t,removedCount:i.length,addedCount:t.length}:null;"production"!==process.env.NODE_ENV&&n&&gi(r),this.atom_.reportChanged(),o&&tn(this,r),"production"!==process.env.NODE_ENV&&n&&_i()},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("production"!==process.env.NODE_ENV?"[mobx] Out of bounds read: "+e:"[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var i=this.values_;if(e<i.length){Ut(this.atom_);var n=i[e];if(Ji(this)){var o=Qi(this,{type:on,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}(t=this.enhancer_(t,n))!==n&&(i[e]=t,this.notifyArrayChildUpdate_(e,t,n))}else e===i.length?this.spliceWithArray_(e,0,[t]):X(17,e,i.length)},e}();function an(e,t,i,n){void 0===i&&(i="production"!==process.env.NODE_ENV?"ObservableArray@"+se():"ObservableArray"),void 0===n&&(n=!1),oe();var o=new sn(i,t,n,!1);me(o.values_,Ie,o);var r=new Proxy(o.values_,rn);if(o.proxy_=r,e&&e.length){var s=kt(!0);o.spliceWithArray_(0,0,e),Dt(s)}return r}var ln={clear:function(){return this.splice(0)},replace:function(e){var t=this[Ie];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];var r=this[Ie];switch(arguments.length){case 0:return[];case 1:return r.spliceWithArray_(e);case 2:return r.spliceWithArray_(e,t)}return r.spliceWithArray_(e,t,n)},spliceWithArray:function(e,t,i){return this[Ie].spliceWithArray_(e,t,i)},push:function(){for(var e=this[Ie],t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[Ie].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ie],t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return ei.trackingDerivation&&X(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ei.trackingDerivation&&X(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Ie],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1&&(this.splice(i,1),!0)}};function cn(e,t){"function"==typeof Array.prototype[e]&&(ln[e]=t(e))}function dn(e){return function(){var t=this[Ie];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_);return i[e].apply(i,arguments)}}function un(e){return function(t,i){var n=this,o=this[Ie];return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(i,e,o,n)}))}}function hn(e){return function(){var t=this,i=this[Ie];i.atom_.reportObserved();var n=i.dehanceValues_(i.values_),o=arguments[0];return arguments[0]=function(e,i,n){return o(e,i,n,t)},n[e].apply(n,arguments)}}cn("concat",dn),cn("flat",dn),cn("includes",dn),cn("indexOf",dn),cn("join",dn),cn("lastIndexOf",dn),cn("slice",dn),cn("toString",dn),cn("toLocaleString",dn),cn("every",un),cn("filter",un),cn("find",un),cn("findIndex",un),cn("flatMap",un),cn("forEach",un),cn("map",un),cn("some",un),cn("reduce",hn),cn("reduceRight",hn);var pn,vn,mn=fe("ObservableArrayAdministration",sn);function fn(e){return ue(e)&&mn(e[Ie])}var gn={},bn="add";pn=Symbol.iterator,vn=Symbol.toStringTag;var _n,yn,xn=function(){function e(e,t,i){void 0===t&&(t=Me),void 0===i&&(i="production"!==process.env.NODE_ENV?"ObservableMap@"+se():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ie]=gn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=i,ce(Map)||X(18),this.keysAtom_=Re("production"!==process.env.NODE_ENV?this.name_+".keys()":"ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(e)}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!ei.trackingDerivation)return this.has_(e);var i=this.hasMap_.get(e);if(!i){var n=i=new Ht(this.has_(e),ze,"production"!==process.env.NODE_ENV?this.name_+"."+xe(e)+"?":"ObservableMap.key?",!1);this.hasMap_.set(e,n),Di(n,(function(){return t.hasMap_.delete(e)}))}return i.get()},t.set=function(e,t){var i=this.has_(e);if(Ji(this)){var n=Qi(this,{type:i?on:bn,object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return i?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((Ut(this.keysAtom_),Ji(this))&&!Qi(this,{type:"delete",object:this,name:e}))return!1;if(this.has_(e)){var i=mi(),n=Zi(this),o=n||i?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(e).value_,name:e}:null;return"production"!==process.env.NODE_ENV&&i&&gi(o),Xi((function(){t.keysAtom_.reportChanged(),t.updateHasMapEntry_(e,!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&tn(this,o),"production"!==process.env.NODE_ENV&&i&&_i(),!0}return!1},t.updateHasMapEntry_=function(e,t){var i=this.hasMap_.get(e);i&&i.setNewValue_(t)},t.updateValue_=function(e,t){var i=this.data_.get(e);if((t=i.prepareNewValue_(t))!==ei.UNCHANGED){var n=mi(),o=Zi(this),r=o||n?{observableKind:"map",debugObjectName:this.name_,type:on,object:this,oldValue:i.value_,name:e,newValue:t}:null;"production"!==process.env.NODE_ENV&&n&&gi(r),i.setNewValue_(t),o&&tn(this,r),"production"!==process.env.NODE_ENV&&n&&_i()}},t.addValue_=function(e,t){var i=this;Ut(this.keysAtom_),Xi((function(){var n=new Ht(t,i.enhancer_,"production"!==process.env.NODE_ENV?i.name_+"."+xe(e):"ObservableMap.key",!1);i.data_.set(e,n),t=n.value_,i.updateHasMapEntry_(e,!0),i.keysAtom_.reportChanged()}));var n=mi(),o=Zi(this),r=o||n?{observableKind:"map",debugObjectName:this.name_,type:bn,object:this,name:e,newValue:t}:null;"production"!==process.env.NODE_ENV&&n&&gi(r),o&&tn(this,r),"production"!==process.env.NODE_ENV&&n&&_i()},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Fn({next:function(){var i=t.next(),n=i.done,o=i.value;return{done:n,value:n?void 0:e.get(o)}}})},t.entries=function(){var e=this,t=this.keys();return Fn({next:function(){var i=t.next(),n=i.done,o=i.value;return{done:n,value:n?void 0:[o,e.get(o)]}}})},t[pn]=function(){return this.entries()},t.forEach=function(e,t){for(var i,n=De(this);!(i=n()).done;){var o=i.value,r=o[0],s=o[1];e.call(t,s,r,this)}},t.merge=function(e){var t=this;return wn(e)&&(e=new Map(e)),Xi((function(){he(e)?function(e){var t=Object.keys(e);if(!_e)return t;var i=Object.getOwnPropertySymbols(e);return i.length?[].concat(t,i.filter((function(t){return Z.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(i){return t.set(i,e[i])})):Array.isArray(e)?e.forEach((function(e){var i=e[0],n=e[1];return t.set(i,n)})):ge(e)?(e.constructor!==Map&&X(19,e),e.forEach((function(e,i){return t.set(i,e)}))):null!=e&&X(20,e)})),this},t.clear=function(){var e=this;Xi((function(){Gt((function(){for(var t,i=De(e.keys());!(t=i()).done;){var n=t.value;e.delete(n)}}))}))},t.replace=function(e){var t=this;return Xi((function(){for(var i,n=function(e){if(ge(e)||wn(e))return e;if(Array.isArray(e))return new Map(e);if(he(e)){var t=new Map;for(var i in e)t.set(i,e[i]);return t}return X(21,e)}(e),o=new Map,r=!1,s=De(t.data_.keys());!(i=s()).done;){var a=i.value;if(!n.has(a))if(t.delete(a))r=!0;else{var l=t.data_.get(a);o.set(a,l)}}for(var c,d=De(n.entries());!(c=d()).done;){var u=c.value,h=u[0],p=u[1],v=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var m=t.data_.get(h);o.set(h,m),v||(r=!0)}}if(!r)if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var f=t.data_.keys(),g=o.keys(),b=f.next(),_=g.next();!b.done;){if(b.value!==_.value){t.keysAtom_.reportChanged();break}b=f.next(),_=g.next()}t.data_=o})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return"production"!==process.env.NODE_ENV&&!0===t&&X("`observe` doesn't support fireImmediately=true in combination with maps."),en(this,e)},t.intercept_=function(e){return Yi(this,e)},Oe(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:vn,get:function(){return"Map"}}]),e}(),wn=fe("ObservableMap",xn);var En={};_n=Symbol.iterator,yn=Symbol.toStringTag;var Sn=function(){function e(e,t,i){void 0===t&&(t=Me),void 0===i&&(i="production"!==process.env.NODE_ENV?"ObservableSet@"+se():"ObservableSet"),this.name_=void 0,this[Ie]=En,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,ce(Set)||X(22),this.atom_=Re(this.name_),this.enhancer_=function(e,n){return t(e,n,i)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Xi((function(){Gt((function(){for(var t,i=De(e.data_.values());!(t=i()).done;){var n=t.value;e.delete(n)}}))}))},t.forEach=function(e,t){for(var i,n=De(this);!(i=n()).done;){var o=i.value;e.call(t,o,o,this)}},t.add=function(e){var t=this;if((Ut(this.atom_),Ji(this))&&!Qi(this,{type:bn,object:this,newValue:e}))return this;if(!this.has(e)){Xi((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var i="production"!==process.env.NODE_ENV&&mi(),n=Zi(this),o=n||i?{observableKind:"set",debugObjectName:this.name_,type:bn,object:this,newValue:e}:null;i&&"production"!==process.env.NODE_ENV&&gi(o),n&&tn(this,o),i&&"production"!==process.env.NODE_ENV&&_i()}return this},t.delete=function(e){var t=this;if(Ji(this)&&!Qi(this,{type:"delete",object:this,oldValue:e}))return!1;if(this.has(e)){var i="production"!==process.env.NODE_ENV&&mi(),n=Zi(this),o=n||i?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:e}:null;return i&&"production"!==process.env.NODE_ENV&&gi(o),Xi((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&tn(this,o),i&&"production"!==process.env.NODE_ENV&&_i(),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),i=Array.from(this.values());return Fn({next:function(){var n=e;return e+=1,n<i.length?{value:[t[n],i[n]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,i=Array.from(this.data_.values());return Fn({next:function(){return t<i.length?{value:e.dehanceValue_(i[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Nn(e)&&(e=new Set(e)),Xi((function(){Array.isArray(e)||be(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&X("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return"production"!==process.env.NODE_ENV&&!0===t&&X("`observe` doesn't support fireImmediately=true in combination with sets."),en(this,e)},t.intercept_=function(e){return Yi(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[_n]=function(){return this.values()},Oe(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:yn,get:function(){return"Set"}}]),e}(),Nn=fe("ObservableSet",Sn),On=Object.create(null),An=function(){function e(e,t,i,n){void 0===t&&(t=new Map),void 0===n&&(n=nt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=i,this.defaultAnnotation_=n,this.keysAtom_=new je("production"!==process.env.NODE_ENV?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=he(this.target_),"production"===process.env.NODE_ENV||Yn(this.defaultAnnotation_)||X("defaultAnnotation must be valid annotation"),"production"!==process.env.NODE_ENV&&(this.appliedAnnotations_={})}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var i=this.values_.get(e);if(i instanceof Vt)return i.set(t),!0;if(Ji(this)){var n=Qi(this,{type:on,object:this.proxy_||this.target_,name:e,newValue:t});if(!n)return null;t=n.newValue}if((t=i.prepareNewValue_(t))!==ei.UNCHANGED){var o=Zi(this),r="production"!==process.env.NODE_ENV&&mi(),s=o||r?{type:on,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:e,newValue:t}:null;"production"!==process.env.NODE_ENV&&r&&gi(s),i.setNewValue_(t),o&&tn(this,s),"production"!==process.env.NODE_ENV&&r&&_i()}return!0},t.get_=function(e){return ei.trackingDerivation&&!Ee(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,i){return void 0===i&&(i=!1),Ee(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):i?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(e){if(!ei.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ht(e in this.target_,ze,"production"!==process.env.NODE_ENV?this.name_+"."+xe(e)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(Hn(this,t,e),!(e in this.target_)){var i;if(null==(i=this.target_[Pe])?void 0:i[e])return;X(1,t.annotationType_,this.name_+"."+e.toString())}for(var n=this.target_;n&&n!==Z;){var o=Y(n,e);if(o){var r=t.make_(this,e,o,n);if(0===r)return;if(1===r)break}n=Object.getPrototypeOf(n)}Pn(this,t,e)}},t.extend_=function(e,t,i,n){if(void 0===n&&(n=!1),!0===i&&(i=this.defaultAnnotation_),!1===i)return this.defineProperty_(e,t,n);Hn(this,i,e);var o=i.extend_(this,e,t,n);return o&&Pn(this,i,e),o},t.defineProperty_=function(e,t,i){void 0===i&&(i=!1);try{oi();var n=this.delete_(e);if(!n)return n;if(Ji(this)){var o=Qi(this,{object:this.proxy_||this.target_,name:e,type:bn,newValue:t.value});if(!o)return null;var r=o.newValue;t.value!==r&&(t=Ae({},t,{value:r}))}if(i){if(!Reflect.defineProperty(this.target_,e,t))return!1}else Q(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{ri()}return!0},t.defineObservableProperty_=function(e,t,i,n){void 0===n&&(n=!1);try{oi();var o=this.delete_(e);if(!o)return o;if(Ji(this)){var r=Qi(this,{object:this.proxy_||this.target_,name:e,type:bn,newValue:t});if(!r)return null;t=r.newValue}var s=kn(e),a={configurable:!ei.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else Q(this.target_,e,a);var l=new Ht(t,i,"production"!==process.env.NODE_ENV?this.name_+"."+e.toString():"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{ri()}return!0},t.defineComputedProperty_=function(e,t,i){void 0===i&&(i=!1);try{oi();var n=this.delete_(e);if(!n)return n;if(Ji(this))if(!Qi(this,{object:this.proxy_||this.target_,name:e,type:bn,newValue:void 0}))return null;t.name||(t.name="production"!==process.env.NODE_ENV?this.name_+"."+e.toString():"ObservableObject.key"),t.context=this.proxy_||this.target_;var o=kn(e),r={configurable:!ei.safeDescriptors||this.isPlainObject_,enumerable:!1,get:o.get,set:o.set};if(i){if(!Reflect.defineProperty(this.target_,e,r))return!1}else Q(this.target_,e,r);this.values_.set(e,new Vt(t)),this.notifyPropertyAddition_(e,void 0)}finally{ri()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!Ee(this.target_,e))return!0;if(Ji(this)&&!Qi(this,{object:this.proxy_||this.target_,name:e,type:"remove"}))return null;try{var i,n;oi();var o,r=Zi(this),s="production"!==process.env.NODE_ENV&&mi(),a=this.values_.get(e),l=void 0;if(!a&&(r||s))l=null==(o=Y(this.target_,e))?void 0:o.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if("production"!==process.env.NODE_ENV&&delete this.appliedAnnotations_[e],a&&(this.values_.delete(e),a instanceof Ht&&(l=a.value_),ai(a)),this.keysAtom_.reportChanged(),null==(i=this.pendingKeys_)||null==(n=i.get(e))||n.set(e in this.target_),r||s){var c={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:e};"production"!==process.env.NODE_ENV&&s&&gi(c),r&&tn(this,c),"production"!==process.env.NODE_ENV&&s&&_i()}}finally{ri()}return!0},t.observe_=function(e,t){return"production"!==process.env.NODE_ENV&&!0===t&&X("`observe` doesn't support the fire immediately property for observable objects."),en(this,e)},t.intercept_=function(e){return Yi(this,e)},t.notifyPropertyAddition_=function(e,t){var i,n,o=Zi(this),r="production"!==process.env.NODE_ENV&&mi();if(o||r){var s=o||r?{type:bn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;"production"!==process.env.NODE_ENV&&r&&gi(s),o&&tn(this,s),"production"!==process.env.NODE_ENV&&r&&_i()}null==(i=this.pendingKeys_)||null==(n=i.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ye(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Tn(e,t){var i;if("production"!==process.env.NODE_ENV&&t&&Dn(e)&&X("Options can't be provided for already observable objects."),Ee(e,Ie))return"production"===process.env.NODE_ENV||$n(e)instanceof An||X("Cannot convert '"+qn(e)+"' into observable object:\nThe target is already observable of different type.\nExtending builtins is not supported."),e;"production"===process.env.NODE_ENV||Object.isExtensible(e)||X("Cannot make the designated object observable; it is not extensible");var n=null!=(i=null==t?void 0:t.name)?i:"production"!==process.env.NODE_ENV?(he(e)?"ObservableObject":e.constructor.name)+"@"+se():"ObservableObject",o=new An(e,new Map,String(n),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:ot(e):void 0}(t));return ve(e,Ie,o),e}var Cn=fe("ObservableObjectAdministration",An);function kn(e){return On[e]||(On[e]={get:function(){return this[Ie].getObservablePropValue_(e)},set:function(t){return this[Ie].setObservablePropValue_(e,t)}})}function Dn(e){return!!ue(e)&&Cn(e[Ie])}function Pn(e,t,i){var n;"production"!==process.env.NODE_ENV&&(e.appliedAnnotations_[i]=t),null==(n=e.target_[Pe])||delete n[i]}function Hn(e,t,i){if("production"===process.env.NODE_ENV||Yn(t)||X("Cannot annotate '"+e.name_+"."+i.toString()+"': Invalid annotation."),"production"!==process.env.NODE_ENV&&!Ue(t)&&Ee(e.appliedAnnotations_,i)){var n=e.name_+"."+i.toString(),o=e.appliedAnnotations_[i].annotationType_;X("Cannot apply '"+t.annotationType_+"' to '"+n+"':\nThe field is already annotated with '"+o+"'.\nRe-annotating fields is not allowed.\nUse 'override' annotation for methods overriden by subclass.")}}var Ln,In,jn=0,Vn=function(){};Ln=Vn,In=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Ln.prototype,In):void 0!==Ln.prototype.__proto__?Ln.prototype.__proto__=In:Ln.prototype=In;var Rn=function(e){function t(t,i,n,o){var r;void 0===n&&(n="production"!==process.env.NODE_ENV?"ObservableArray@"+se():"ObservableArray"),void 0===o&&(o=!1),r=e.call(this)||this;var s=new sn(n,i,o,!0);if(s.proxy_=Ce(r),me(Ce(r),Ie,s),t&&t.length){var a=kt(!0);r.spliceWithArray(0,0,t),Dt(a)}return r}Te(t,e);var i=t.prototype;return i.concat=function(){this[Ie].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return fn(e)?e.slice():e})))},i[Symbol.iterator]=function(){var e=this,t=0;return Fn({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Oe(t,[{key:"length",get:function(){return this[Ie].getArrayLength_()},set:function(e){this[Ie].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(Vn);function Bn(e){Q(Rn.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ie].get_(e)},set:function(t){this[Ie].set_(e,t)}}}(e))}function Mn(e){if(e>jn){for(var t=jn;t<e+100;t++)Bn(t);jn=e}}function zn(e,t,i){return new Rn(e,t,i)}function Un(e,t){if("object"==typeof e&&null!==e){if(fn(e))return void 0!==t&&X(23),e[Ie].atom_;if(Nn(e))return e[Ie];if(wn(e)){if(void 0===t)return e.keysAtom_;var i=e.data_.get(t)||e.hasMap_.get(t);return i||X(25,t,qn(e)),i}if(Dn(e)){if(!t)return X(26);var n=e[Ie].values_.get(t);return n||X(27,t,qn(e)),n}if(Ve(e)||Rt(e)||vi(e))return e}else if(ce(e)&&vi(e[Ie]))return e[Ie];X(28)}function $n(e,t){return e||X(29),void 0!==t?$n(Un(e,t)):Ve(e)||Rt(e)||vi(e)||wn(e)||Nn(e)?e:e[Ie]?e[Ie]:void X(24,e)}function qn(e,t){var i;if(void 0!==t)i=Un(e,t);else{if(Ti(e))return e.name;i=Dn(e)||wn(e)||Nn(e)?$n(e):Un(e)}return i.name_}Object.entries(ln).forEach((function(e){var t=e[0],i=e[1];"concat"!==t&&ve(Rn.prototype,t,i)})),Mn(1e3);var Gn=Z.toString;function Kn(e,t,i){return void 0===i&&(i=-1),Xn(e,t,i)}function Xn(e,t,i,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;if(!ce(r)&&"object"!==r&&"object"!=typeof t)return!1;var s=Gn.call(e);if(s!==Gn.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":i>=0&&i++}e=Wn(e),t=Wn(t);var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(ce(l)&&l instanceof l&&ce(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===i)return!1;i<0&&(i=-1),o=o||[];for(var d=(n=n||[]).length;d--;)if(n[d]===e)return o[d]===t;if(n.push(e),o.push(t),a){if((d=e.length)!==t.length)return!1;for(;d--;)if(!Xn(e[d],t[d],i-1,n,o))return!1}else{var u,h=Object.keys(e);if(d=h.length,Object.keys(t).length!==d)return!1;for(;d--;)if(!Ee(t,u=h[d])||!Xn(e[u],t[u],i-1,n,o))return!1}return n.pop(),o.pop(),!0}function Wn(e){return fn(e)?e.slice():ge(e)||wn(e)||be(e)||Nn(e)?Array.from(e.entries()):e}function Fn(e){return e[Symbol.iterator]=Jn,e}function Jn(){return this}function Yn(e){return e instanceof Object&&"string"==typeof e.annotationType_&&ce(e.make_)&&ce(e.extend_)}["Symbol","Map","Set","Symbol"].forEach((function(e){void 0===F()[e]&&X("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return"production"===process.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(ei.spyListeners.push(e),ae((function(){ei.spyListeners=ei.spyListeners.filter((function(t){return t!==e}))})))},extras:{getDebugName:qn},$mobx:Ie})
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */;class Qn{constructor(){this.haxProperties={type:"element",editingElement:"core",canScale:!1,canPosition:!1,canEditSource:!0,settings:{configure:[],advanced:[]},wipeSlot:{}},this.setup=(e,t="",i=this)=>(void 0!==this.tagName&&(t=this.tagName.toLowerCase()),window.addEventListener("hax-store-ready",this._haxStoreReady.bind(this)),void 0!==window.HaxStore&&null!=window.HaxStore.instance&&window.HaxStore.instance.ready?this.setHaxProperties(e,t,i,!0):this.setHaxProperties(e,t,i,!1)),this._haxStoreReady=e=>{if(e.detail&&void 0!==this.tagName&&void 0!==this.haxProperties){let e=this.tagName,t=this.haxProperties,i=this;if(""!=e&&void 0===window.HaxStore){const n=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:e.toLowerCase(),properties:t}});i.dispatchEvent(n)}else if(""!=e&&void 0===window.HaxStore.instance.elementList[e.toLowerCase()]){const n=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:e.toLowerCase(),properties:t}});i.dispatchEvent(n)}else if(void 0!==this.tagName&&void 0===window.HaxStore.instance.elementList[this.tagName.toLowerCase()]){const e=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:this.tagName.toLowerCase(),properties:t}});i.dispatchEvent(e)}}},this.setHaxProperties=async(e={},t="",i=document,n=!1)=>{if("string"==typeof e&&(e=await fetch(e).then((e=>!(!e||!e.json)&&e.json()))),void 0===e.api&&(e.api="1"),"1"==e.api){var o;if(void 0===e.type&&(e.type="element"),void 0===e.editingElement&&(e.editingElement="core"),void 0===e.canPosition&&(e.canPosition=!0),void 0===e.canScale&&(e.canScale=!0),void 0===e.canEditSource&&(e.canEditSource=!1),void 0===e.contentEditable&&(e.contentEditable=!1),void 0===e.gizmo)e.gizmo=!1;else if(void 0!==e.gizmo.iconLib)o=window.WCGlobalBasePath?window.WCGlobalBasePath:new URL("./../../../",import.meta.url).href,import(`${o}${e.gizmo.iconLib}`);if(void 0!==e.settings){void 0===e.settings.configure&&(e.settings.configure=[]);for(let t=0;t<e.settings.configure.length;t++)e.settings.configure[t]=this.validateSetting(e.settings.configure[t]),e.settings.configure[t]||e.settings.configure.splice(t,1);void 0===e.settings.advanced&&(e.settings.advanced=[]);for(let t=0;t<e.settings.advanced.length;t++)e.settings.advanced[t]=this.validateSetting(e.settings.advanced[t]),e.settings.advanced[t]||e.settings.advanced.splice(t,1);e=this.standardAdvancedProps(e)}void 0===e.saveOptions&&(e.saveOptions={wipeSlot:!1}),void 0===e.demoSchema&&(e.demoSchema=[]),n&&this.readyToFireHAXSchema(t,e,i),""===t&&("function"==typeof this._setHaxProperties?this._setHaxProperties(e):this.haxProperties=e)}else console.warn("This is't a valid usage of hax API. See hax-body-behaviors/lib/HAXWiring.js for more details on how to implement the API. https://haxtheweb.org/hax-schema for details but we will try and guess the wiring")},this.readyToFireHAXSchema=(e,t,i)=>{if(""!=e&&void 0===window.HaxStore){const n=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:e.toLowerCase(),properties:t}});i.dispatchEvent(n)}else if(""!=e){const n=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:e.toLowerCase(),properties:t}});i.dispatchEvent(n)}else if(void 0!==this.tagName){const e=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:this.tagName.toLowerCase(),properties:t}});i.dispatchEvent(e)}else if(void 0!==i.tagName){const e=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:i.tagName.toLowerCase(),properties:t}});i.dispatchEvent(e)}else console.warn(i),console.warn(`${e} missed our checks and has an issue in implementation with HAX`)},this.standardAdvancedProps=e=>(e.settings.advanced.push({attribute:"class",title:"Classes",description:"CSS classes applied manually to the element",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"style",title:"Styles",description:"Custom CSS styles as applied to the element",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"prefix",title:"Schema: prefix",description:"Schema prefixes",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"typeof",title:"Schema: TypeOf",description:"typeof definition for Schema usage",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"property",title:"Schema: Property",description:"typeof definition for Schema usage",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"resource",title:"Schema: Resource ID",description:"Schema resource identifier",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"id",title:"ID",description:"element ID, only set this if you know why",inputMethod:"textfield"}),e.settings.advanced.push({attribute:"slot",title:"slot",description:"DOM slot area",inputMethod:"textfield"}),e),this.validateSetting=e=>(void 0!==e.property||void 0!==e.slot||void 0!==e.attribute)&&(void 0===e.title&&(void 0===e.attribute?e.title=e.property:e.title=e.attribute),void 0===e.description&&(e.description=""),void 0===e.inputMethod&&(e.inputMethod="textfield"),void 0===e.type&&(e.type="settings"),void 0===e.icon&&(e.icon="android"),void 0===e.options&&(e.options={}),void 0===e.required&&(e.required=!1),void 0===e.disabled&&(e.disabled=!1),void 0===e.validation&&(e.validation=".*"),void 0===e.validationType&&(e.validationType=""),void 0!==e.slot&&(void 0===e.slotWrapper&&(e.slotWrapper="span"),void 0===e.slotAttributes&&(e.slotAttributes={})),e),this.getHaxProperties=()=>this.haxProperties,this.getHaxJSONSchema=(e,t,i=this)=>{void 0===e&&(e="configure"),void 0===t&&(t=i.haxProperties);let n=t.settings[e];var o={$schema:"http://json-schema.org/schema#",title:"HAX "+e+" form schema",type:"object",properties:{}};if(o.properties=(new m).fieldsToSchema(n),t.gizmo&&t.gizmo.tag&&window.customElements.get(t.gizmo.tag)){let e=document.createElement(t.gizmo.tag);o="function"==typeof e.postProcessgetHaxJSONSchema?e.postProcessgetHaxJSONSchema(o):i.postProcessgetHaxJSONSchema(o)}else o=i.postProcessgetHaxJSONSchema(o);return o},this.postProcessgetHaxJSONSchema=e=>e,this._getHaxJSONSchemaProperty=e=>(new m).fieldsToSchema(e),this.getHaxJSONSchemaType=e=>{var t=(new m).fieldsConversion.inputMethod[e]||(new m).fieldsConversion;return t&&t.defaultSettings&&t.defaultSettings.type?t.defaultSettings.type:"string"},this.validHAXPropertyInputMethod=()=>Object.keys((new m).fieldsConversion.inputMethod),this.prototypeHaxProperties=()=>({api:"1",canScale:!0,canPosition:!0,canEditSource:!0,contentEditable:!1,gizmo:{title:"Tag name",description:"",icon:"icons:android",color:"purple",groups:["Content"],handles:[{type:"data",type_exclusive:!1,url:"src"}],meta:{author:"auto"},requiresChildren:!1,requiresParent:!1},settings:{configure:[{slot:"",title:"Inner content",description:"The slotted content that lives inside the tag",inputMethod:"textfield",icon:"android",required:!0,validationType:"text"},{slot:"button",title:"Button content",description:"The content that can override the button",inputMethod:"textfield",icon:"android",required:!0,validationType:"text"},{property:"title",title:"Title",description:"",inputMethod:"textfield",icon:"android",required:!0,validationType:"text"},{property:"primaryColor",title:"Title",description:"",inputMethod:"textfield",icon:"android",required:!1,validation:".*",validationType:"text"}],advanced:[{property:"secondaryColor",title:"Secondary color",description:"An optional secondary color used in certain edge cases.",inputMethod:"colorpicker",icon:"color"},{property:"endPoint",title:"API endpoint",description:"An optional endpoint to hit and load in more data dymaically.",inputMethod:"textfield",icon:"android",validation:"[a-z0-9]",validationType:"url"}]},saveOptions:{wipeSlot:!1,unsetAttributes:["end-point","secondary-color"]},demoSchema:[{tag:"my-tag",content:"<p>inner html</p>",properties:{endPoint:"https://cdn2.thecatapi.com/images/9j5.jpg",primaryColor:"yellow",title:"A cat"}}]})}}const Zn=function(e){return class extends e{constructor(){super(),this.HAXWiring=new Qn}static get properties(){return{...super.properties,haxProperties:window.HAXWiring.haxProperties}}setHaxProperties(e,t="",i=this){return""==t&&void 0!==this.tagName&&(t=this.tagName.toLowerCase()),window.HaxStore&&null!=window.HaxStore.instance&&window.HaxStore.instance.ready?this.HAXWiring.setHaxProperties(e,t,i,!0):(window.addEventListener("hax-store-ready",this._haxStoreReady.bind(this)),this.HAXWiring.setHaxProperties(e,t,i,!1))}disconnectedCallback(){window.removeEventListener("hax-store-ready",this._haxStoreReady.bind(this)),super.disconnectedCallback&&super.disconnectedCallback()}setup(e,t="",i=this){return this.HAXWiring.setup(e,"",this)}_haxStoreReady(e){return this.HAXWiring._haxStoreReady(e)}validateSetting(e){return this.HAXWiring.validateSetting(e)}getHaxProperties(){return this.haxProperties}getHaxJSONSchema(e,t,i=this){return this.HAXWiring.getHaxJSONSchema(e,t,i)}postProcessgetHaxJSONSchema(e){return this.HAXWiring.postProcessgetHaxJSONSchema(e)}_getHaxJSONSchemaProperty(e){return(new m).fieldsToSchema(e)}getHaxJSONSchemaType(e){return this.HAXWiring.getHaxJSONSchemaType(e)}validHAXPropertyInputMethod(){return this.HAXWiring.validHAXPropertyInputMethod()}prototypeHaxProperties(){return this.HAXWiring.prototypeHaxProperties()}}};window.HAXWiring=new Qn,window.HAXBehaviors=window.HAXBehaviors||{},window.HAXBehaviors.PropertiesBehaviors={properties:{haxProperties:window.HAXWiring.haxProperties},setHaxProperties:function(e,t="",i=this){return""==t&&void 0!==this.tagName&&(t=this.tagName.toLowerCase()),window.addEventListener("hax-store-ready",this._haxStoreReady.bind(this)),void 0!==window.HaxStore&&null!=window.HaxStore.instance&&window.HaxStore.instance.ready?window.HAXWiring.setHaxProperties(e,t,i,!0):window.HAXWiring.setHaxProperties(e,t,i,!1)},_haxStoreReady:function(e){return window.HAXWiring._haxStoreReady(e)},validateSetting:function(e){return window.HAXWiring.validateSetting(e)},getHaxProperties:function(){return this.haxProperties},getHaxJSONSchema:function(e,t,i=this){return window.HAXWiring.getHaxJSONSchema(e,t,i)},postProcessgetHaxJSONSchema:function(e){return window.HAXWiring.postProcessgetHaxJSONSchema(e)},_getHaxJSONSchemaProperty:function(e){return(new m).fieldsToSchema(e)},getHaxJSONSchemaType:function(e){return window.HAXWiring.getHaxJSONSchemaType(e)},validHAXPropertyInputMethod:function(){return window.HAXWiring.validHAXPropertyInputMethod()},prototypeHaxProperties:function(){return window.HAXWiring.prototypeHaxProperties()}},function(e){!0===e.isolateGlobalState&&function(){if((ei.pendingReactions.length||ei.inBatch||ei.isRunningReactions)&&X(36),Zt=!0,Qt){var e=F();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),ei=new Yt}}();var t,i,n=e.useProxies,o=e.enforceActions;if(void 0!==n&&(ei.useProxies="always"===n||"never"!==n&&"undefined"!=typeof Proxy),"ifavailable"===n&&(ei.verifyProxies=!0),void 0!==o){var r="always"===o?"always":"observed"===o;ei.enforceActions=r,ei.allowStateChanges=!0!==r&&"always"!==r}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(ei[t]=!!e[t])})),ei.allowStateReads=!ei.observableRequiresReaction,"production"!==process.env.NODE_ENV&&!0===ei.disableErrorBoundaries&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),e.reactionScheduler&&(t=e.reactionScheduler,i=ui,ui=function(e){return t((function(){return i(e)}))})}({enforceActions:!1,useProxies:"ifavailable"});function eo(e){try{return localStorage.getItem(e)}catch(e){return!1}}function to(e,t){try{return localStorage.setItem(e,t)}catch(e){return!1}}function io(e){try{return sessionStorage.getItem(e)}catch(e){return!1}}function no(e,t){try{return sessionStorage.setItem(e,t)}catch(e){return!1}}class oo extends(S(g(Zn(T)))){testHook(e,t){return e&&"function"==typeof e.haxHooks&&e.haxHooks()[t]}async runHook(e,t,i=[]){return!!this.testHook(e,t)&&await e[e.haxHooks()[t]](...i)}getSelection(){if(this.activeHaxBody&&this.activeHaxBody.parentNode){if(this.activeHaxBody.parentNode.getSelection)return this.activeHaxBody.parentNode.getSelection();try{if(b(this.activeHaxBody.parentNode))return b(this.activeHaxBody.parentNode)}catch(e){}}return window.getSelection()}getRange(){let e=this.getSelection();return e.getRangeAt&&e.rangeCount?e.getRangeAt(0):e||void 0}guessGizmo(e,t,i=!1,n=!1){var o=[],r=[];if(void 0!==e&&this.validGizmoTypes.includes(e))for(var s in this.gizmoList){let c=this.gizmoList[s],d=t.innerHTML?{innerHTML:t.innerHTML}:{},u=!1;if(c&&c.handles)for(var a=0;a<c.handles.length;a++)if(e===c.handles[a].type||"*"===e&&!u){for(var l in c.handles[a])"type"!==l&&void 0!==t[l]&&("inline"!==e&&c.meta&&(!c.meta||c.meta.inlineOnly||c.meta.hidden)||(u=!0,d[c.handles[a][l]]=t[l]));if(u||i){if(n&&c.handles[a].type_exclusive)return[this.haxElementPrototype(c,d,"")];{let e={};[...c.handles].forEach((t=>{t&&t.type&&""!=t.type&&(e[t.type.toLowerCase()]=!0)})),[...c.groups].forEach((t=>{t&&""!=t&&(e[t.toLowerCase()]=!0)})),c.keywords=Object.keys(e),r.includes(c.tag)||(o.push(this.haxElementPrototype(c,d,"")),r.push(c.tag))}}}}return o}insertLogicFromValues(e,t,i=!1,n=!1){let o=this.guessGizmoType(e),r=o,s=!0;if("*"==o){if(i)return!1;s=!1,r="link"}let a=this.guessGizmo(o,e,!1,s);return a.length>0?(1===a.length||n?1===a.length&&void 0!==a[0].tag?t.dispatchEvent(new CustomEvent("hax-insert-content",{bubbles:!0,cancelable:!0,composed:!0,detail:a[0]})):n&&t.dispatchEvent(new CustomEvent("hax-insert-content",{bubbles:!0,cancelable:!0,composed:!0,detail:a.find((e=>"a"==e.tag))})):this.haxAppPicker.presentOptions(a,o,"Pick how to present this "+r,"gizmo"),!0):(this.toast("Sorry, HAX doesn't know how to handle that type of link yet."),!1)}write(e,t,i){i&&i.dispatchEvent(new CustomEvent("hax-store-write",{composed:!0,bubbles:!0,cancelable:!1,detail:{property:e,value:t,owner:i}}))}mimeTypeToGizmoType(e){let t=e.split("/");switch(t[0]){case"audio":return"audio";case"image":return"svg+xml"==t[1]?"svg":"image";case"video":return"video";case"text":return["csv","html","markdown"].includes(t[1])?t[1]:"document";case"application":return"pdf"==t[1]?"pdf":["zip","gzip","x-tar"].includes(t[1])?"archive":"document"}}guessGizmoType(e){if(void 0!==e.source){const t=e.source.toLowerCase();if(-1!=t.indexOf(".mp3")||-1!=t.indexOf(".midi")||-1!=t.indexOf(".mid"))return"audio";if(-1!=t.indexOf(".png")||-1!=t.indexOf(".jpg")||-1!=t.indexOf(".jpeg")||-1!=t.indexOf(".gif"))return"image";if(-1!=t.indexOf(".pdf"))return"pdf";if(-1!=t.indexOf(".svg"))return"svg";if(-1!=t.indexOf(".csv"))return"csv";if(-1!=t.indexOf(".md"))return"markdown";if(-1!=t.indexOf(".html")||-1!=t.indexOf(".htm"))return"html";if(-1!=t.indexOf(".txt")||-1!=t.indexOf(".doc")||-1!=t.indexOf(".docx")||-1!=t.indexOf(".xls")||-1!=t.indexOf(".xlsx")||-1!=t.indexOf(".vtt")||-1!=t.indexOf(".ppt"))return"document";if(-1!=t.indexOf(".zip")||-1!=t.indexOf(".tar.gz")||-1!=t.indexOf(".tar"))return"archive";if("external"!=window.MediaBehaviors.Video.getVideoType(t))return"video"}return"*"}render(){return c` <slot></slot> `}static get tag(){return"hax-store"}toast(e,t=2e3,i="capsule",n=this.t.close,o=null){window.dispatchEvent(new CustomEvent("simple-toast-show",{bubbles:!0,composed:!0,cancelable:!0,detail:{text:e,duration:t,classStyle:i,closeText:n,eventCallback:o}}))}static get properties(){return{...super.properties,voiceDebug:{type:Boolean,attribute:"voice-debug"},voiceRespondsTo:{type:String,attribute:"voice-responses-to"},skipHAXConfirmation:{type:Boolean,reflect:!0,attribute:"skip-hax-confirmation"},storageData:{type:Object},haxTray:{type:Object},haxCancel:{type:Object},haxAutoloader:{type:Object},haxBodies:{type:Array},activePlaceHolder:{type:Object},appStore:{type:Object},sessionObject:{type:Object},skipExitTrap:{type:Boolean},elementList:{type:Object},staxList:{type:Array},validTagList:{type:Array},validGridTagList:{type:Array},validGizmoTypes:{type:Array},_isSandboxed:{type:Boolean},__appStoreData:{type:Object},ready:{type:Boolean},connectionRewrites:{type:Object}}}_storageDataChanged(e){e&&this.ready&&this.__storageDataProcessed&&(eo("haxConfirm")?to("haxUserData",JSON.stringify(e)):io("haxConfirm")&&no("haxUserData",JSON.stringify(e)))}isTextElement(e){let t;return null!=e&&e.tagName?t=e.tagName.toLowerCase():null!=e&&e.tag&&(t=e.tag.toLowerCase()),!!(t&&this.validTagList.includes(t)&&["p","ol","ul","li","a","h1","h2","h3","h4","h5","h6","strike","u","b","sub","sup","span","i","bold","em","strong","blockquote","code","figure"].includes(t))}isGridPlateElement(e){let t;return e&&e.tagName?t=e.tagName.toLowerCase():e&&e.tag&&(t=e.tag.toLowerCase()),!(!t||!this.validGridTagList.includes(t))}_appStoreChanged(e,t){e&&t&&(e.url&&!e.apps&&this.shadowRoot?this.loadAppStoreFromRemote():this.__appStoreData=e)}async _loadAppStoreData(e){if(null!=e){var t={};if(void 0!==e.autoloader)for(var i in e.autoloader=Object.assign({},e.autoloader),e.autoloader){let n=i,o=e.autoloader[i];isNaN(n)||(n=e.autoloader[i],o=`@lrnwebcomponents/${n}/${n}.js`),"string"!=typeof o&&(o.haxProperties&&this.setHaxProperties(e.autoloader[i].haxProperties,n),o=e.autoloader[i].import),this.validTagList.push(n),t[n]=o}if(void 0!==e.apps){var n=e.apps;for(i=0;i<n.length;i++){let e=document.createElement("hax-app");e.data=n[i],this.appendChild(e)}}if(void 0!==e.stax){var o=e.stax;for(i=0;i<o.length;i++){let e=document.createElement("hax-stax");e.data=o[i],this.appendChild(e)}}this.dispatchEvent(new CustomEvent("hax-store-app-store-loaded",{bubbles:!0,cancelable:!0,composed:!0,detail:!0})),await this._handleDynamicImports(t,this.haxAutoloader),this.appStoreLoaded=!0}}async _handleDynamicImports(e,t){const i=new URL("./",import.meta.url).href;for(var n in e)if(window.customElements.get(n))if(window.customElements.get(n).haxProperties)this.setHaxProperties(window.customElements.get(n).haxProperties,n);else try{let e=document.createElement(n);t.appendChild(e)}catch(e){}else{let o=`${i}../../../${e[n]}`;this.isExternalURLImport(e[n])&&(o=e[n]),await import(o).then((e=>{window.customElements.get(n)&&window.customElements.get(n).haxProperties?this.setHaxProperties(window.customElements.get(n).haxProperties,n):t.appendChild(document.createElement(n))})).catch((e=>{console.warn(e),t.appendChild(document.createElement(n))}))}}isExternalURLImport(e){let t;try{t=new URL(e)}catch(e){return!1}return new URL(t).origin!==location.origin}_editModeChanged(e){this.__hal&&(e&&this.globalPreferences.haxVoiceCommands?this.__hal.auto=!0:this.__hal.auto=!1),e&&!this.appStoreLoaded&&this.__appStoreData&&this.haxAutoloader&&(clearTimeout(this.__readyToProcessAppStoreData),this._loadAppStoreData(this.__appStoreData))}async _globalPreferencesChanged(e){if(this.__storageDataProcessed&&e&&void 0!==e.haxVoiceCommands&&this.ready){let t=this.storageData;t.globalPreferences=e,this.storageData=t,this._storageDataChanged(this.storageData),e.haxVoiceCommands&&!this.__hal&&import("./191858db.js").then((e=>{this._initVoiceCommands(),this.__hal=document.createElement("hal-9000"),this.__hal.respondsTo=this.voiceRespondsTo,this.__hal.debug=this.voiceDebug,this.__hal.auto=!0,this.shadowRoot.appendChild(this.__hal),this.__hal.commands={...this.voiceCommands}})),this.__hal&&(e.haxVoiceCommands&&this.editMode?this.__hal.auto=!0:this.__hal.auto=!1),e.haxLang&&ro.editMode&&(clearTimeout(this._debounceLang),this._debounceLang=setTimeout((async()=>{for(var e in this.elementList){let t=this.elementList[e];t=await this.attemptGizmoTranslation(e,t),this.elementList[e]=t}this.gizmoList.forEach((e=>{this.elementList[e.tag].gizmo.title&&(e.title=this.elementList[e.tag].gizmo.title),this.elementList[e.tag].gizmo.description&&(e.description=this.elementList[e.tag].gizmo.description)}))}),100))}}_haxContextOperation(e){let t=e.detail;if(this.activeNode){let e=!1;switch(t.eventName){case"hax-align-left":this.activeNode.style.float=null,this.activeNode.style.margin=null,this.activeNode.style.display=null,e=!0;break;case"hax-align-center":this.activeNode.style.float=null,this.activeNode.style.margin="0 auto",this.activeNode.style.display="block",e=!0;break;case"hax-align-right":this.activeNode.style.float="right",this.activeNode.style.margin="0 auto",this.activeNode.style.display="block",e=!0;break;case"hax-size-change":100==t.value?this.activeNode.style.width=null:this.activeNode.style.width=t.value+"%",e=!0}e&&(clearTimeout(this.__repositionMenu),this.__repositionMenu=setTimeout((()=>{this.activeHaxBody.positionContextMenus()}),0))}}_haxConsentTap(e){to("haxConfirm",!0),to("haxUserData",JSON.stringify(this.storageData))}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"appStore"==t&&this[t]&&this._appStoreChanged(this[t],e),["ready","__appStoreData","haxAutoloader"].includes(t)&&this.ready&&this.__appStoreData&&this.haxAutoloader&&(clearTimeout(this.__readyToProcessAppStoreData),this.__readyToProcessAppStoreData=setTimeout((()=>{this._loadAppStoreData(this.__appStoreData)}),0)),["haxAutoloader","haxTray","haxCancel"].includes(t)&&(clearTimeout(this.__storeReady),this.__storeReady=setTimeout((()=>{this._storePiecesAllHere(this.haxAutoloader,this.activeHaxBody,this.haxTray,this.haxCancel)}),0))}))}_calculateActiveGizmo(e){if(null==e||!e.tagName)return null;for(var t in this.gizmoList){var i=this.gizmoList[t];if(i.tag===e.tagName.toLowerCase())return i}}loadAppStoreFromRemote(){const e=new URLSearchParams(this.appStore.params);let t=this.appStore.url;e&&(t+=`?${e}`),fetch(t,{method:this.method}).then((e=>{if(e.ok)return e.json()})).then((e=>{this.__appStoreData=e}))}firstUpdated(e){if(super.firstUpdated&&super.firstUpdated(e),this.skipHAXConfirmation&&(no("haxConfirm",!0),to("haxConfirm",!0)),io("haxConfirm")||eo("haxConfirm"))if(io("haxConfirm")&&!eo("haxConfirm"))try{let e=io("haxUserData")?JSON.parse(io("haxUserData")):{};this.storageData=e,this._storageDataChanged(this.storageData)}catch(e){}else try{let e=eo("haxUserData")?JSON.parse(eo("haxUserData")):{};this.storageData=e,this._storageDataChanged(this.storageData)}catch(e){}else{no("haxConfirm",!0);let e="\n    The HAX content editor keeps preferences in order to improve your experience.\n    This data is stored in your browser and is never sent anywhere.\n    Click to accept.\n    ";this.toast(e,"-1","fit-bottom","I Accept","hax-consent-tap")}setTimeout((()=>{this.__storageDataProcessed=!0,this.storageData.globalPreferences&&this.write("globalPreferences",this.storageData.globalPreferences,this)}),0)}_storePiecesAllHere(e,t,i,n){!this.ready&&t&&e&&i&&n&&(this.dispatchEvent(new CustomEvent("hax-store-ready",{bubbles:!0,cancelable:!1,composed:!0,detail:!0})),i.shadowRoot.querySelector("#haxcancelbutton")&&(n.shadowRoot.querySelector("#dialog").associateEvents(i.shadowRoot.querySelector("#haxcancelbutton")),n.shadowRoot.querySelector("#dialog")&&window.addEventListener("simple-modal-confirmed",this._handleConfirmCancel.bind(this))),this.ready=!0,this._buildPrimitiveDefinitions())}_handleConfirmCancel(e){e.detail.invokedBy===this.haxTray.shadowRoot.querySelector("#haxcancelbutton")&&(this.editMode=!1,this.dispatchEvent(new CustomEvent("hax-cancel",{bubbles:!0,composed:!0,cancelable:!1,detail:e.detail})))}_initVoiceCommands(){this.__voiceInit=!0,this.voiceCommands[`scroll up ${this.voiceRespondsTo}`]=()=>{window.scrollBy({top:-.5*window.innerHeight,left:0,behavior:"smooth"})},this.voiceCommands[`scroll (down) ${this.voiceRespondsTo}`]=()=>{window.scrollBy({top:.5*window.innerHeight,left:0,behavior:"smooth"})},this.voiceCommands[`scroll to bottom ${this.voiceRespondsTo}`]=()=>{window.scrollTo(0,document.body.scrollHeight)},this.voiceCommands[`scroll to top ${this.voiceRespondsTo}`]=()=>{window.scrollTo(0,0)},this.voiceCommands[`${this.voiceRespondsTo} (show)(focus) active (element)(content)`]=()=>{try{this._positionCursorInNode(this.activeNode)}catch(e){}},this.voiceCommands[`${this.voiceRespondsTo} (focus) previous (element)(content)`]=()=>{this.activeNode.previousElementSibling?(this.activeNode=this.activeNode.previousElementSibling,this.write("activeNode",this.activeNode,this),this._positionCursorInNode(this.activeNode)):this.speak("You are at the top of the document")},this.voiceCommands[`${this.voiceRespondsTo} (focus) next (element)(content)`]=()=>{this.activeNode.nextElementSibling?(this.activeNode=this.activeNode.nextElementSibling,this.write("activeNode",this.activeNode,this),this._positionCursorInNode(this.activeNode)):this.speak("You are at the bottom of the document")},this.voiceCommands[`${this.voiceRespondsTo} type *mycontent`]=e=>{if(this.isTextElement(this.activeNode))try{let t=this._positionCursorInNode(this.activeNode),i=document.createTextNode(e);t.deleteContents(),t.insertNode(i)}catch(e){this.speak("That didn't work"),console.warn(e)}else this.speak("I'm sorry but I can only type in text areas. Try saying Insert Paragraph and try again.")},this.voiceCommands[`hey ${this.voiceRespondsTo}`]=()=>{this.speak("Yeah what do you want")},this.voiceCommands[`${this.voiceRespondsTo} now your name is *splat`]=e=>{const t=this.voiceRespondsTo;this.speak(`I used to be named ${t} but you can call me ${e} now.`),this.voiceRespondsTo=`(${e})`}}speak(e){this.__hal&&this.__hal.speak&&this.__hal.speak(e),this.toast(`${this.voiceRespondsTo}: ${e}`)}addVoiceCommand(e,t,i){t&&(e=e.replace(":name:",this.voiceRespondsTo).toLowerCase(),this.voiceCommands[e]=t[i].bind(t),this.__voiceInit&&(this.__hal.commands={...this.voiceCommands}))}_addVoiceCommand(e){let t=e.detail.context;t||(t=e.target),this.addVoiceCommand(e.detail.command,t,e.detail.callback)}_positionCursorInNode(e,t=0){this.activeHaxBody.positionContextMenus();var i=document.createRange(),n=this.getSelection();return i.setStart(e,t),i.collapse(!0),n.removeAllRanges(),n.addRange(i),i}_onBeforeUnload(e){if(!this.skipExitTrap&&this.editMode)return"Are you sure you want to leave? Your work will not be saved!"}isBase64(e){try{return btoa(atob(e))==e}catch(e){return!1}}retrieveImageFromClipboardAsBlob(e,t){if(0==e.clipboardData&&"function"==typeof t)return t(void 0);var i=e.clipboardData.items;if(null==i&&"function"==typeof t)return t(void 0);for(var n=0;n<i.length;n++)if(-1!=i[n].type.indexOf("image")){var o=i[n].getAsFile();if("function"==typeof t)return t(o)}}async _onPaste(e){if(this.editMode&&"HAX-TRAY"!==document.activeElement.tagName&&"BODY"!==document.activeElement.tagName&&"SIMPLE-MODAL"!==document.activeElement.tagName){this.isTextElement(this.activeNode)||(this.activeNode=this.activeHaxBody.haxInsert("p","",{}));let r="",s="";if(e.clipboardData||e.originalEvent.clipboardData?(r=(e.originalEvent||e).clipboardData.getData("text/html"),""==r&&(r=(e.originalEvent||e).clipboardData.getData("text"))):window.clipboardData&&(r=window.clipboardData.getData("Text")),s=r,this.isBase64(s))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.retrieveImageFromClipboardAsBlob(e,(t=>{if(t){var i=window.URL||window.webkitURL;let o=document.createElement("img");for(var n in o.src=i.createObjectURL(t),this.activeNode.parentNode.insertBefore(o,this.activeNode.nextElementSibling),e.clipboardData.items)!e.clipboardData.items[n].name&&e.clipboardData.items[n].type&&(e.clipboardData.items[n].name="image-"+Math.floor(Date.now()/1e3)+e.clipboardData.items[n].type.replace("image/","."));return e.dataTransfer=e.clipboardData,e.placeHolderElement=o,this.dispatchEvent(new CustomEvent("place-holder-file-drop",{bubbles:!0,cancelable:!0,composed:!0,detail:e})),o}return!1}));if(e.clipboardData.files.length>0){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();let i=this.activeHaxBody.haxInsert("p","",{});for(var t in e.dataTransfer=e.clipboardData,e.clipboardData.files)!e.clipboardData.files[t].name&&e.clipboardData.files[t].type&&(e.clipboardData.files[t].name="image-"+Math.floor(Date.now()/1e3)+e.clipboardData.files[t].type.replace("image/","."));e.placeHolderElement=i,this.dispatchEvent(new CustomEvent("place-holder-file-drop",{bubbles:!0,cancelable:!0,composed:!0,detail:e}))}let a=!1,l="";r=r.replace(/<span>\s*?<\/span>/g," "),r=r.replace(/(?:style="(\S+:\s*[^;"]+;\s*)*)(\S+:\s*var\(--hax[^;"]+(?:[;"]\s*))+/g,""),r=r.replace(/<div/g,"<p"),r=r.replace(/<\/div>/g,"</p>"),r=_(r),r=r.replace(/<h1>/g,"<h2>"),r=r.replace(/<\/h1>/g,"</h2>"),r=r.replace(/<img src=\"file:(.*?)\/>/g,(function(e,t){return`<place-holder type="image" text="file:${t.split('"')[0]}"></place-holder>`}));let c=await this.htmlToHaxElements(r);if(1!==c.length||this.__validGridTags().includes(c[0].tag)||(c=await this.htmlToHaxElements(c[0].content)),0===c.length&&y(r)){""!=this.activeNode.innerText.trim()&&(a=!0);let e={source:r,title:r};if(!a&&!this.insertLogicFromValues(e,this,!1,!0))return!1}else if(0===c.length){if(a=!0,s==r)return!1;l=r}else if(1===c.length&&"p"===c[0].tag)l=r,a=!0;else if(1===c.length&&"a"===c[0].tag&&c[0].properties.href)if(""!=this.activeNode.innerText.trim())l=c[0].properties.href,a=!0;else{let e={source:c[0].properties.href,title:c[0].content};if(!this.insertLogicFromValues(e,this))return!1}else{if(!this.isGridPlateElement(c[0]))return!1;for(var t in c){"p"==c[t].tag&&["li","ol","ul"].includes(this.activeNode.tagName.toLowerCase())&&(c[t].tag="li"),delete c[t].properties.style,delete c[t].properties.start,delete c[t].properties.align;let e=f({tag:c[t].tag,content:c[t].content.replace(/<span>&nbsp;<\/span>/g," ").trim(),properties:c[t].properties});l+=await this.nodeToContent(e)}}e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();try{let e=this.getRange(),s=this.getSelection(),c=document.createElement("div");if(c.innerHTML=l,e&&s){for(var t in c.children)c.children[t].tagName&&this.isTextElement(c.children[t])&&""===c.children[t].innerHTML&&c.children[t].remove();if(a){let t;if(y(r))t=document.createElement("a"),t.setAttribute("href",r),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t.innerText=r;else if(c.children&&c.children.length>0){for(;c.childNodes.length>1;)e.insertNode(Array.from(c.childNodes).pop());t=Array.from(c.childNodes).pop()}else t=document.createTextNode(c.innerHTML);e.insertNode(t),setTimeout((()=>{this._positionCursorInNode(t,t.length)}),0)}else{var i,n,o;for(""!=this.activeNode.innerText.trim()&&e.endOffset!=this.activeNode.innerText.length&&(i=!0,document.execCommand("insertParagraph")),e.commonAncestorContainer&&e.commonAncestorContainer.parentNode&&(o||this.activeNode==e.commonAncestorContainer||(o=e.commonAncestorContainer.parentNode)||(o=e.commonAncestorContainer));c.firstElementChild;)n=c.firstElementChild,o?(o.getAttribute&&o.getAttribute("slot")&&n.setAttribute("slot",o.getAttribute("slot")),i?(this.activeHaxBody.haxReplaceNode(o.previousElementSibling,n),i=!1):o.parentNode.insertBefore(n,o.nextElementSibling)):this.activeNode?(this.activeNode.getAttribute("slot")&&n.setAttribute("slot",this.activeNode.getAttribute("slot")),""==this.activeNode.innerText.trim()?this.activeHaxBody.haxReplaceNode(this.activeNode,n):this.activeNode.parentNode.insertBefore(n,this.activeNode.nextElementSibling)):this.activeHaxBody.appendChild(n),o=n;setTimeout((()=>{n&&n.childNodes&&n.childNodes[0]&&(this._positionCursorInNode(n.childNodes[0],n.childNodes[0].length),n=null,o=null)}),0)}}}catch(e){console.warn(e)}}}__validGridTags(){return["p","ol","ul","li","div","h1","h2","h3","h4","h5","h6","blockquote","code","figure"]}__validTags(){return["p","div","span","table","caption","sup","sub","u","strike","tr","th","td","ol","ul","li","a","strong","kbd","tt","em","i","b","hr","h1","h2","h3","h4","h5","h6","blockquote","code","figure","figcaption","img","iframe","video","audio","section","template","webview"]}__validGizmoTypes(){return["data","video","audio","text","link","file","pdf","image","csv","doc","archive","markdown","html","content","text","inline","*"]}constructor(){super(),this.t={close:"Close"},this.registerLocalization({context:this,namespace:"hax",basePath:import.meta.url+"/../../",locales:["es"]}),this.method="GET",this.haxSelectedText="",this.__winEvents={"hax-register-properties":"_haxStoreRegisterProperties","hax-consent-tap":"_haxConsentTap","hax-context-item-selected":"_haxContextOperation",onbeforeunload:"_onBeforeUnload",paste:"_onPaste","hax-register-app":"_haxStoreRegisterApp","hax-register-stax":"_haxStoreRegisterStax","hax-store-write":"_writeHaxStore","hax-register-core-piece":"_haxStorePieceRegistrationManager","hax-register-body":"_haxStoreRegisterBody","hax-insert-content":"_haxStoreInsertContent","hax-insert-content-array":"_haxStoreInsertMultiple","hax-add-voice-command":"_addVoiceCommand"},window.onbeforeunload=e=>{if(!this.skipExitTrap&&this.editMode){var t="Are you sure you want to leave? Your work will not be saved!";return e.returnValue=t,t}},G.registerNewTour({key:"hax",name:"Let's learn HAX",style:"\n      simple-popover-manager::part(simple-popover) {\n        max-width: 250px;\n      }\n      simple-popover-manager button {\n        font-size: 12px;\n        margin: 0px 2px;\n      }\n      simple-popover-manager p {\n        --hax-base-styles-p-font-size: 14px;\n        padding: 0;\n        margin: 0;\n        font-size: 14px;\n        line-height: 20px;\n      }\n      simple-popover-manager h3 {\n        --hax-base-styles-h3-font-size: 18px;\n        margin: 8px 2px;\n      }"}),this.voiceRespondsTo="(worker)",this.voiceCommands={},this.skipHAXConfirmation=!1,this.storageData={},this.appStore={url:"",params:{}},this.activeNode=null,this.activeEditingElement=null,this.haxBodies=[],this.activePlaceHolder=null,this.sessionObject={},this.editMode=!1,this.skipExitTrap=!1,this.appStoreLoaded=!1,this.elementList={},this.elementAlign=eo("hax-tray-elementAlign"),this.elementAlign&&null!=this.elementAlign||(this.elementAlign="right"),this.trayStatus="collapsed",this.trayDetail="content-edit",this.appList=[],this.gizmoList=[],this.haxAutoloader=null,this.activeHaxBody=null,this.haxTray=null,this.haxCancel=null,this.staxList=[],this.globalPreferences={},this.activeApp={},this.connectionRewrites={},this.voiceDebug=!1,this.keyboardShortcuts={"#":{tag:"h2",content:""},"##":{tag:"h3",content:""},"###":{tag:"h4",content:""},"####":{tag:"h5",content:""},"#####":{tag:"h6",content:""},"-":{tag:"ul",content:"<li></li>"},"1.":{tag:"ol",content:"<li></li>"},"---":{tag:"hr"},"```":{tag:"code",content:""},">":{tag:"blockquote",content:""}},this.validTagList=this.__validTags(),this.validGridTagList=this.__validGridTags(),this.validGizmoTypes=this.__validGizmoTypes();let e=document.createElement("webview");this._isSandboxed="function"==typeof e.reload,import("./f12c4254.js"),import("./7d02db87.js").then((()=>{window.SimpleToast.requestAvailability()})),import("./2d0dc610.js"),document.body.style.setProperty("--hax-ui-headings","#d4ff77"),nn(this,{gizmoList:_t,activeNode:_t,globalPreferences:_t,activeGizmo:wt,activeNodeIndex:wt,editMode:_t,elementAlign:_t,trayStatus:_t,trayDetail:_t,appList:_t,activeApp:_t,haxSelectedText:_t,activeEditingElement:_t,activeHaxBody:_t,appStoreLoaded:_t}),Ci((()=>{this._globalPreferencesChanged(Gi(this.globalPreferences))})),Ci((()=>{this._editModeChanged(Gi(this.editMode))}))}_buildPrimitiveDefinitions(){if(this._isSandboxed){let e={type:"element",editingElement:"core",canScale:!0,canPosition:!0,canEditSource:!0,settings:{configure:[{attribute:"src",title:"Source",description:"The URL for this video.",inputMethod:"textfield",icon:"link",required:!0,validationType:"url"}],advanced:[]}};this.setHaxProperties(e,"webview")}this.setHaxProperties({type:"element",editingElement:"core",canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Basic iframe",description:"A basic iframe",icon:"icons:fullscreen",color:"blue-grey",groups:["Content"],handles:[{type:"link",source:"src",height:"height",width:"width"},{type:"pdf",source:"src",height:"height",width:"width"},{type:"document",source:"src",height:"height",width:"width"},{type:"html",source:"src",height:"height",width:"width"}],meta:{author:"W3C"}},settings:{configure:[{attribute:"src",title:"Source",description:"The URL for this video.",inputMethod:"textfield",icon:"link",required:!0,validationType:"url"}],advanced:[{attribute:"loading",title:"Loading method",description:"Whether or not to lazy load this",inputMethod:"select",options:{lazy:"Load when visible",auto:"Automatic"}}]},demoSchema:[{tag:"iframe",content:"",properties:{src:"https://haxtheweb.org/",loading:"lazy",style:"height:50vh;width:75%;margin: 0px auto; display: block;"}}]},"iframe");this.setHaxProperties({canScale:{min:10,step:5},type:"element",editingElement:"core",canPosition:!0,canEditSource:!0,gizmo:{title:"Image",description:"A basic img tag",icon:"image:image",color:"blue-grey",groups:["Image","Media"],handles:[{type:"link",source:"src"},{type:"image",type_exclusive:!0,source:"src",height:"height",width:"width"}],meta:{author:"W3C"}},settings:{configure:[{attribute:"src",title:"Source",description:"The URL for this video.",inputMethod:"haxupload",icon:"link",required:!0,validationType:"url"},{attribute:"alt",title:"Alt text",description:"Useful for screen readers and improved SEO.",inputMethod:"alt",icon:"accessibility"},{attribute:"height",title:"Height",description:"height in pixels of the item. Leave blank to respond to the natural resolution",inputMethod:"textfield",icon:"icons:swap-vert"}],advanced:[{attribute:"aria-describedby",title:"Aria-describedby",description:"Space-separated list of IDs for elements that describe the image.",inputMethod:"textfield",icon:"accessibility"},{attribute:"loading",title:"Loading method",description:"Whether or not to lazy load this",inputMethod:"select",options:{lazy:"Load when visible",auto:"Automatic"}}]},demoSchema:[{tag:"img",content:"",properties:{src:"https://cdn2.thecatapi.com/images/9j5.jpg",loading:"lazy"}}]},"img");this.setHaxProperties({canScale:{min:10,step:5},type:"grid",canPosition:!0,canEditSource:!0,gizmo:{title:"Figure",description:"A basic figure tag",icon:"hax:figure",color:"blue-grey",groups:["Image","Media","Layout"],requiresChildren:"figcaption",handles:[],meta:{author:"W3C"}},settings:{configure:[{slot:"",title:"Figure Content",description:"The content of the figure",inputMethod:"code-editor"}]},demoSchema:[{tag:"figure",properties:{},content:'<img src="https://dummyimage.com/300x200/000/fff" alt="image other media here">\n<figcaption><p>Image Caption Here</p></figcaption>'}]},"figure");this.setHaxProperties({canScale:{min:10,step:5},type:"grid",editingElement:"core",canPosition:!0,canEditSource:!0,gizmo:{title:"Figure caption",description:"Used inside of a figure tag",icon:"image:image",color:"blue-grey",groups:["Image","Media"],handles:[],requiresParent:"figure",meta:{author:"W3C"}},settings:{configure:[{slot:"",title:"Figure Caption",description:"Caption for the figure",inputMethod:"code-editor"}]},demoSchema:[{tag:"figcaption",properties:{},content:"Image Caption Here"}]},"figcaption");let e={type:"element",editingElement:"core",canScale:!1,canPosition:!1,canEditSource:!0,contentEditable:!0,gizmo:{title:"Basic link",description:"A basic a tag",icon:"icons:link",color:"blue-grey",groups:["Link"],handles:[],meta:{author:"W3C"}},settings:{configure:[{attribute:"innerText",title:"Text",description:"Text of the link",inputMethod:"textfield",required:!0},{attribute:"href",title:"Link",description:"The URL for this video.",inputMethod:"haxupload",required:!0,validationType:"url"},{attribute:"target",title:"Target",description:"Where to place the link.",inputMethod:"select",options:{"":"Same window",_blank:"New window - _blank",_top:"Top window - _top",_parent:"Parent window - _parent"}},{attribute:"title",title:"Title text",description:"Useful for screen readers and improved SEO.",inputMethod:"textfield"}],advanced:[{attribute:"rel",title:"rel",description:"Specifies the relationship between this document and the opened document. Change as part of security or SEO policy.",inputMethod:"select",options:{noopener:"noopener","noopener noreferrer":"noopener noreferrer","nofollow ":"nofollow","noopener noreferrer nofollow":"noopener noreferrer nofollow",opener:"opener"}}]}};this.validGizmoTypes.forEach((t=>{e.gizmo.handles.push({type:t,source:"href",title:"innerText",alt:"title"})})),this.setHaxProperties(e,"a");this.setHaxProperties({type:"element",editingElement:"core",canScale:!1,canPosition:!1,canEditSource:!0,contentEditable:!0,gizmo:{title:"Paragraph",description:"A basic text area",icon:"hax:paragraph",color:"blue-grey",groups:["Content"],handles:[{type:"content",source:"",title:"innerHTML",alt:"title"}],meta:{author:"W3C"}},settings:{configure:[],advanced:[]},demoSchema:[{tag:"p",content:"Paragraph",properties:{}}]},"p");this.setHaxProperties({type:"element",canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Table",description:"A table for displaying data",icon:"image:grid-on",color:"blue-grey",groups:["Content","Table","Data"],meta:{author:"W3C"}},settings:{configure:[],advanced:[]},demoSchema:[{tag:"table",content:"<tr><td>-</td><td>-</td><td>-</td></tr><tr><td>-</td><td>-</td><td>-</td></tr><tr><td>-</td><td>-</td><td>-</td></tr>",properties:{}}]},"table");let t={caption:{title:"Caption",icon:"av:call-to-action"},video:{title:"Video",icon:"av:play-circle-filled"},audio:{title:"Audio",icon:"image:music-note"},section:{title:"Section",icon:"image:crop-landscape"},ol:{title:"Numbered list",icon:"editor:format-list-numbered"},ul:{title:"Bulleted list",icon:"editor:format-list-bulleted"},li:{title:"List item",icon:"editor:format-list-bulleted"},h1:{title:"Heading",icon:"hax:h1"},h2:{title:"Heading",icon:"hax:h2"},h3:{title:"Heading",icon:"hax:h3"},h4:{title:"Heading",icon:"hax:h4"},h5:{title:"Heading",icon:"hax:h5"},h6:{title:"Heading",icon:"hax:h6"},strike:{title:"Cross out",icon:"editor:format-strikethrough"},u:{title:"Underline",icon:"editor:format-underlined"},sub:{title:"Subscript",icon:"mdextra:subscript"},sup:{title:"Superscript",icon:"mdextra:superscript"},div:{title:"DIV",icon:"image:crop-landscape"},span:{title:"SPAN",icon:"editor:short-text"},i:{title:"Italic",icon:"editor:format-italic"},em:{title:"Emphasis",icon:"editor:format-italic"},strong:{title:"Bold",icon:"editor:format-bold"},b:{title:"Bold",icon:"editor:format-bold"},blockquote:{title:"Block quote",icon:"editor:format-quote"},code:{title:"Code",icon:"icons:code"},embed:{title:"Embedded object",icon:"icons:fullscreen"}};for(var i in t)this.setHaxProperties({type:"element",editingElement:"core",canScale:!1,canPosition:!1,canEditSource:!0,contentEditable:!0,gizmo:{title:t[i].title,icon:t[i].icon,meta:{hidden:"h2"!=i}},settings:{configure:[],advanced:[]},demoSchema:[{tag:i,content:"h2"==i?"Heading":"",properties:{}}]},i);this.setHaxProperties({canScale:{min:25,step:25},type:"element",editingElement:"core",canPosition:!1,canEditSource:!1,contentEditable:!0,gizmo:{title:"Horizontal line",icon:"hax:hr",meta:{author:"W3C"}},settings:{configure:[],advanced:[]},demoSchema:[{tag:"hr",content:"",properties:{style:"width:50%;"}}]},"hr")}_haxStorePieceRegistrationManager(e){e.detail&&e.detail.piece&&e.detail.object&&(this[e.detail.piece]=e.detail.object)}setupAutocomplete(e){e.triggers={"!":e=>{let t=[];return this.gizmoList.forEach((e=>{t.push({groups:e.groups&&e.groups.length?e.groups.join(" "):"",icon:e.icon,label:e.title,value:e.tag})})),t}}}async _haxStoreInsertContent(e){if(e.detail){let i=e.detail;if(window.customElements.get(i.tag)){let e=document.createElement(i.tag);this.testHook(e,"preProcessInsertContent")&&(i=await this.runHook(e,"preProcessInsertContent",[i]))}var t={};if(void 0!==i.properties&&(t=i.properties),t.innerHTML&&(""==i.content&&(i.content=t.innerHTML),delete t.innerHTML),t.innerText&&(""==i.content&&(i.content=t.innerText),delete t.innerText),void 0!==i.__type&&"inline"===i.__type){let e=f({tag:i.tag,content:i.content,properties:t});null!==this.activePlaceHolder&&(this.activePlaceHolder.deleteContents(),this.activePlaceHolder.insertNode(e)),this.activePlaceHolder=null}else if(i.replace||i.replacement||i.nextToActive){let e=f({tag:i.tag,content:i.content,properties:t});this.activePlaceHolder?(this.activeHaxBody.haxReplaceNode(this.activePlaceHolder,e),this.activePlaceHolder=null):i.nextToActive&&this.activeNode?this.activeHaxBody.__slot&&this.activeNode.haxLayoutContainer?this.activeNode.appendChild(e):this.activeNode.parentNode.insertBefore(e,this.activeNode):this.activeHaxBody.haxReplaceNode(this.activeNode,e)}else if(this.activeNode.parentNode&&"HAX-BODY"!=this.activeNode.parentNode.tagName){let e=f({tag:i.tag,content:i.content,properties:t});this.activeNode.parentNode.haxLayoutContainer?(null!=this.activeNode.getAttribute("slot")&&e.setAttribute("slot",this.activeNode.getAttribute("slot")),this.activeHaxBody.haxInsert(i.tag,i.content,t)):this.activeHaxBody.haxInsert(i.tag,i.content,t)}else this.activeHaxBody.haxInsert(i.tag,i.content,t)}}slotsFromSchema(e,t=!1){let i=e?e.settings:{},n=[];return Object.keys({...i||{}}).map((e=>(i[e]||[]).filter((e=>{let i=!t||!e.required;return!(!e.slot||n.includes(e.slot)||!i)&&(n.push(e.slot),!0)})))).flat()}haxSchemaFromTag(e){return e=e.toLowerCase(),this.elementList&&this.elementList[e]?this.elementList[e]:{}}_haxStoreInsertMultiple(e){var t;if(e.detail)for(var i in e.detail)t={},void 0!==e.detail[i].properties&&(t=e.detail[i].properties),this.activeHaxBody.haxInsert(e.detail[i].tag,e.detail[i].content,t)}_haxStoreRegisterBody(e){e.detail&&(this.haxBodies.push(e.detail),this.activeHaxBody=e.detail,this.write("activeHaxBody",this.activeHaxBody,this),this.write("editMode",this.editMode,this),clearTimeout(this.__storeReady),this.__storeReady=setTimeout((()=>{this._storePiecesAllHere(this.haxAutoloader,this.activeHaxBody,this.haxTray,this.haxCancel)}),0))}computePolyfillSafe(){return!(!document.head.createShadowRoot&&!document.head.attachShadow)||(console.warn("Shadow DOM missing, certain operations hidden"),!1)}_writeHaxStore(e){e.detail&&void 0!==e.detail.value&&e.detail.property&&e.detail.owner&&(e.detail.owner!==this&&(null==e.detail.value?this[e.detail.property]=null:"object"==typeof e.detail.value&&(this[e.detail.property]={}),this[e.detail.property]=e.detail.value),this.dispatchEvent(new CustomEvent("hax-store-property-updated",{bubbles:!0,composed:!0,cancelable:!1,detail:{property:e.detail.property,value:e.detail.value,owner:e.detail.owner}})))}_haxStoreRegisterApp(e){if(e.detail){if(e.detail.index=this.appList.length,this.appList=[...this.appList,e.detail],this.write("appList",Gi(this.appList),this),e.detail.connection&&e.detail.connection.protocol&&e.detail.connection.url){let t=document.createElement("link");t.rel="preconnect",t.href=e.detail.connection.protocol+"://"+e.detail.connection.url,document.head.appendChild(t)}void 0!==e.target.parentElement&&"HAX-STORE"===e.target.parentElement.tagName&&e.target.parentElement.removeChild(e.target)}}_haxStoreRegisterStax(e){e.detail&&(e.detail.index=this.staxList.length,this.staxList=[...this.staxList,e.detail],this.write("staxList",this.staxList,this),void 0!==e.target.parentElement&&"HAX-STORE"===e.target.parentElement.tagName&&e.target.parentElement.removeChild(e.target))}dashToCamel(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}async htmlToHaxElements(e){let t=[];const i=this.validTagList;let n=document.createElement("div");n.innerHTML=e;const o=n.childNodes;for(var r=0;r<o.length;r++)void 0!==o[r].tagName&&i.includes(o[r].tagName.toLowerCase())&&t.push(await x(o[r],null));return t}async nodeToContent(e){this.testHook(e,"preProcessNodeToContent")&&(e=await this.runHook(e,"preProcessNodeToContent",[e]));let t=e.tagName.toLowerCase();this._isSandboxed&&"webview"===t&&(t="iframe");var i="";i+="<"+t;for(var n=this.elementList[t],o={},r=0,s=e.attributes.length;r<s;++r){var a=e.attributes.item(r).nodeName,l=e.attributes.item(r).value;"style"==a||typeof l!=typeof Object&&l.constructor!==Array?null!=l&&"null"!=l&&(!0===l||"true"===l?o[a]=!0:!1===l||("string"==typeof l&&""!==l?(l=l.replace(new RegExp('"',"g"),"&quot;"),o[a]=l):""===l?(""==l&&""!=e.attributes.item(r).value&&(l=e.attributes.item(r).value),o[a]=l):o[a]=l)):o[a]=JSON.stringify(l).replace(new RegExp('"',"g"),"&quot;")}let c;if(customElements.get(t)&&(c=customElements.get(t).properties),void 0===c&&(c=e.__data),void 0!==c)for(var r in c){a=w(r),l=null;void 0!==e[r]&&(l=e[r]),c[r].readOnly||c[r].computed||l===c[r].value||a.startsWith("__")||(null==l||"object"!=typeof l&&l.constructor!==Array?null!=l&&"null"!=l&&(!0===l||"true"===l?o[a]=!0:!1===l||("string"==typeof l&&""!==l?(l=l.replace(new RegExp('"',"g"),"&quot;"),o[a]=l):""===l?""==l&&""!=c[r].value?l=c[r].value:""===l&&c[r].value:o[a]=l)):(l.constructor===Array&&l!=[]||"object"==typeof l&&l!={})&&(o[a]=JSON.stringify(l).replace(new RegExp('"',"g"),"&quot;")))}if(void 0!==n&&void 0!==n.saveOptions.unsetAttributes)for(var d in n.saveOptions.unsetAttributes)delete o[n.saveOptions.unsetAttributes[d]];let u=["inner-text","inner-html","tabindex","guestinstance"];for(var h in u)void 0!==o[u[h]]&&delete o[u[h]];for(var d in void 0!==o.id&&""===o.id&&delete o.id,delete o.draggable,delete o.contenteditable,delete o["data-hax-ray"],delete o["data-hax-layout"],""!=o.class&&"hax-active"!=o.class||delete o.class,o)!0===o[d]?i+=" "+d:i+=" "+d+'="'+o[d]+'"';if(["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].includes(t)?i+="/>":i+=">",void 0===n||!n.saveOptions.wipeSlot){let t=e.childNodes;if(t.length>0){r=0;for(var p=t.length;r<p;r++)void 0!==t[r].tagName?this.HTMLPrimativeTest(t[r].tagName)||"TEMPLATE"===t[r].tagName?(t[r].removeAttribute("data-hax-ray"),t[r].contentEditable=!1,i+=t[r].outerHTML):i+=await this.nodeToContent(t[r]):8===t[r].nodeType?i+="\x3c!-- "+t[r].textContent+" --\x3e":1!==t[r].nodeType&&void 0!==t[r].textContent&&"undefined"!==t[r].textContent&&(i+=E(t[r].textContent))}}return this.testHook(e,"progressiveEnhancement")&&(i+=await this.runHook(e,"progressiveEnhancement",[e])),"span"===t?i+="</"+t+">":"hr"===t||"br"===t||"img"===t||(i+="</"+t+">\n"),i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/&nbsp;/gm," ")).replace(/ data-hax-ray="(\s|.)*?"/gim,"")).replace(/ class=""/gim,"")).replace(/ class="hax-active"/gim,"")).replace(/ contenteditable="(\s|.)*?"/gim,"")).replace(/<span style="(.*?)">/gim,"<span>")).replace(/<span>\s*?<\/span>/g," ")).replace(/<span><br\/><\/span>/gm,"")).replace(/<strong style="(.*?)">/gim,"<strong>")).replace(/<b style="(.*?)">/gim,"<b>")).replace(/<strike style="(.*?)">/gim,"<strike>")).replace(/<em style="(.*?)">/gim,"<em>")).replace(/<i style="(.*?)">/gim,"<i>")).replace(/<p>(\s*)<\/p>/gm,"<p></p>")).replace(/<p>&nbsp;<\/p>/gm,"<p></p>")).replace(/<p><br\/><\/p>/gm,"<p></p>")).replace(/<p><br><\/p>/gm,"<p></p>")).replace(/<\/p>(\s*)<p>/gm,"</p><p>")).split("\n\r").join("\n").split("\r").join("\n").split("\n\n").join("\n").split("\n\n").join("\n").split("\n\n").join("\n"),this.testHook(e,"postProcessNodeToContent")&&(i=await this.runHook(e,"postProcessNodeToContent",[i])),i}HTMLPrimativeTest(e){return void 0!==e.tagName&&-1==e.tagName.indexOf("-")}getHaxAppStoreTargets(e){return Gi(this.appList).filter((t=>{if(void 0!==t.connection.operations.add){let i=t.connection.operations.add;if(void 0!==i.acceptsGizmoTypes&&i.acceptsGizmoTypes.includes(e))return!0}return!1}))}async refreshActiveNodeForm(){this.haxTray.activeHaxElement=await x(this.haxTray.activeNode,null),this.haxTray._setupForm()}haxElementPrototype(e,t,i=""){return{tag:e.tag,properties:t,content:i,gizmo:e}}async getHAXSlot(e){if(this.isTextElement(e))return e.innerHTML;let t="";var i=e.childNodes;if(i.length>0)for(var n=0,o=i.length;n<o;n++){if(!i[n])return;void 0!==i[n].tagName?i[n].tagName.indexOf("-")>0?t+="  "+await this.nodeToContent(i[n])+"\n":t+="  "+i[n].outerHTML+"\n":8===i[n].nodeType?t+="\x3c!-- "+i[n].textContent+" --\x3e":1!==i[n].nodeType&&void 0!==i[n].textContent&&"undefined"!==i[n].textContent&&(t+=i[n].textContent)}return t}async _haxStoreRegisterProperties(e){if(e.detail&&e.detail.properties&&e.detail.tag){if(!this.elementList[e.detail.tag]){let t=e.detail;t.properties=await this.attemptGizmoTranslation(t.tag,t.properties);let i=t.properties.gizmo;if(i){i.tag=t.tag;let e=this.gizmoList;e.push(i),this.gizmoList=[...e],this.write("gizmoList",e,this)}this.elementList[t.tag]=t.properties,this.validTagList.find((e=>e===t.tag))||this.validTagList.push(t.tag),"grid"!=t.properties.type||this.validGridTagList.find((e=>e===t.tag))||this.validGridTagList.push(t.tag),window.customElements.get(e.detail.tag)&&this.testHook(document.createElement(e.detail.tag),"gizmoRegistration")&&await this.runHook(document.createElement(e.detail.tag),"gizmoRegistration",[this])}void 0!==e.target.parentElement&&"HAX-AUTOLOADER"===e.target.parentElement.tagName&&this.haxAutoloader.removeChild(e.target)}}get activeGizmo(){let e=Gi(this._calculateActiveGizmo(this.activeNode));return this.write("activeGizmo",e,this),e}get activeNodeIndex(){let e=null;return this.activeNode&&Array.from(Gi(this.activeHaxBody).children).map(((t,i)=>{Gi(this.activeNode)!==t&&Gi(this.activeNode).parentElement!==t||(e=i)})),e}async attemptGizmoTranslation(e,t){var i=await N.loadNamespaceFile(e+".haxProperties");if(!i&&"en"==this.globalPreferences.haxLang&&window.customElements.get(e)&&window.customElements.get(e).haxProperties&&"string"==typeof(i=window.customElements.get(e).haxProperties)&&(i=await fetch(i).then((e=>!(!e||!e.json)&&e.json()))),i){if(t.gizmo&&i.gizmo)for(var n in i.gizmo)t.gizmo[n]=i.gizmo[n];if(t.settings&&i.settings){let e={advanced:"advanced",configure:"configure"};for(var o in e)if(t.settings[o]&&i.settings[o])for(var n in i.settings[o])for(var r in i.settings[o][n])t.settings[o][n][r]=i.settings[o][n][r]}if(t.demoSchema&&i.demoSchema)for(var n in i.demoSchema)if(i.demoSchema[n].properties)for(var r in i.demoSchema[n].properties)t.demoSchema[n].properties[r]=i.demoSchema[n].properties[r]}return t}}window.customElements.define(oo.tag,oo),window.HaxStore=window.HaxStore||{},window.HaxStore.requestAvailability=function(){return window.HaxStore.instance||(window.HaxStore.instance=document.createElement("hax-store"),document.body.appendChild(window.HaxStore.instance)),window.HaxStore.instance};const ro=window.HaxStore.requestAvailability();window.Hax=window.Hax||{},window.Hax.add=function(e){if(ro.elementList[e]){let t,i=ro.haxSchemaFromTag(e);t=i.gizmo.tag&&i.demoSchema&&i.demoSchema[0]?f(i.demoSchema[0]):document.createElement(e),ro.activeHaxBody.haxReplaceNode(ro.activeNode,t),ro.activeHaxBody.__focusLogic(t)}else ro.toast(`${e} is not a valid tag`)},window.Hax.delete=function(){null!=ro.activeNode&&ro.activeHaxBody.haxDeleteNode(ro.activeNode)},window.Hax.duplicate=function(){ro.activeHaxBody.haxDuplicateNode(ro.activeNode)},window.Hax.move=function(e=!0){e?ro.activeHaxBody.haxMoveGridPlate("up",ro.activeNode):ro.activeHaxBody.haxMoveGridPlate("down",ro.activeNode)},window.Hax.grid=function(e=!0){ro.activeHaxBody.haxGridPlateOps(e)},window.Hax.set=function(e,t){ro.write(e,t,window)},window.Hax.get=function(e){return ro[e]},window.Hax.export=async function(){return await ro.activeHaxBody.haxToContent()},window.Hax.import=function(e="<p></p>"){return ro.activeHaxBody.importContent(e)};class so extends HTMLElement{get html(){return"\n    <style>\n    :host,h-a-x {\n      display: block;\n      font-size: var(--haxcms-base-styles-body-font-size);\n      font-family: var(--haxcms-base-styles-body-font-family);\n      line-height: var(--haxcms-base-styles-body-line-height);\n      letter-spacing: var(--haxcms-base-styles-body-letter-spacing);\n    }\n\n    :host([hidden]),h-a-x([hidden]) {\n      display: none;\n    }\n\n    :host hax-body, h-a-x hax-body {\n      font-size: var(--haxcms-base-styles-body-font-size);\n      font-family: var(--haxcms-base-styles-body-font-family);\n      line-height: var(--haxcms-base-styles-body-line-height);\n      letter-spacing: var(--haxcms-base-styles-body-letter-spacing);\n    }\n\n    :host img, h-a-x img {\n      max-width: 100%;\n      max-width: -moz-available;\n      max-width: -webkit-fill-available;\n      max-width: fill-available;\n    }\n\n    hax-body h1 {\n      font-size: var(--hax-base-styles-h1-font-size);\n      line-height: var(--hax-base-styles-h1-line-height);\n    }\n\n    hax-body h2 {\n      font-size: var(--hax-base-styles-h2-font-size);\n    }\n\n    hax-body h3 {\n      font-size: var(--hax-base-styles-h3-font-size);\n    }\n\n    hax-body h4 {\n      font-size: var(--hax-base-styles-h4-font-size);\n    }\n\n    hax-body h5 {\n      font-size: var(--hax-base-styles-h5-font-size);  \n    }\n\n    hax-body h6 {\n      font-size: var(--hax-base-styles-h6-font-size);\n    }\n\n    hax-body p {\n      min-height: var(--hax-base-styles-p-min-height);\n      font-size: var(--hax-base-styles-p-font-size);\n      line-height: var(--hax-base-styles-p-line-height);\n      letter-spacing: var(--hax-base-styles-p-letter-spacing);\n    }\n\n    hax-body a,\n    hax-body a:-webkit-any-link,\n    hax-body a,\n    hax-body a:-webkit-any-link    {\n      font-size: var(--hax-base-styles-a-font-size,var(--hax-base-styles-p-font-size));\n    }\n\n    hax-body ol,\n    hax-body ul\n    hax-body ol li,\n    hax-body ul li,\n    hax-body li {\n      line-height: var(--hax-base-styles-list-line-height,var(--hax-base-styles-p-line-height));\n      font-size: var(--hax-base-styles-list-font-size,var(--hax-base-styles-p-font-size));\n    }\n\n    hax-body  ul,\n    hax-body  ul ol,\n    hax-body  ol ul,\n    hax-body  ol ol {\n      padding-bottom: unset;\n    }\n    hax-body table {\n      min-width: 300px;\n      border-collapse: collapse;\n      margin: 0 0 15px;\n      display: table!important;\n    }\n    hax-body table caption,\n    hax-body table th,\n    hax-body table td {\n      border: 1px solid #888;\n      padding: 5px 10px;\n      text-align: left;\n      vertical-align: middle;\n    }\n    figure {\n      margin-left: 0;\n      margin-right: 0;\n    }\n    figure > *:first-child, \n    figcaption > *:first-child{\n      margin-top: 0;\n    }\n    figure > *:last-child.\n    figcaption > *:last-child {\n      margin-bottom: 0;\n    }\n    </style>\n    <hax-body>\n        <slot></slot>\n    </hax-body>"}static get tag(){return"h-a-x"}constructor(e=!1){super(),this.__rendered=!1,this.tag=so.tag,this.template=document.createElement("template"),this.attachShadow({mode:"open"}),e||this.render(),window.addEventListener("hax-store-ready",this.storeReady.bind(this),{once:!0,passive:!0}),window.addEventListener("hax-store-app-store-loaded",this.appStoreReady.bind(this),{once:!0,passive:!0}),import("./abffeeec.js").then((function(e){return e.l})),window.addEventListener("hax-cancel",this.cancelEvent.bind(this)),window.addEventListener("hax-save",this.saveEvent.bind(this))}cancelEvent(e){this.importSlotToHaxBody()}async saveEvent(e){const t=await ro.activeHaxBody.haxToContent();this.innerHTML=t,this.dispatchEvent(new CustomEvent("hax-save-body-value",{composed:!0,bubbles:!0,cancelable:!0,detail:{value:t}}))}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.__HAXApplied||window.__HAXApplied||(window.__HAXApplied=this.__HAXApplied=this.applyHAX())}storeReady(e){e.detail&&(setTimeout((()=>{try{let e={...JSON.parse(this.getAttribute("app-store"))};"object"==typeof e&&(ro.appStore=e)}catch(e){console.warn(e)}"hide-panel-ops"===this.hidePanelOps&&(this.hidePanelOps=!0),ro.haxTray.hidePanelOps=this.hidePanelOps,ro.haxTray.offsetMargin=this.offsetMargin,ro.elementAlign=this.elementAlign}),0),window.removeEventListener("hax-store-ready",this.storeReady.bind(this),{once:!0,passive:!0}))}importSlotToHaxBody(){var e=[];e=this.shadowRoot.querySelector("slot")?this.shadowRoot.querySelector("slot").assignedNodes():this.children;let t="";for(let i in e)void 0!==e[i].outerHTML&&(t+=e[i].outerHTML);ro.activeHaxBody.importContent(t)}appStoreReady(e){e.detail&&(this.importSlotToHaxBody(),window.removeEventListener("hax-store-app-store-loaded",this.appStoreReady.bind(this),{once:!0,passive:!0}))}render(){this.__rendered=!0,this.shadowRoot.innerHTML=null,this.template.innerHTML=this.html,this.shadowRoot.appendChild(this.template.content.cloneNode(!0))}applyHAX(){let e=window.HaxStore.requestAvailability(),t=document.createElement("hax-tray");return t.hidePanelOps=this.hidePanelOps,this.elementAlign=
/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
function(e){try{return localStorage.getItem(e)}catch(e){return!1}}("hax-tray-elementAlign"),this.elementAlign&&null!=this.elementAlign||(this.elementAlign="right"),e.elementAlign=this.elementAlign,document.body.appendChild(t),document.body.appendChild(document.createElement("hax-app-picker")),document.body.appendChild(document.createElement("hax-export-dialog")),document.body.appendChild(document.createElement("hax-autoloader")),document.body.appendChild(document.createElement("hax-cancel-dialog")),!0}disconnectedCallback(){window.removeEventListener("hax-store-ready",this.storeReady.bind(this),{once:!0,passive:!0}),window.removeEventListener("hax-store-app-store-loaded",this.appStoreReady.bind(this),{once:!0,passive:!0}),window.removeEventListener("hax-cancel",this.cancelEvent.bind(this)),window.removeEventListener("hax-save",this.saveEvent.bind(this)),super.disconnectedCallback&&super.disconnectedCallback()}static get observedAttributes(){return["element-align","offset-margin","app-store","hide-panel-ops"]}get elementAlign(){return this.getAttribute("element-align")}set elementAlign(e){this.__rendered&&(this.setAttribute("element-align",e),ro.elementAlign=e)}get offsetMargin(){return this.getAttribute("offset-margin")}set offsetMargin(e){this.setAttribute("offset-margin",e),this.__rendered&&(ro.haxTray.offsetMargin=e)}get hidePanelOps(){return this.getAttribute("hide-panel-ops")}set hidePanelOps(e){e&&(this.setAttribute("hide-panel-ops","hide-panel-ops"),this.__rendered&&(ro.haxTray.hidePanelOps=e))}get appStore(){return this.getAttribute("app-store")}set appStore(e){this.setAttribute("app-store",e),this.__rendered&&(ro.appStore={...JSON.parse(this.getAttribute("app-store"))})}attributeChangedCallback(e,t,i){}}window.customElements.define("h-a-x",so);var ao=Object.freeze({__proto__:null,HAX:so});export{ro as H,B as S,G as a,Ci as b,z as c,Zn as d,Qn as e,ao as h,T as s,Gi as t};
