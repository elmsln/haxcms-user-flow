import{a as t,x as i,b as o,$ as a,r as s,d as n,c as r,w as l}from"./0a48414c.js";import{S as d,s as c,a as h,b as u,H as p,t as m,c as g,d as b,e as f}from"./b5b0ec66.js";import{S as v,c as y,d as x,e as _,f as w,s as A,g as E}from"./d33ca003.js";import{normalizeEventPath as S,ReplaceWithPolyfill as C,unwrap as k,generateResourceID as T,haxElementToNode as N,nodeToHaxElement as P,wipeSlot as L,camelToDash as B,encapScript as O,wrap as M,winEventsElement as R,stripMSWord as z,formatHTML as H,camelCaseToDash as F,varGet as D}from"./b78a3bce.js";import{I18NMixin as $,I18NManagerStore as I}from"./29b617f1.js";import"./4a1de732.js";import{E as U}from"./b9bb5cf7.js";import"./f12c4254.js";const j={defaultSettings:{type:"string"},format:{"simple-fields":{defaultSettings:{type:"object",format:"simple-fields"}}},inputMethod:{alt:{defaultSettings:{type:"string",format:"alt"}},array:{defaultSettings:{type:"array"},properties:{label:"itemLabel"}},boolean:{defaultSettings:{type:"boolean"}},code:{defaultSettings:{type:"markup"}},"code-editor":{defaultSettings:{type:"markup"}},color:{defaultSettings:{type:"string",format:"color"}},colorpicker:{defaultSettings:{type:"string",format:"colorpicker"}},"date-time":{defaultSettings:{type:"string",format:"date-time"}},datepicker:{defaultSettings:{type:"string",format:"date"}},fieldset:{defaultSettings:{type:"object"}},fileupload:{defaultSettings:{type:"string",format:"fileupload"}},haxupload:{defaultSettings:{type:"string",format:"fileupload"}},iconpicker:{defaultSettings:{type:"string",format:"iconpicker"}},markup:{defaultSettings:{type:"markup"}},"md-block":{defaultSettings:{type:"markup",format:"md-block"}},monthpicker:{defaultSettings:{type:"string",format:"month"}},number:{defaultSettings:{type:"number"}},object:{defaultSettings:{type:"object"}},select:{defaultSettings:{type:"string",format:"select"}},slider:{defaultSettings:{type:"number",format:"slider"}},tabs:{defaultSettings:{type:"object",format:"tabs"}},textarea:{defaultSettings:{type:"string",format:"textarea"}},timepicker:{defaultSettings:{type:"string",format:"time"}},weekpicker:{defaultSettings:{type:"string",format:"week"}}}},V={defaultSettings:{element:"simple-fields-field",errorProperty:"errorMessage",invalidProperty:"invalid",noWrap:!0,attributes:{type:"text"},properties:{minLength:"minlength",maxLength:"maxlength"}},format:{radio:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"radio"},properties:{options:"options"},child:{element:"simple-fields-array-item",noWrap:!0,descriptionProperty:"description",properties:{previewBy:"previewBy"}}}},select:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"select"},properties:{options:"options",items:"itemsList"}}},"simple-picker":{defaultSettings:{element:"simple-picker",attributes:{autofocus:!0},properties:{options:"options"}}}},type:{array:{defaultSettings:{element:"simple-fields-array",noWrap:!0,descriptionProperty:"description",child:{element:"simple-fields-array-item",noWrap:!0,descriptionProperty:"description",properties:{previewBy:"previewBy"}}}},boolean:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"checkbox",value:!1}}},file:{defaultSettings:{import:"@lrnwebcomponents/hax-body/lib/hax-upload-field.js",element:"hax-upload-field",noWrap:!0,attributes:{autofocus:!0,type:"file"},properties:{accepts:"accepts"}}},integer:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,step:1,type:"number"},properties:{minimum:"min",maximum:"max",multipleOf:"step"}}},markup:{defaultSettings:{import:"@lrnwebcomponents/simple-fields/lib/simple-fields-code.js",element:"simple-fields-code",setValueProperty:"editorValue",noWrap:!0},format:{"md-block":{defaultSettings:{element:"md-block",setValueProperty:"source",noWrap:!0}}}},number:{defaultSettings:{element:"simple-fields-field",noWrap:!0,type:"number",attributes:{autofocus:!0,type:"number"},properties:{minimum:"min",maximum:"max",multipleOf:"step"}}},object:{defaultSettings:{element:"simple-fields-fieldset",noWrap:!0},format:{cardlist:{defaultSettings:{element:"hax-element-card-list",noWrap:!0}},tabs:{defaultSettings:{import:"@lrnwebcomponents/simple-fields/lib/simple-fields-tabs.js",element:"simple-fields-tabs",noWrap:!0,child:{import:"@lrnwebcomponents/simple-fields/lib/simple-fields-tab.js",element:"simple-fields-tab",noWrap:!0,labelSlot:"label",descriptionSlot:""},properties:{layoutBreakpoint:"layoutBreakpoint",iconBreakpoint:"iconBreakpoint",sticky:"sticky"}}},fields:{defaultSettings:{element:"simple-fields",noWrap:!0,descriptionProperty:"description",properties:{schema:"schema"}}}}},string:{format:{alt:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,required:!0}}},color:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"color"}}},colorpicker:{defaultSettings:{import:"@lrnwebcomponents/simple-colors/lib/simple-colors-picker.js",element:"simple-colors-picker",attributes:{autofocus:!0}}},date:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"date"}}},"date-time":{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"datetime-local"}}},date:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"date"}}},email:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"email"}}},fileupload:{defaultSettings:{import:"@lrnwebcomponents/hax-body/lib/hax-upload-field.js",element:"hax-upload-field",noWrap:!0,attributes:{autofocus:!0},properties:{accepts:"accepts"}}},iconpicker:{defaultSettings:{import:"@lrnwebcomponents/simple-icon-picker/simple-icon-picker.js",element:"simple-icon-picker",attributes:{autofocus:!0}}},month:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"month"}}},textarea:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"textarea"}}},time:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"time"}}},uri:{defaultSettings:{element:"simple-fields-field",noWrap:!0,attributes:{autofocus:!0,type:"file"},properties:{accepts:"accepts"}}}}}}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var q,G;class W extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=i(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return o}}W.finalized=!0,W._$litElement$=!0,null===(q=globalThis.litElementHydrateSupport)||void 0===q||q.call(globalThis,{LitElement:W});const X=globalThis.litElementPolyfillSupport;null==X||X({LitElement:W}),(null!==(G=globalThis.litElementVersions)&&void 0!==G?G:globalThis.litElementVersions=[]).push("3.0.1");
/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const Y=function(t){return class extends t{static get properties(){return{...super.properties,canUndo:{type:Boolean,attribute:"can-undo"},canRedo:{type:Boolean,attribute:"can-redo"},undoStackObserverProps:{type:Object},target:{type:Object},stack:{type:Object}}}constructor(){super(),this.__StackDebounce,this.undoStackLimit=20,this.undoStackTimer=300,this.undoStackIgnore=!1,this.undoStackObserver=null,this.undoStackObserverProps={attributes:!0,attributeOldValue:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.undoStackInitialValue=this.innerHTML,this.undoStackPrevValue=this.undoStackInitialValue}connectedCallback(){this.undoStackObserver=new MutationObserver((t=>{clearTimeout(this.__StackDebounce),this.__StackDebounce=setTimeout((()=>{this.undoStackIgnore?this.undoStackIgnore=!1:this.undoManagerStackLogic(t)}),this.undoStackTimer)})),this.undoStackObserver.observe(this,this.undoStackObserverProps),this.undoManagerStackLogic({}),super.connectedCallback()}undoManagerStackLogic(t){const e=this.innerHTML;this.undoStack&&""!=e&&e!=this.undoStackPrevValue&&this.undoStackInitialValue!=e&&(this.undoStack.execute(new K(this,this.undoStackPrevValue,e)),this.undoStackPrevValue=e,this.dispatchEvent(new CustomEvent("stack-changed",{detail:{value:this.undoStack},bubbles:!0,composed:!0})))}disconnectedCallback(){this.undoStackObserver&&this.undoStackObserver.disconnect(),super.disconnectedCallback()}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.undoStack=new J,this.undoStack.undoStackLimit=this.undoStackLimit,this.undoStack.undoStackPosition=-1,this.undoStack.commands=[],this.undoStack.changed=t=>{this.canRedo=this.undoStack.canRedo(),this.canUndo=this.undoStack.canUndo()},this.undoStack.changed()}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{"canUndo"==e&&this.dispatchEvent(new CustomEvent("can-undo-changed",{detail:{value:this[e]},bubbles:!0,composed:!0})),"canRedo"==e&&this.dispatchEvent(new CustomEvent("can-redo-changed",{detail:{value:this[e]},bubbles:!0,composed:!0}))}))}undo(){return this.undoStack.undo()}redo(){return this.undoStack.redo()}commands(){return this.undoStack.commands}}};class Q extends(Y(W)){static get tag(){return"undo-manager"}render(){return a`<slot></slot>`}}customElements.define("undo-manager",Q);class J{constructor(){this.commands=[],this.undoStackPosition=-1,this.undoStackLimit=20}execute(t){this._clearRedo(),t.execute(),this.undoStackLimit==this.commands.length?this.commands.splice(Math.round(this.commands.length/3),1):this.undoStackPosition++,this.commands.push(t),this.changed()}undo(){this.commands[this.undoStackPosition]&&(this.commands[this.undoStackPosition].undo(),this.undoStackPosition--,this.changed())}canUndo(){return this.undoStackPosition>=0}redo(){this.commands[this.undoStackPosition+1]&&(this.undoStackPosition++,this.commands[this.undoStackPosition].redo(),this.changed())}canRedo(){return this.undoStackPosition<this.commands.length-1}_clearRedo(){this.commands=this.commands.slice(0,this.undoStackPosition+1)}changed(){}}class K{constructor(t,e,i){this.el=t,this.oldValue=e,this.newValue=i}execute(){}undo(){this.el.undoStackIgnore=!0,this.el.undoStack.commands&&this.el.undoStack.commands[this.el.undoStack.undoStackPosition-1]?this.el.innerHTML=this.el.undoStack.commands[this.el.undoStack.undoStackPosition-1].newValue:this.el.undoStack.commands&&0===this.el.undoStack.undoStackPosition?this.el.innerHTML=this.el.undoStackInitialValue:this.el.innerHTML=this.oldValue}redo(){this.el.undoStackIgnore=!0,this.el.innerHTML=this.newValue}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Z,tt;class et extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=i(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return o}}et.finalized=!0,et._$litElement$=!0,null===(Z=globalThis.litElementHydrateSupport)||void 0===Z||Z.call(globalThis,{LitElement:et});const it=globalThis.litElementPolyfillSupport;null==it||it({LitElement:et}),(null!==(tt=globalThis.litElementVersions)&&void 0!==tt?tt:globalThis.litElementVersions=[]).push("3.0.1");
/**
 * Copyright 2018 Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class ot extends et{static get styles(){return[s`:host{outline:1px dotted currentColor}:host(:empty){outline:0;border-left:1px dotted currentColor;margin-right:-.2em}:host([hidden]){display:none!important}`]}static get properties(){return{hidden:{type:Boolean,reflect:!0},id:{type:String,reflect:!0},range:{type:Object}}}render(){return a`<slot></slot>`}static get tag(){return"rich-text-editor-highlight"}constructor(){super(),this.haxUIElement=!0;let t=Math.floor(65536*(1+Math.random())).toString(16).substring(1);this.id="rte-"+"ss-s-s-s-sss".replace(/s/g,t)}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t)}emptyContents(){[...this.childNodes].forEach((t=>{this.parentNode&&this.parentNode.insertBefore(t,this)})),document.body.append(this),this.hidden=!0,this.range=void 0}wrap(t){if(!t)return;this.hidden||t===this.range||this.emptyContents(),this.range=t;let e=t.extractContents();this.append(e);try{t.insertNode(this)}catch(t){}t.selectNodeContents(this),this.hidden=!1}unwrap(t){let e=[...this.childNodes].reverse();t&&t.setStartBefore(this),e.forEach(((e,i)=>{t&&t.insertNode(e)})),document.body.append(this),this.hidden=!0,this.range=t}}window.customElements.define(ot.tag,ot),window.RichTextEditorHighlight=window.RichTextEditorHighlight||{},window.RichTextEditorHighlight.requestAvailability=()=>(window.RichTextEditorHighlight.instance||(window.RichTextEditorHighlight.instance=document.createElement("rich-text-editor-highlight"),document.body.appendChild(window.RichTextEditorHighlight.instance)),window.RichTextEditorHighlight.instance);
/**
 * Copyright 2018 Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class at extends et{static get styles(){return[s`:host{display:none!important}textarea{position:absolute;left:-9999px;top:0;width:0;height:0;overflow:hidden}`]}static get properties(){return{__textarea:{type:Object}}}render(){return a`<textarea aria-hidden="true"></textarea>`}setClipboard(){this.__textarea=this.__textarea||this.shadowRoot.querySelector("textarea"),setTimeout((async()=>{this.__textarea.value=await navigator.clipboard.readText(),this.__textarea.focus(),this.__textarea.select(),document.execCommand("paste")}),1)}get value(){return this.__textarea=this.__textarea||this.shadowRoot.querySelector("textarea"),this.__textarea.value}static get tag(){return"rich-text-editor-clipboard"}constructor(){super(),this.haxUIElement=!0}}window.customElements.define(at.tag,at),window.RichTextEditorClipboard=window.RichTextEditorClipboard||{},window.RichTextEditorClipboard.requestAvailability=()=>(window.RichTextEditorClipboard.instance||(window.RichTextEditorClipboard.instance=document.createElement("rich-text-editor-clipboard"),document.body.appendChild(window.RichTextEditorClipboard.instance)),window.RichTextEditorClipboard.instance);
/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class st extends et{static get styles(){return[s`:host{display:block}:host([hidden]){display:none}:host([disabled]),:host([view-source]){outline:0!important}#container{display:flex;align-items:stretch;justify-content:space-between;width:100%}#source,#wysiwyg{margin:0;padding:0;min-height:var(--rich-text-editor-min-height,20px);cursor:pointer;outline:0;overflow:auto;resize:horizontal}#source{flex:1 1 auto;min-width:300px;padding-bottom:20px}#wysiwyg{flex:0 1 auto;display:block;margin-left:10px;max-height:70vh;overflow-x:hidden;resize:auto}#source:focus-within,#source:hover{outline:var(--rich-text-editor-border-width,1px) var(--rich-text-editor-focus-border-style,1px) var(--rich-text-editor-focus-color,#00f)}`]}render(){return a` <div id="container"> <div id="wysiwyg" part="wysiwyg"> <slot></slot> </div> <code-editor id="source" font-size="13" language="html" @value-changed="${this._handleSourceChange}" word-wrap part="source"> </code-editor> </div>`}static get properties(){return{...super.properties,id:{name:"id",type:String,reflect:!0,attribute:"id"},disabled:{name:"disabled",type:Boolean,attribute:"disabled",reflect:!0},hidden:{name:"hidden",type:Boolean,attribute:"hidden",reflect:!0},__target:{type:Object},__toolbar:{type:Object},__codeEditorValue:{type:String},__needsUpdate:{type:Boolean}}}static get tag(){return"rich-text-editor-source"}constructor(){if(super(),this.id="",import("./da3789ad.js").then((function(t){return t.c})),!window.RichTextEditorSource.instance)return window.RichTextEditorSource.instance=this,this}firstUpdated(){super.firstUpdated&&super.firstUpdated(),this.toggle()}updated(t){super.updated(t),t.forEach(((t,e)=>{}))}toggle(t){let e=this.shadowRoot?this.shadowRoot.querySelector("#source"):void 0;!e||!t||!t.target||this.__toolbar&&this.__toolbar===t?([...document.querySelectorAll("[data-rich-text-editor-view-source-mode]")].forEach((t=>t.removeAttribute("data-rich-text-editor-view-source-mode"))),this.__target&&this.__target.focus(),this.hidden=!0,this.__toolbar=void 0,this.__target=void 0,this.disabled=!0,this.__codeEditorValue="",this.innerHTML=this.__codeEditorValue,document.body.append(this)):(this.__toolbar=t,this.__target=t.target,this.disabled=this.__target.disabled,this.__target.setAttribute("data-rich-text-editor-view-source-mode",!0),this.__target.parentNode.insertBefore(this,this.__target),this.__codeEditorValue=this.__toolbar.targetHTML,this.innerHTML=this.__codeEditorValue,e.editorValue=this.__codeEditorValue,this.hidden=!1,e.focus())}_handleSourceChange(t){if(this.__toolbar&&this.__target&&!this.__needsUpdate){this.__needsUpdate=!t.detail||!t.detail.value||this.__toolbar.htmlMatchesTarget(`${t.detail.value}`);let e=()=>{this.__needsUpdate=!1,this.__codeEditorValue=t.detail.value,this.innerHTML=t.detail.value,this.__target.innerHTML=t.detail.value};this.__needsUpdate&&setTimeout(e.bind(this),300)}}}window.customElements.define(st.tag,st),window.RichTextEditorSource=window.RichTextEditorSource||{},window.RichTextEditorSource.requestAvailability=()=>(window.RichTextEditorSource.instance||(window.RichTextEditorSource.instance=document.createElement("rich-text-editor-source"),window.RichTextEditorSource.stylesheet=document.createElement("style"),window.RichTextEditorSource.stylesheet.innerHTML="rich-text-editor-source + [data-rich-text-editor-view-source-mode] { display: none }",document.body.appendChild(window.RichTextEditorSource.instance),document.head.appendChild(window.RichTextEditorSource.stylesheet)),window.RichTextEditorSource.instance);
/**
 * Copyright 2018 Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const nt=function(t){return class extends t{static get properties(){return{range:{name:"range",type:Object},__toolbar:{name:toolbar,type:Object},__highlight:{type:Object},__clipboard:{type:Object},__source:{type:Object}}}constructor(){super(),this.haxUIElement=!0,this.__highlight=window.RichTextEditorHighlight.requestAvailability(),this.__clipboard=window.RichTextEditorClipboard.requestAvailability()}get commandIsToggled(){return this.commandToggledForRange()}get hasBreadcrumbs(){return!1}get toggledCommands(){return this.toggledCommandsForRange()}get validCommands(){return["backColor","bold","copy","createLink","cut","decreaseFontSize","defaultParagraphSeparator","delete","fontName","fontSize","foreColor","formatBlock","forwardDelete","hiliteColor","increaseFontSize","indent","insertBrOnReturn","insertHorizontalRule","insertHTML","insertImage","insertLineBreak","insertOrderedList","insertUnorderedList","insertParagraph","insertText","italic","justifyCenter","justifyFull","justifyLeft","justifyRight","outdent","paste","redo","removeFormat","selectAll","strikeThrough","styleWithCss","subscript","superscript","underline","undo","unlink","useCSS"]}closeToolbar(t=this.__toolbar,e=this.__toolbar.target){e&&t.disableEditing(e),t.target=void 0,document.body.append(t)}sanitizeHTML(t){return this.__toolbar.sanitizeHTML(t)}trimHTML(t){let e=t?t.innerHTML:void 0;return this.trimString(e)}trimString(t){return(t||"").replace(/<!--[^(-->)]*-->/g,"").replace(/[\s\t\r\n]/gim,"")}outdentHTML(t=""){let e=(t=this.sanitizeHTML(t).replace(/[\s]*$/,"").replace(/^[\n\r]*/,"").replace(/[\n\r]+/gm,"\n")).match(/^\s+/),i=!!e&&e[0],o=!!i&&new RegExp(`\\n${i}`,"gm");return t=t.replace(/^\s+/,""),t=o?t.replace(o,"\n "):t}pasteFromClipboard(t=this.range){this.__clipboard.setClipboard(),setTimeout((async()=>{this.paste(this.__clipboard.value,t,!0)}),100)}paste(t,e=this.range,i=!0){this.dispatchEvent(new CustomEvent("paste",{bubbles:!0,cancelable:!0,composed:!0,detail:this.target}));let o=this.__toolbar.target;if(o){let e=this.range,a=document.createElement("div");if(o=e.commonAncestorContainer.parentNode.closest("[contenteditable=true]:not([disabled]),input:not([disabled]),textarea:not([disabled])")){for(a.innerHTML=i?this.sanitizeHTML(t||this.__clipboard.value):t,e&&e.extractContents&&e.extractContents(),e.insertNode(a);a.firstChild;)a.parentNode.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)}o.normalize()}}get highlighted(){return!!this.__highlight&&!this.__highlight.hidden}getRange(){let t=this.getSelection();return this.__toolbar?this.__toolbar.getRange():t.getRangeAt(0)}getSelection(){return this.__toolbar?this.__toolbar.getSelection():window.getSelection()}getRoot(t){return t&&t!==document?t.parentNode?this.getRoot(t.parentNode):t:document}debugRange(t=this.getRange()){let e=!(!t||t.collapsed||!t.cloneContents)&&t.cloneContents();return{range:t,contents:e,text:!!e&&e.textContent}}commandToggledForRange(t=this.range||this.getRange(),e=this.command){let i=!(!t||!e)&&document.queryCommandState(this.command);return!!("underline"===e?!!this.rangeOrMatchingAncestor("u"):i)}toggledCommandsForRange(t=this.range||this.getRange()){return this.validCommands.filter((e=>{this.commandToggledForRange(t,e)}))}rangeOrMatchingAncestor(t=this.tagsList||"",e=this.range||this.getRange()){let i=this.rangeElementOrParentElement(e);return i&&""!=t?i.matches(t)?i:i.closest(t):void 0}rangeElementOrParentElement(t=this.range||this.getRange()){return this.rangeIsElement(t)?t.startContainer:this.rangeParentElement(t)}rangeNodeOrParentNode(t=this.range||this.getRange()){return this.rangeIsNode(t)?t.startContainer:this.rangeParentNode(t)}rangeBreadcrumbs(t=this.range||this.getRange()){let e=[];return e.push({nodeName:!1}),e.reverse()}rangeIsNode(t=this.range||this.getRange()){let e=t?t.startContainer:void 0,i=t?t.startOffset:void 0,o=t?t.endContainer:void 0,a=t?t.endOffset:void 0;return!!e&&e===o&&a-i==1}rangeIsElement(t=this.range||this.getRange()){return this.rangeIsNode(t)&&1==t.startContainer.nodeType}rangeParentElement(t=this.range||this.getRange()){let e=t?t.commonAncestorContainer:void 0;return e?1==e.nodeType?e:e.parentElement:void 0}rangeParentNode(t=this.range||this.getRange()){let e=t?t.commonAncestorContainer:void 0;return e?e.parentNode:void 0}rangeNodes(t=this.range||this.getRange()){let e=this.rangeFirstNode(t),i=[];for(;e;)i.push(e),e=e.nextSibling;return i}rangeFirstNode(t=this.range||this.getRange()){return t&&t.startContainer&&t.startContainer.childNodes?t.startContainer.childNodes[t.startOffset-1]:void 0}rangeLastNode(t=this.range||this.getRange()){return t&&t.endContainer&&t.endContainer.childNodes?t.endContainer.childNodes[t.endOffset-1]:void 0}selectNode(t,e=this.range){if(t&&t.parentNode){if(!e){let t=this.getSelection();e=document.createRange(),t.removeAllRanges(),t.addRange(e)}e&&(e.selectNode(t),this._rangeChanged(e))}}selectNodeContents(t,e=this.range){if(t){if(!e){let t=this.getSelection();e=document.createRange(),t.removeAllRanges(),t.addRange(e)}e&&(e.selectNodeContents(t),this._rangeChanged(e))}}highlightNode(t,e=this.range){(t||this.rangeOrMatchingAncestor())&&this.selectNode(t,e),this.__toolbar.updateRange(),this.__highlight.wrap(e)}selectRange(t=this.range,e=!0){if(t)if(e){let e=this.getSelection();e.removeAllRanges(),e.addRange(t)}else t.isCollapsed||t.collapse();return t}surroundRange(t,e=this.range){e&&e.surroundContents(t)}_rangeChanged(t){this.dispatchEvent(new CustomEvent("rangechange",{bubbles:!0,composed:!0,cancelable:!0,detail:{element:this,range:t}}))}initViewSource(){this.__source=this.__source||window.RichTextEditorSource.requestAvailability()}_handleCommand(t,e,i){let o=this.__toolbar,a=o.target;this.validCommands.includes(t)?(e=o&&e?o.sanitizeHTML(e):e,this.__highlight.parentNode===document.body&&this.__highlight.wrap(i),this.__highlight.unwrap(i),i=i||this.__highlight.range||this.range,this.selectRange(i),"paste"!=t?(document.execCommand(t,!1,e),a.normalize()):navigator.clipboard&&this.pasteFromClipboard()):"cancel"===t?(a&&a.revert(),o.close(a)):"close"===t?o.close(a):"viewSource"===t&&this.__source.toggle(o)}}};["courseicons","hax","lrn","mdextra","mdi-social","editable-table","drawing","paper-audio-icons"].forEach((t=>{n.registerIconset(t,`${new URL("./",import.meta.url).href}svgs/${t}/`)}));
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */
const rt=[s`:host{--simple-toolbar-border-color:var(--rich-text-editor-border-color, #ddd);--simple-toolbar-border-width:var(--rich-text-editor-border-width, 1px);--simple-toolbar-button-bg:var(--rich-text-editor-bg, #ffffff);--simple-fields-focus-color:var(--rich-text-editor-focus-color, blue);--simple-fields-invalid-color:var(--rich-text-editor-error-color, #800)}`],lt=[...rt,s`:host{--simple-toolbar-border-color:var(--rich-text-editor-border-color, #ddd);--simple-toolbar-border-width:var(--rich-text-editor-border-width, 1px);--simple-toolbar-button-opacity:var(
        --rich-text-editor-button-opacity,
        1
      );--simple-toolbar-button-color:var(--rich-text-editor-button-color, #444);--simple-toolbar-button-bg:var(--rich-text-editor-button-bg, #ffffff);--simple-toolbar-button-border-color:var(
        --rich-text-editor-button-border-color,
        transparent
      );--simple-toolbar-button-toggled-opacity:var(
        --rich-text-editor-button-toggled-opacity,
        1
      );--simple-toolbar-button-toggled-color:var(
        --rich-text-editor-button-toggled-color,
        #222
      );--simple-toolbar-button-toggled-bg:var(
        --rich-text-editor-button-toggled-bg,
        #ddd
      );--simple-toolbar-button-toggled-border-color:var(
        --rich-text-editor-button-toggled-border-color,
        transparent
      );--simple-toolbar-button-hover-opacity:var(
        --rich-text-editor-button-hover-opacity,
        1
      );--simple-toolbar-button-hover-color:var(
        --rich-text-editor-button-hover-color,
        #000
      );--simple-toolbar-button-hover-bg:var(
        --rich-text-editor-button-hover-bg,
        #f0f0f0
      );--simple-toolbar-button-hover-border-color:var(
        --rich-text-editor-button-hover-border-color,
        unset
      );--simple-toolbar-button-disabled-opacity:var(
        --rich-text-editor-button-disabled-opacity,
        1
      );--simple-toolbar-button-disabled-color:var(
        --rich-text-editor-button-disabled-color,
        #666
      );--simple-toolbar-button-disabled-bg:var(
        --rich-text-editor-button-disabled-bg,
        transparent
      );--simple-toolbar-button-disabled-border-color:var(
        --rich-text-editor-button-disabled-border-color,
        transparent
      )}button[part=button]{border-radius:var(--rich-text-editor-button-disabled-border-radius,0)}`],dt=function(t){return class extends(nt(v(t))){static get tag(){return"rich-text-editor-button"}static get styles(){return[...super.styles,...lt]}render(){return super.render()}static get properties(){return{...super.properties,disabled:{type:Boolean,reflect:!0,attribute:"disabled"},command:{type:String,reflect:!0,attribute:"command"},commandVal:{attribute:"command-val",type:Object},tagsList:{type:String},target:{type:Object},toggledCommand:{attribute:"toggled-command",type:String,reflect:!0},toggledCommandVal:{attribute:"toggled-command-val",type:Object},selectedNode:{type:Object},selectionAncestors:{type:Array}}}constructor(){super(),this.tagsList=""}get isToggled(){return this.commandIsToggled}get operationCommand(){return this.isToggled&&this.toggledCommand?this.toggledCommand:this.command}get operationCommandVal(){return this.isToggled&&this.toggledCommand?this.toggledCommandVal||"":this.commandVal}get tagsArray(){return(this.tagsList||"").replace(/\s*/g,"").toLowerCase().split(",")}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t)}updated(t){super.updated(t),t.forEach(((t,e)=>{"controls"===e&&this._editorChanged(this.controls,t),"range"===e&&this._rangeChanged(this.range,t),["shortcutKeys","tagsList","tagClickCallback"].includes(e)&&this.updateButtonRegistry()}))}connectedCallback(){super.connectedCallback()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}commandCallback(t,e,i){}tagClickCallback(t){return!1}wrapSelection(t){this.dispatchEvent(new CustomEvent("wrapselection",{bubbles:!0,composed:!0,cancelable:!0,detail:t}))}sendCommand(t){this._handleCommand(this.operationCommand,this.operationCommandVal,this.range),this.commandCallback&&this.commandCallback(this.target,this.__toolbar,this),this.dispatchEvent(new CustomEvent("command",{bubbles:!0,cancelable:!0,composed:!0,detail:{command:this.operationCommand,commandVal:this.operationCommandVal,range:this.range,button:this}}))}setRange(){if(!this.tagsList||""===this.tagsList)return;let t=this.rangeOrMatchingAncestor();t&&this.selectNode(t)}_handleClick(t){t.preventDefault(),this.sendCommand(t)}_editorChanged(t,e){}_getSelection(){return"formatBlock"===this.command?this.rangeOrMatchingAncestor():this._getSelectedHtml()}_getSelectedHtml(){if(this.range){let t,e=document.createElement("div"),i=this.range.cloneContents();return e.appendChild(i),t=e.innerHTML,e.remove(),t?t.trim():void 0}}_getSelectedTag(){let t=this.rangeOrMatchingAncestor();return!(!t||!t.tagName)&&t.tagName.toLowerCase()}_getSelectionType(){return"formatBlock"===this.command?this._getSelectedTag():this._getSelectedHtml()}_rangeChanged(t,e){}}};class ct extends(dt(et)){}window.customElements.define(ct.tag,ct);
/**
 * Copyright 2018 Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class ht extends(nt(et)){static get styles(){return[...lt,s`#prompt{display:block;width:300px;max-width:300px;--simple-popover-padding:0px;z-index:2}#prompt[hidden]{display:none}#prompt #form{display:flex;flex-direction:column;align-items:center;justify-content:space-between;z-index:2}#formfields{width:calc(100% - 20px);padding:10px 10px 0;overflow:visible}#prompt simple-fields-field{padding:0}#cancel,#confirm{min-width:unset}#cancel{color:var(--rich-text-editor-button-color);background-color:var(--rich-text-editor-button-bg)}#cancel:focus,#cancel:hover{color:var(--rich-text-editor-button-hover-color);background-color:var(--rich-text-editor-button-hover-bg)}#confirm{color:var(--rich-text-editor-button-color);background-color:var(--rich-text-editor-button-bg)}#confirm:focus,#confirm:hover{color:var(--rich-text-editor-button-hover-color);background-color:var(--rich-text-editor-button-hover-bg)}.actions{width:calc(100% - 20px);padding:0 10px 3px;display:flex;align-items:center;justify-content:flex-end}.confirm-or-cancel{min-width:40px}`]}render(){return a` <simple-popover id="prompt" ?auto="${!this.hidden||!this.__highlight.hidden}" for="${this.__highlight?this.__highlight.id:""}" ?hidden="${this.hidden||this.__highlight.hidden}" position="bottom" position-align="center" .target="${this.__highlight}"> <form id="form" @blur="${this._handleBlur}" @focus="${this._handleFocus}"> <simple-fields id="formfields" hide-line-numbers .fields="${this.fields}" @fields-ready="${this._handleReady}" .value="${this.value}"></simple-fields> <div class="actions"> <simple-toolbar-button id="cancel" controls="${this.__highlight?this.__highlight.id:""}" label="Cancel" icon="clear" @click="${this._cancel}"> </simple-toolbar-button> <simple-toolbar-button id="confirm" controls="${this.__highlight?this.__highlight.id:""}" @click="${this._confirm}" icon="check" label="OK"> </simple-toolbar-button> </div> </form> </simple-popover> `}static get tag(){return"rich-text-editor-prompt"}static get properties(){return{fields:{type:Array},range:{type:Object},value:{type:Object},__focused:{type:Boolean},__hovered:{type:Boolean},__opened:{type:Boolean}}}constructor(){if(super(),window.addEventListener("rich-text-editor-prompt-open",this.open.bind(this)),!window.RichTextEditorPrompt.instance)return window.RichTextEditorPrompt.instance=this,this}get hidden(){return!this.__opened}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.__highlight.addEventListener("change",(t=>setTimeout(this._handleChange(t),300))),this.addEventListener("mousedown",(t=>this.__retainFocus=!0)),this.addEventListener("mouseup",(t=>this.__retainFocus=!1)),this.addEventListener("focusin",(t=>this.__retainFocusIn=!0)),this.addEventListener("focusout",(t=>this.__retainFocusIn=!1)),this.addEventListener("focus",this._handleFocus),this.addEventListener("blur",this._handleBlur)}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{["__focused","__hovered","__opened"].includes(e)&&setTimeout(this._handleChange.bind(this),300)}))}_handleReady(t){t.detail.focus()}_handleFocus(t){this.__focused=!0}_handleBlur(t){this.__retainFocus||this.__retainFocusIn||(this.__focused=!1)}_handleChange(t){setTimeout((()=>{!this.__opened||this.__focused||this.__hovered||this._cancel()}),500)}open(t){t&&t.detail&&(this.__opened=!0,this.__focused=!0,this.button=t.detail,this.fields=[...t.detail.fields],this.value={...t.detail.value},this.shadowRoot.querySelector("#cancel").focus())}close(){this.__opened=!1,this.__focused=!1,this.button=void 0,this.fields=[],this.value={}}_cancel(t){t&&t.preventDefault(),this.button&&this.button.cancel(),this.close()}_confirm(t){t.preventDefault(),this.button.confirm(this.value),this.close()}}window.customElements.define(ht.tag,ht),window.RichTextEditorPrompt=window.RichTextEditorPrompt||{},window.RichTextEditorPrompt.requestAvailability=()=>(window.RichTextEditorPrompt.instance||(window.RichTextEditorPrompt.instance=document.createElement("rich-text-editor-prompt"),document.body.appendChild(window.RichTextEditorPrompt.instance)),window.RichTextEditorPrompt.instance);const ut="attachShadow"in Element.prototype&&"getRootNode"in Element.prototype,pt=!(!ut||!document.createElement("div").attachShadow({mode:"open"}).getSelection),mt=window.ShadyDOM&&window.ShadyDOM.inUse,gt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,bt=!ut||mt||!pt&&!gt,ft=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|script|source|style|template|track|wbr)$/,vt=[Node.ELEMENT_NODE,Node.TEXT_NODE,Node.DOCUMENT_FRAGMENT_NODE];function yt(t){return vt.includes(t.nodeType)}function xt(t,e,i){const o=e.childNodes||e.children;if(!o)return e;for(let e=0;e<o.length;++e){const a=o[i?e:o.length-1-e];if(yt(a)&&t.containsNode(a,!0)){if(t.containsNode(a,!1))return a;if(!ft.exec(a.localName||""))return xt(t,a,i)}}return e}let _t={node:null,offset:-1};function wt(t,e,i){const o=e;for(;(e=At(e,i))&&e.contains(o););return!!e&&(e instanceof Element&&t.containsNode(e,!0))}function At(t,e){if(!e)return t.previousSibling||t.parentNode||null;for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}return null}!function(){if(pt||bt)return document.addEventListener("selectionchange",(t=>{document.dispatchEvent(new CustomEvent("-shadow-selectionchange"))})),()=>{};let t=!1;document.addEventListener("selectionchange",(e=>{if(t)return;t=!0;const i=window.getSelection();if("Caret"===i.type){const t=function(t,e){const i=[],o=t=>{for(let e=0;e<t.length;++e)t[e].shadowRoot&&i.push(t[e].shadowRoot)};for(e.shadowRoot&&i.push(e.shadowRoot),o(e.childNodes);i.length;){const e=i.shift();for(let i=0;i<e.childNodes.length;++i)if(t.containsNode(e.childNodes[i],!0))return e;o(e.querySelectorAll("*"))}return null}(i,i.anchorNode);if(t instanceof window.ShadowRoot){const e=St(t);if(e){const t=e.startContainer,i=e.startOffset;_t={node:t,offset:i}}}}document.dispatchEvent(new CustomEvent("-shadow-selectionchange")),window.requestAnimationFrame((()=>{t=!1}))}))}();const Et=new Map;function St(t){if(bt){const e=document.getSelection();return e.containsNode(t,!0)?e.getRangeAt(0):null}if(pt){const e=t.getSelection();return e.rangeCount?e.getRangeAt(0):null}const e=Et.get(t);if(e)return e;const i=function(t){const e=window.getSelection();if("None"===e.type)return{range:null,type:"none"};if("Caret"!==e.type&&"Range"!==e.type)throw new TypeError("unexpected type: "+e.type);const i=xt(e,t,!0);if(i===t)return{range:null,mode:"none"};const o=document.createRange();let a,s=null;if("Range"===e.type&&(s=xt(e,t,!1),a=function(t,e,i){if("Range"!==t.type)return;const o=()=>t.toString().length,a=o();let s;return t.modify("extend","forward","character"),s=o(),s>a||wt(t,i,!0)?(t.modify("extend","backward","character"),!0):s<a||!t.containsNode(e)?(t.modify("extend","backward","character"),!1):(t.modify("extend","backward","character"),s=o(),s>a||wt(t,e,!1)?(t.modify("extend","forward","character"),!1):s<a||!t.containsNode(i)?(t.modify("extend","forward","character"),!0):void 0)}(e,i,s),void 0===a))return o.setStart(i,0),o.setEnd(s,s.length),{range:o,mode:"all"};const n=e.toString().length;let r=0,l=0;if(null===s);else if(s.nodeType===Node.TEXT_NODE){const t=s.textContent,i=s.nextSibling;for(let i=t.length-1;i>=0;--i){s.splitText(i);if(e.toString().length!==n){l=i+1;break}}for(s.insertData(s.length,t.substr(s.length));s.nextSibling!==i;)s.nextSibling.remove()}if(i.nodeType===Node.TEXT_NODE){i!==s&&(i.appendData("?"),e.collapseToStart(),e.modify("extend","right","character"));const t=i.textContent,o=i.nextSibling;for(let o=i===s?l:t.length-1;o>=0;--o)if(i.splitText(o),""===e.toString()){r=o;break}for(i.insertData(i.length,t.substr(i.length));i.nextSibling!==o;)i.nextSibling.remove();i!==s&&i.deleteData(i.length-1,1),null===s&&(s=i,l=r)}else null===s&&(s=i);1===n&&_t&&_t.node===i&&_t.offset>r&&a&&(a=!1);!0===a?(e.collapse(i,r),e.extend(s,l)):!1===a?(e.collapse(s,l),e.extend(i,r)):e.setPosition(i,r);return o.setStart(i,r),o.setEnd(s,l),{range:o,mode:"normal"}}
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */(t);return Et.set(t,i.range),window.setTimeout((()=>{Et.delete(t)}),0),i.range}window.RichTextEditorToolbars=window.RichTextEditorToolbars||[];const Ct=function(t){return class extends(nt(d(t))){static get tag(){return"rich-text-editor-toolbar"}static get miniStyles(){return[s`:host{position:relative;height:0;margin:0 auto;padding:0;border:none;background-color:none}#container{display:flex;position:absolute;bottom:0;margin:0 auto;padding:0;border:var(--rich-text-editor-border-width,1px) solid var(--rich-text-editor-border-color,#ddd);background-color:var(--rich-text-editor-bg,var(--rich-text-editor-bg,#fff))}`]}static get baseStyles(){return[...super.baseStyles,...rt,s`:host{border:var(--rich-text-editor-border-width,1px) solid var(--rich-text-editor-border-color,#ddd);background-color:var(--rich-text-editor-bg,#fff)}#morebutton::part(button){border-radius:var(--rich-text-editor-button-disabled-border-radius,0)}`]}static get styles(){return[...this.baseStyles,...super.stickyStyles]}get undoButton(){return{command:"undo",icon:"undo",label:"Undo",shortcutKeys:"ctrl+z",type:"rich-text-editor-button"}}get redoButton(){return{command:"redo",icon:"redo",label:"Redo",shortcutKeys:"ctrl+shift+z",type:"rich-text-editor-button"}}get historyButtonGroup(){return{type:"button-group",subtype:"history-button-group",buttons:[this.undoButton,this.redoButton]}}get formatButton(){return{label:"Format",type:"rich-text-editor-heading-picker"}}get boldButton(){return{command:"bold",icon:"editor:format-bold",label:"Bold",shortcutKeys:"ctrl+b",toggles:!0,type:"rich-text-editor-button"}}get italicButton(){return{command:"italic",icon:"editor:format-italic",label:"Italics",shortcutKeys:"ctrl+i",toggles:!0,type:"rich-text-editor-button"}}get underlineButton(){return{type:"rich-text-editor-underline"}}get strikethroughButton(){return{command:"strikeThrough",icon:"editor:format-strikethrough",label:"Strike Through",type:"rich-text-editor-button"}}get removeFormatButton(){return{command:"removeFormat",icon:"editor:format-clear",label:"Erase Format",type:"rich-text-editor-button"}}get basicInlineButtonGroup(){return{type:"button-group",subtype:"basic-inline-button-group",buttons:[this.formatButton,this.boldButton,this.italicButton,this.removeFormatButton]}}get linkButton(){return{icon:"link",label:"Link",shortcutKeys:"ctrl+k",type:"rich-text-editor-link"}}get unlinkButton(){return{icon:"mdextra:unlink",label:"Remove Link",type:"rich-text-editor-unlink"}}get linkButtonGroup(){return{type:"button-group",subtype:"link-button-group",buttons:[this.linkButton,this.unlinkButton]}}get cutButton(){return{command:"cut",icon:"content-cut",label:"Cut",shortcutKeys:"ctrl+x",type:"rich-text-editor-button"}}get copyButton(){return{command:"copy",icon:"content-copy",label:"Copy",shortcutKeys:"ctrl+c",type:"rich-text-editor-button"}}get pasteButton(){return{command:"paste",icon:"content-paste",label:"Paste",shortcutKeys:"ctrl+v",type:"rich-text-editor-button"}}get clipboardButtonGroup(){return{type:"button-group",subtype:"clipboard-button-group",buttons:[this.cutButton,this.copyButton,this.pasteButton]}}get subscriptButton(){return{command:"subscript",icon:"mdextra:subscript",label:"Subscript",radio:!0,type:"rich-text-editor-button"}}get superscriptButton(){return{command:"superscript",icon:"mdextra:superscript",label:"Superscript",radio:!0,type:"rich-text-editor-button"}}get scriptButtonGroup(){return{type:"simple-toolbar-button-group",subtype:"script-button-group","aria-label":"Subscript and Superscript",buttons:[this.subscriptButton,this.superscriptButton]}}get symbolButton(){return{symbolTypes:["symbols"],type:"rich-text-editor-symbol-picker"}}get iconButton(){return{type:"rich-text-editor-icon-picker"}}get emojiButton(){return{type:"rich-text-editor-emoji-picker"}}get imageButton(){return{type:"rich-text-editor-image"}}get insertButtonGroup(){return{type:"button-group",subtype:"insert-button-group",buttons:[this.imageButton,this.symbolButton]}}get advancedInsertButtonGroup(){return{type:"button-group",subtype:"advanced-insert-button-group",buttons:[this.emojiButton]}}get justifyLeftButton(){return{command:"justifyLeft",icon:"editor:format-align-left",label:"Align Left",radio:!0,type:"rich-text-editor-button"}}get justifyCenterButton(){return{command:"justifyCenter",icon:"editor:format-align-center",label:"Align Center",radio:!0,type:"rich-text-editor-button"}}get justifyRightButton(){return{command:"justifyRight",icon:"editor:format-align-right",label:"Align Right",radio:!0,type:"rich-text-editor-button"}}get justifyFullButton(){return{command:"justifyFull",icon:"editor:format-align-justify",label:"Justify",radio:!0,type:"rich-text-editor-button"}}get justifyButtonGroup(){return{type:"simple-toolbar-button-group",subtype:"advanced-insert-button-group","aria-label":"Text Alignment",required:!0,buttons:[this.justifyLeftButton,this.justifyCenterButton,this.justifyRightButton,this.justifyFullButton]}}get orderedListButton(){return{command:"insertOrderedList",icon:"editor:format-list-numbered",label:"Ordered List",radio:!0,type:"rich-text-editor-button"}}get unorderedListButton(){return{command:"insertUnorderedList",icon:"editor:format-list-bulleted",label:"Unordered List",radio:!0,type:"rich-text-editor-button"}}get blockquoteButton(){return{command:"formatBlock",commandVal:"blockquote",label:"Blockquote",icon:"editor:format-quote",shortcutKeys:"ctrl+'",toggles:!0,type:"rich-text-editor-button"}}get indentButton(){return{command:"indent",icon:"editor:format-indent-increase",label:"Increase Indent",shortcutKeys:"ctrl+]",type:"rich-text-editor-button"}}get outdentButton(){return{command:"outdent",icon:"editor:format-indent-decrease",label:"Decrease Indent",shortcutKeys:"ctrl+[",type:"rich-text-editor-button"}}get listButtonGroup(){return{type:"simple-toolbar-button-group",subtype:"list-button-group","aria-label":"List Type",buttons:[this.orderedListButton,this.unorderedListButton]}}get listIndentButtonGroup(){return{type:"button-group",subtype:"list-indent-button-group",buttons:[this.listButtonGroup,this.blockquoteButton,this.indentButton,this.outdentButton]}}get saveButton(){return{command:"save",icon:"save",label:"Save",type:"rich-text-editor-button"}}get closeButton(){return{command:"cancel",icon:"close",label:"Cancel",type:"rich-text-editor-button"}}get saveCloseButtonGroup(){return{type:"button-group",subtype:"save-close-button-group",buttons:[this.saveButton]}}get sourceButton(){return{type:"rich-text-editor-source-code"}}get sourceButtonGroup(){return{type:"button-group",subtype:"source-button-group",buttons:[this.sourceButton]}}get defaultConfig(){return[this.historyButtonGroup,this.basicInlineButtonGroup,this.linkButtonGroup,this.clipboardButtonGroup,this.scriptButtonGroup,this.insertButtonGroup,this.listIndentButtonGroup]}get miniConfig(){return[{type:"button-group",buttons:[this.boldButton,this.italicButton,this.removeFormatButton]},this.linkButtonGroup,this.scriptButtonGroup,{type:"button-group",buttons:[this.orderedListButton,this.unorderedListButton]}]}get miniTemplate(){return a` <div id="container">${super.toolbarTemplate}</div> `}get toolbarTemplate(){return super.toolbarTemplate}render(){return this.toolbarTemplate}static get properties(){return{...super.properties,breadcrumbsLabel:{name:"breadcrumbsLabel",type:String,attribute:"breadcrumbs-label"},breadcrumbsSelectAllLabel:{name:"breadcrumbsSelectAllLabel",type:String,attribute:"breadcrumbs-select-all-label"},target:{name:"target",type:Object},id:{name:"id",type:String,attribute:"id",reflect:!0},savedSelection:{name:"savedSelection",type:Object},registered:{type:Boolean},selectedNode:{type:Object},selectionAncestors:{type:Array},show:{type:String,attribute:"show",reflect:!0},clickableElements:{name:"clickableElements",type:Object},__canceledEdits:{type:Object},__pasteDisabled:{name:"__pasteDisabled",type:Boolean,attribute:"paste-disabled",reflect:!0},__prompt:{type:Object},__promptOpen:{name:"__promptOpen",type:Boolean}}}constructor(){super(),import("./87a7cc67.js"),import("./cc26230a.js"),import("./6147687a.js"),import("./30ed1ab1.js"),import("./bb843013.js"),import("./468cdb24.js"),import("./795e9c98.js"),this.config=this.defaultConfig,this.clickableElements={},this.breadcrumbsLabel="Select",this.breadcrumbsSelectAllLabel="All",this.__toolbar=this,document.addEventListener("-shadow-selectionchange",this._handleTargetSelection.bind(this.__toolbar)),this.addEventListener("mousedown",(t=>t.stopImmediatePropagation()))}connectedCallback(){super.connectedCallback(),window.RichTextEditorToolbars.push(this)}disconnectedCallback(){super.disconnectedCallback(),window.RichTextEditorToolbars=window.RichTextEditorToolbars.filter((t=>t!==this))}firstUpdated(t){this.id||(this.id=this._generateUUID()),super.firstUpdated(t),this.hasBreadcrumbs&&this.editor&&this.positionByTarget(this.editor),this.__prompt=window.RichTextEditorPrompt.requestAvailability(),this.__prompt.addEventListener("open",(t=>{this.__promptOpen=!0})),this.__prompt.addEventListener("close",(t=>{this.__promptOpen=!1})),this.onmousedown=this._addHighlight,this.onkeydown=this._addHighlight}updated(t){super.updated(t),t.forEach(((t,e)=>{"range"===e&&this._rangeChanged(),"editor"===e&&this._editorChange(),["editor","show","range"].includes(e)&&(this.hidden=this.disconnected),["breadcrumbs","sticky"].includes(e)&&this.breadcrumbs&&(this.breadcrumbs.sticky=this.sticky)}))}get controls(){let t=this.target?this.target.getAttribute("id"):void 0;return this.setAttribute("controls",t),t}get disconnected(){return"always"!=this.show&&("selection"!=this.show?!this.target:this.noSelection)}get noSelection(){return!this.range||this.range.collapsed}get observer(){return new MutationObserver(this._handleTargetMutation.bind(this))}get isRangeInScope(){return this.range&&this.target&&this.rangeNodeOrParentNode(this.range)&&this.target.contains(this.rangeNodeOrParentNode(this.range))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}close(){this.target=void 0,this.positionByTarget(!1),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}_editorChanged(){this.dispatchEvent(new CustomEvent("editor-change",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}getRange(){let t=e=>{let i=e.parentNode;return i?t(i):e};try{this.range=t(this.target)?St(t(this.target)):void 0}catch(t){this.range=void 0}return this.range}getSelection(){return getSelection()}updateRange(t,e=this.range){t&&(t.range||(t.range=e),this.range=t.range)}_rangeChanged(t){this._updateButtonRanges(),this.dispatchEvent(new CustomEvent("range-changed",{bubbles:!0,composed:!0,cancelable:!0,detail:this}))}clearToolbar(){super.clearToolbar&&super.clearToolbar(),this.clickableElements={}}deregisterButton(t){super.deregisterButton&&super.deregisterButton(t),(t.tagsArray||[]).forEach((t=>delete this.clickableElements[t]))}registerButton(t){super.registerButton&&super.registerButton(t),"paste"!==t.command||navigator.clipboard?(t.__toolbar=this,t.disabled=!this.target,(t.tagsArray||[]).forEach((e=>this.clickableElements[e]=e=>t.tagClickCallback(e)))):t.remove()}_addBreadcrumbs(){return this.breadcrumbs||(this.breadcrumbs=document.createElement("rich-text-editor-breadcrumbs"),document.body.appendChild(this.breadcrumbs)),this.breadcrumbs.label=this.breadcrumbsLabel,this.breadcrumbs}_generateUUID(){let t=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return"rte-"+"ss-s-s-s-sss".replace(/s/g,t)}_handleButtonUpdate(t){super._handleButtonUpdate&&super._handleButtonUpdate(t)}_renderButtonGroup(t){let e=super._renderButtonGroup(t);return t.subtype&&e.classList.add(t.subtype),e}_updateButtonRanges(){if(this.isRangeInScope){let t=[],e=i=>{"rich-text-editor-highlight"!==(i.tagName||"").toLowerCase()&&t.push(i),i.parentNode&&i.parentNode!==this.target&&e(i.parentNode)};this.rangeNodeOrParentNode(this.range)!==this.target&&e(this.rangeNodeOrParentNode(this.range)),t.push({nodeName:this.breadcrumbsSelectAllLabel,selectAll:this.target}),this.selectedNode=t[0],this.selectionAncestors=t.reverse(),(this.buttons||[]).forEach((t=>{t.range=void 0,t.range=this.range,t.selectedNode=this.selectedNode,t.selectionAncestors=this.selectionAncestors})),this.breadcrumbs&&(this.breadcrumbs.selectionAncestors=this.selectionAncestors,this.breadcrumbs.hidden=this.disconnected,this.breadcrumbs.editor=this.editor)}}cancelEdits(t=this.target){this.revertTarget(t),this.target(editor,!1)}get enabledTargetHandlers(){return{keydown:this._removeHighlight.bind(this),keypress:this._handleTargetKeypress.bind(this),mousedown:this._removeHighlight.bind(this)}}positionByTarget(t){t?(t.parentNode.insertBefore(this,t),this.slot=t.slot,this.hasBreadcrumbs&&(this.breadcrumbs=this.breadcrumbs||this._addBreadcrumbs(),this.target.parentNode.insertBefore(this.breadcrumbs,this.target.nextSibling),this.breadcrumbs.slot=t.slot)):(document.body.append(this),this.slot=void 0,this.breadcrumbs&&(document.body.append(this.breadcrumbs),this.breadcrumbs.slot=void 0))}enableEditing(t=this.editor){let e=this.enabledTargetHandlers;!t||t.hidden||t.disabled||(t.makeSticky&&t.makeSticky(this.sticky),this.positionByTarget(t),t.setAttribute("contenteditable","true"),Object.keys(e).forEach((i=>t.removeEventListener(i,e[i]))),this.setCanceledEdits(),this.updateRange(t),this.observeChanges(!0),this.getRoot(t).onselectionchange=e=>{this.__promptOpen||this.updateRange(t)},this.dispatchEvent(new CustomEvent("enabled",{bubbles:!0,composed:!0,cancelable:!0,detail:(this.target.innerHTML||"").replace(/<!--[^(-->)]*-->/g,"").trim()})))}disableEditing(t=this.target){let e=this.enabledTargetHandlers,i=this.getRange();t&&(i&&i.collapse(!1),this.__highlight.emptyContents(),this.getRoot(t).onselectionchange=void 0,this.observeChanges(!1),this.__source&&this.__source.toggle(!1),t.removeAttribute("contenteditable"),Object.keys(e).forEach((i=>t.removeEventListener(i,e[i]))),t.makeSticky&&t.makeSticky(!1),this.dispatchEvent(new CustomEvent("disabled",{bubbles:!0,composed:!0,cancelable:!0,detail:(this.target.innerHTML||"").replace(/<!--[^(-->)]*-->/g,"").trim()})))}insertNew(t){let e=document.createElement("rich-text-editor");t.parentNode.insertBefore(e,t),e.appendChild(t)}observeChanges(t=!0){t?this.observer.observe(this.target,{attributes:!1,childList:!0,subtree:!0,characterData:!1}):this.observer&&this.observer.disconnect}revertTarget(t=this.target){this.target&&(this.target.innerHTML=this.__canceledEdits)}sanitizeHTML(t){if(!t)return;let e="<body(.*\n)*>(.*\n)*</body>";return t.match(e)&&t.match(e).length>0&&(t=t.match(e)[0].replace(/<\?body(.*\n)*\>/i)),t}setCanceledEdits(t){this.__canceledEdits=t||(this.target&&this.target.innerHTML?this.target.innerHTML:"")}setTarget(t){let e=this.targetHandlers(t);if(t){let i=this.target;t.setAttribute("role","textbox"),i!==t&&(i&&this.unsetTarget(i),Object.keys(e).forEach((i=>t.addEventListener(i,e[i]))),this.getRoot(t).onselectionchange=e=>{this.__promptOpen||this.updateRange(t)},this.target=t,this.enableEditing(t))}this.updateRange(this.target),this.breadcrumbs&&(this.breadcrumbs.controls=this.controls),this.buttons.forEach((t=>{"close"!==t.command&&(t.disabled=!this.target)})),this.range=void 0,this._rangeChanged()}unsetTarget(t=this.target){let e=this.targetHandlers(t);this.disableEditing(t),Object.keys(e).forEach((i=>t.removeEventListener(i,e[i]))),this.target=void 0}targetEmpty(){return!this.target||!this.target.innerHTML||""==this.trimHTML(this.target)}targetHandlers(t){return{click:e=>this._handleTargetClick(t,e),dblclick:e=>this._handleTargetDoubleClick(t,e),focus:e=>this._handleTargetFocus(t,e),keydown:t=>this._handleShortcutKeys(t),paste:t=>this._handlePaste(t)}}get targetHTML(){return this.target?this.outdentHTML(this.target.innerHTML):void 0}htmlMatchesTarget(t){let e=t?this.outdentHTML(t):void 0,i=e?e.replace(/\s+/gm,""):void 0,o=this.targetHTML?this.targetHTML.replace(/\s+/gm,""):void 0;return i&&o&&o.localeCompare(i)}_handleTargetDoubleClick(t,e){let i=S(e);if(!t||t.disabled||this.target!==t)return;let o=Object.keys(this.clickableElements||{}),a=i[0]||{tagName:""},s={detail:a},n=(a.tagName||"").toLowerCase();n&&o.includes(n)&&(e.preventDefault(),this.clickableElements[n](s),this.updateRange())}_handleTargetClick(t,e){let i=S(e);if(t&&!t.disabled){if(this.target!==t)e.preventDefault(),this.setTarget(t);else{let t=Object.keys(this.clickableElements||{}),o=i[0]||{tagName:""},a={detail:o},s=(o.tagName||"").toLowerCase();s&&t.includes(s)&&(e.preventDefault(),this.clickableElements[s](a))}this.range=this.getRange(),this.updateRange()}}_handleTargetFocus(t,e){this.__promptOpen||t.disabled||this.setTarget(t)}_handleTargetKeypress(t){this.targetEmpty()&&t.key&&(this.innerHTML=t.key.replace(">","&gt;").replace("<","&lt;").replace("&","&amp;"),this.range=this.getRange(),this.range.selectNodeContents(this),this.range.collapse())}_handleTargetMutation(t=[]){this._handleTargetSelection(),(t||[]).forEach((t=>{"attributes"==t.type&&((target.disabled||target.hidden)&&target.conteneditable?(this.disableEditing(target),target.tabindex=-1):target.disabled||target.hidden||!target.conteneditable||(this.enableEditing(target),target.tabindex=0))}))}_handleTargetSelection(t){this.__promptOpen||(this.range=this.getRange())}_handlePaste(t){t.stopImmediatePropagation(),this.pasteFromClipboard()}_addHighlight(){this.__highlight.hidden&&(this.range=this.getRange(),this.target&&"true"!=!this.target.getAttribute("contenteditable")&&this.__highlight.wrap(this.range||this.getRange()))}_removeHighlight(){this.__highlight.unwrap(this.range||this.getRange())}}};class kt extends(Ct(et)){}window.customElements.define(kt.tag,kt);
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */
const Tt=function(t){return class extends(dt(t)){static get tag(){return"rich-text-editor-prompt-button"}render(){return super.render()}static get properties(){return{...super.properties,fields:{type:Array},id:{name:"id",type:String,reflect:!0,attribute:"id"},value:{type:Object},__wrap:{name:"__wrap",type:Object},__oldValue:{name:"__oldValue",type:Object}}}constructor(){super(),this.editableSelection=!1,this.fields=[{property:"innerHTML",title:"Text",inputMethod:"textfield"}],this.tagsList="span",this.value={innerHTML:void 0}}firstUpdated(t){super.firstUpdated(t)}get promptCommand(){return this.toggledCommand&&!this.toggled?this.toggledCommand:this.command}get promptCommandVal(){return this.commandVal}get setsInnerHTML(){let t=(this.fields||[]).filter((t=>"innerHTML"===t.property));return t&&t.length>0}get targetedNode(){let t=this.__highlight.querySelectorAll(this.tagsList);return 1===t.length?t[0]:this.__highlight}tagClickCallback(t={}){t.detail&&this.open(t.detail)}cancel(){this.close()}close(){this.__highlight.unwrap(this.range),this.range&&this.range.collapse()}confirm(t){this.value=t,this.setToggled(),this.updateSelection(),this.close()}getPropValue(t){let e=!!this.value&&{...this.value},i=!(!e||!e[t])&&(e[t].trim?e[t].trim():e[t]);return!(!i||""===i)&&i}getValue(){return{innerHTML:this.targetedNode.innerHTML||""}}open(t){this.highlightNode(t),this.value=this.getValue(),this.dispatchEvent(new CustomEvent("rich-text-editor-prompt-open",{bubbles:!0,cancelable:!0,composed:!0,detail:this}))}setInnerHTML(t){this.setsInnerHTML&&(this.targetedNode.innerHTML=t)}setToggled(){this.toggled=!this.value}updateSelection(){let t=this.promptCommand,e=this.promptCommandVal;this.setInnerHTML(this.getPropValue("innerHTML")),this.targetedNode===this.__highlight?this.selectNodeContents(this.targetedNode):this.selectNode(this.targetedNode),this._handleCommand(t,e,this.range)}_handleClick(t){t.preventDefault(),this.open()}_rangeChanged(t,e){this.value=this.getValue(),this.setToggled()}}};class Nt extends(Tt(et)){}window.customElements.define(Nt.tag,Nt);
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */
class Pt extends(Tt(c)){static get tag(){return"hax-text-editor-button"}static get properties(){return{...super.properties,element:{type:Object}}}constructor(){super(),this.tag=Pt.tag,this.toggles=!0,this.command="insertHTML"}updated(t){super.updated(t),t.forEach(((t,e)=>{"element"===e&&this.element&&this.updateElement()}))}updateElement(){let t=this.element||{},e=t.settings||{},i=t.gizmo||{};this.fields=[...super.fields,...(e.configure||[]).map((t=>("code-editor"===t.inputMethod&&(t.inputMethod="textfield"),t))).filter((t=>""!==t.slot))],this.tagsList=i.tag||"span",this.icon=i.icon||"add",this.label=i.title||`Add ${i.tag}`,this.value=this.getValue(void 0)}getValue(){let t=super.getValue();return this.fields.forEach((e=>{e.property&&"innerHTML"!==e.property&&(t[e.property]=this.targetedNode&&this.targetedNode.getAttribute?this.targetedNode.getAttribute(e.property):void 0),e.slot&&""!==e.slot&&this.targetedNode&&this.targetedNode.querySelector&&this.targetedNode.querySelector(`[slot=${e.slot}]`)&&this.targetedNode.querySelector(`[slot=${e.slot}]`).innerHTML})),t}setToggled(){this.toggled=!!this.value}tagClickCallback(t={}){t.detail&&this.open(t.detail);let e=this.__highlight.innerHTML;this.__highlight.innerHTML="",this.__highlight.innerHTML=e}updateSelection(){let t=document.createElement(this.tagsList),e="";this.fields.forEach((i=>{i.property&&"innerHTML"!==i.property&&(t[i.property]=this.value[i.property]),i.slot&&this.value[i.slot]&&(e+=`<${getSlotWrapper(i)}${Object.keys(i.slotAttributes||{}).map((t=>` ${t}="${i.slotAttributes[t]}"`))}>\n            ${this.value[slot]}\n          </${getSlotWrapper(i)}>`)})),e+=this.value.innerHTML||"",this.__highlight.innerHTML="",this.__highlight.parentNode.insertBefore(t,this.__highlight),this.__highlight.unwrap(),t.innerHTML=e}getSlotWrapper(t){let e=t.slotWrapper,i=t.allowedSlotWrappers,o=t.excludedSlotWrappers||[],a=["span","div","p"].filter((t=>!o.includes(t)));return e||(i&&i[0]?i[0]:a)}}window.customElements.define(Pt.tag,Pt);const Lt=function(t){return class extends t{constructor(){super(),this.tourName="default"}connectedCallback(){super.connectedCallback&&super.connectedCallback(),super.firstUpdated||this.discoverSimpleTourStops()}disconnectedCallback(){super.disconnectedCallback()}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.discoverSimpleTourStops()}discoverSimpleTourStops(){this.shadowRoot.querySelectorAll("[data-simple-tour-stop]").forEach((t=>{try{let e="";t.getAttribute("data-stop-title")&&t.getAttribute(t.getAttribute("data-stop-title"))?e=t.getAttribute(t.getAttribute("data-stop-title")):t.querySelector("[data-stop-title]")&&(e=t.querySelector("[data-stop-title]").innerHTML);let i=t.querySelector("[data-stop-content]").innerHTML?t.querySelector("[data-stop-content]").innerHTML:"";h.createTourStop(this.tourName,t,e,i,"live")}catch(t){console.warn(t)}}))}}},Bt=function(t){return class extends(Lt(t)){static get styles(){return[s`:host{display:block;--hax-ui-spacing-sm:1px;max-width:100%}:host [hidden]{display:none}.selected-buttons{transition:.1s all ease-in-out;width:0}:host([has-selected-text]) .selected-buttons{width:100%}:host(.hax-context-pin-top) #toolbar{position:fixed;top:0}:host(:focus-within),:host(:hover){z-index:var(--hax-ui-focus-z-index)!important}.group{padding:0;background-color:var(--hax-ui-background-color)}hax-toolbar{flex:0 1 auto}hax-toolbar::part(morebutton){border:1px solid var(--simple-toolbar-group-border-width,var(--simple-toolbar-border-width,1px))!important}hax-toolbar[collapse-disabled]::part(morebutton){display:none!important}hax-toolbar [hidden]{display:none!important}hax-toolbar[collapse-disabled]::part(morebutton){display:none!important}`]}constructor(){super(),this.viewSource=!1,u((()=>{this.hasSelectedText=m(p.haxSelectedText).length>0})),u((()=>{m(p.editMode);const t=m(p.activeNode);if(this.sourceView=!1,t&&t.tagName){let e=p.haxSchemaFromTag(t.tagName);this.parentSchema=t&&t.parentNode?p.haxSchemaFromTag(t.parentNode.tagName):void 0,this.sourceView=e.canEditSource}}))}render(){return a`<slot></slot> `}static get tag(){return"hax-context-behaviors"}static get properties(){return{...super.properties,activeNode:{type:Object},parentSchema:{type:Object},realSelectedValue:{type:String},sourceView:{type:Boolean},viewSource:{type:Boolean}}}get slotSchema(){let t;if(this.activeNode&&this.parentSchema){let e=this.activeNode.slot||"";Object.keys(this.parentSchema.settings||{}).forEach((i=>{(this.parentSchema.settings[i]||[]).forEach((i=>{i.slot&&i.slot===e&&(t=i)}))}))}return t}getFilteredBlocks(t=[]){return t.filter((t=>{if(!t.tag)return;let e=t.tag||"",i=this.slotSchema&&this.slotSchema.slotWrapper&&this.slotSchema.slotWrapper?this.slotSchema.slotWrapper:void 0,o=this.slotSchema&&this.slotSchema.slotWrapper&&this.slotSchema.allowedSlotWrappers?this.slotSchema.allowedSlotWrappers:void 0,a=this.slotSchema&&this.slotSchema.slotWrapper&&this.slotSchema.excludedSlotWrappers?this.slotSchema.excludedSlotWrappers:void 0,s=!this.slotSchema||!o,n=!!i&&i===e||!!o&&o.includes(e);return!(!!a&&a.includes(e))&&(s||n)}))}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{"activeNode"===e&&this.activeNode!==t&&this.setTarget(this.activeNode)}))}setTarget(t=this.activeNode){super.setTarget&&super.setTarget(t),this.parentSchema=t&&t.parentNode?p.haxSchemaFromTag(t.parentNode.tagName):void 0}}};var Ot=Object.freeze({__proto__:null,HaxContextBehaviors:Bt});
/**
 * Copyright 2019 Penn State University
 * @license Apache-2.0, see License.md for full text.
 */class Mt extends(dt(c)){static get tag(){return"hax-text-editor-paste-button"}render(){return super.render()}static get properties(){return{...super.properties}}constructor(){super(),this.command="paste",this.icon="content-paste",this.label="Paste Clipboard"}sendCommand(t){navigator&&navigator.clipboard&&p._onPaste({...t,clipboardData:navigator.clipboard})}}window.customElements.define(Mt.tag,Mt);
/**
 * Copyright 2021 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class Rt extends(Ct($(Bt(c)))){static get styles(){return[...super.baseStyles,...super.stickyStyles,s`:host{--rich-text-editor-button-color:var(--hax-ui-color);--rich-text-editor-button-bg:var(--hax-ui-background-color);--rich-text-editor-button-border-color:transparent;--rich-text-editor-button-hover-color:var(--hax-ui-color);--rich-text-editor-button-hover-bg:var(
            --hax-ui-background-color-secondary
          );--rich-text-editor-button-toggled-color:var(--hax-ui-color-accent);--rich-text-editor-button-toggled-bg:var(--hax-ui-background-color);--rich-text-editor-button-toggled-border-color:var(
            --hax-ui-color-accent
          );--rich-text-editor-button-disabled-opacity:1;--rich-text-editor-button-disabled-color:var(
            --hax-ui-disabled-color
          );--rich-text-editor-button-disabled-bg:var(--hax-ui-background-color);--rich-text-editor-button-disabled-border-color:transparent}#morebutton{align-self:flex-end}::slotted([icon-position]:hover){--rich-text-editor-button-toggled-bg:var(
            --hax-ui-background-color-accent
          )}::slotted(.group){flex:0 0 auto;justify-content:center;border-width:1px;margin:-1px;padding:0}::slotted(.group),::slotted([icon-position]){z-index:1}::slotted([icon-position]),:host([collapsed]) ::slotted(.group){flex:0 0 auto}:host ::slotted(:focus),:host ::slotted(:focus-within){z-index:2!important}:host ::slotted(:hover){z-index:3!important}`]}get tourTemplate(){return a` <div slot="tour" data-stop-content> ${this.t.textEditorToolbarTour} </div>`}render(){return super.toolbarTemplate}static get properties(){return{__updated:{type:Boolean}}}tag(){return"hax-text-editor-toolbar"}constructor(){super(),this.tag=Rt.tag,this.t={undoButton:"Undo",redoButton:"Redo",formatButton:"Format",blockP:"Paragraph",blockH1:"Heading 1",blockH2:"Heading 2",blockH3:"Heading 3",blockH4:"Heading 4",blockH5:"Heading 5",blockH6:"Heading 6",blockPre:"Preformatted",italicButton:"Italic",boldButton:"Bold",underlineButton:"Underline",strikethroughButton:"Cross out",removeFormatButton:"Remove format",linkButton:"Link",unlinkButton:"Remove Link",cutButton:"Cut",copyButton:"Copy",pasteButton:"Paste Clipboard",subscriptButton:"Subscript",superscriptButton:"Superscript",symbolButton:"Insert Symbol",emojiButton:"Insert Emoticon",imageButton:"Insert Image",orderedListButton:"Bulleted list",unorderedListButton:"Numbered list",blockquoteButton:"Blockquote",indentButton:"Indent",outdentButton:"Outdent",textEditorToolbarTour:"Change how the text is structured and visualized in the page."},this.registerLocalization({context:this,namespace:"hax"}),this.sourceView=!1,this.haxUIElement=!0,this.tourName="hax",window.HaxTextEditorToolbarConfig=window.HaxTextEditorToolbarConfig||{},window.HaxTextEditorToolbarConfig.inlineGizmos=window.HaxTextEditorToolbarConfig.inlineGizmos||{},window.HaxTextEditorToolbarConfig.default=window.HaxTextEditorToolbarConfig.default||[...this.defaultConfig],this.config=window.HaxTextEditorToolbarConfig.default,this.sticky=!1,this.__updated=!1,this.setTarget(void 0),window.addEventListener("hax-store-ready",this._handleHaxStoreReady.bind(this)),window.addEventListener("hax-register-properties",this._handleElementRegister.bind(this))}get undoButton(){return{...super.undoButton,label:this.t.undoButton}}get redoButton(){return{...super.redoButton,label:this.t.redoButton}}get formatButton(){return{...super.formatButton,label:this.t.formatButton,blocks:this.formatBlocks}}get formatBlocks(){return[{label:this.t.blockP,tag:"p"},{label:this.t.blockH1,tag:"h1"},{label:this.t.blockH2,tag:"h2"},{label:this.t.blockH3,tag:"h3"},{label:this.t.blockH4,tag:"h4"},{label:this.t.blockH5,tag:"h5"},{label:this.t.blockH6,tag:"h6"},{label:this.t.blockPre,tag:"pre"}]}get boldButton(){return{...super.boldButton,label:this.t.boldButton}}get italicButton(){return{...super.italicButton,label:this.t.italicButton}}get underlineButton(){return{...super.underlineButton,label:this.t.underlineButton}}get strikethroughButton(){return{...super.strikethroughButton,label:this.t.strikethroughButton}}get removeFormatButton(){return{...super.removeFormatButton,label:this.t.removeFormatButton}}get advancedInlineButtonGroup(){return{type:"button-group",subtype:"advanced-inline-button-group",buttons:[this.underlineButton,this.strikethroughButton]}}get linkButton(){return{...super.linkButton,label:this.t.linkButton,allowTarget:!!p.activeHaxBody&&!!p.activeHaxBody.allowLinkTarget}}get unlinkButton(){return{...super.unlinkButton,label:this.t.unlinkButton}}get cutButton(){return{...super.cutButton,label:this.t.cutButton}}get copyButton(){return{...super.copyButton,label:this.t.copyButton}}get pasteButton(){return{...super.pasteButton,label:this.t.pasteButton,shortcutKeys:void 0,type:"hax-text-editor-paste-button"}}get subscriptButton(){return{...super.subscriptButton,label:this.t.subscriptButton}}get superscriptButton(){return{...super.superscriptButton,label:this.t.superscriptButton}}get symbolButton(){return{...super.symbolButton,label:this.t.symbolButton}}get emojiButton(){return{...super.emojiButton,label:this.t.emojiButton}}get imageButton(){return{...super.imageButton,label:this.t.imageButton}}get orderedListButton(){return{...super.orderedListButton,label:this.t.orderedListButton}}get unorderedListButton(){return{...super.unorderedListButton,label:this.t.unorderedListButton}}get blockquoteButton(){return{...super.blockquoteButton,label:this.t.blockquoteButton}}get indentButton(){return{...super.indentButton,label:this.t.indentButton}}get outdentButton(){return{...super.outdentButton,label:this.t.outdentButton}}get sourceButton(){return{...super.sourceButton}}get haxInsertButtonGroup(){return{type:"button-group",subtype:"hax-insert-button-group",blocks:[this.symbolButton,this.emojiButton]}}get iconButton(){return{}}get defaultConfig(){return[this.basicInlineButtonGroup,this.linkButtonGroup,this.listIndentButtonGroup,this.haxInsertButtonGroup,this.scriptButtonGroup,this.advancedInlineButtonGroup]}get filteredBlocks(){return this.getFilteredBlocks(this.formatBlocks)}get formatButtonElement(){return this.formatButton.type?this.querySelector(this.formatButton.type):void 0}get isRangeInScope(){return this.range&&this.target&&this.rangeNodeOrParentNode(this.range)&&(this.range.commonAncestorContainer===this.target||this.target.contains(this.range.commonAncestorContainer))}targetHandlers(t){return{click:e=>this._handleTargetClick(t,e),dblclick:e=>this._handleTargetDoubleClick(t,e),focus:e=>this._handleTargetFocus(t,e),keydown:t=>this._handleShortcutKeys(t)}}updated(t){super.updated&&super.updated(t),this.__ready&&t.forEach(((t,e)=>{"parentSchema"!==e&&"target"!==e||this.updateBlocks(),"activeNode"===e&&this.activeNode!==t&&this.setTarget(this.activeNode),"t"===e&&this.t!==t&&this.updateToolbarElements()}))}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.config=this.updateToolbarElements(),this.__prompt.haxUIElement=!0,this.__prompt.classList.add("ignore-activation"),this.addEventListener("keypress",this.trapKeys.bind(this)),this.__prompt.addEventListener("keypress",this.trapKeys.bind(this)),this.__prompt.addEventListener("paste",this._handlePaste.bind(this))}_handlePaste(t){t.stopPropagation()}trapKeys(t){t.stopPropagation()}updateBlocks(){let t=this.filteredBlocks;this.formatButtonElement&&this.formatButtonElement.blocks!==t&&(this.formatButtonElement.blocks=t,t.length<2?this.formatButtonElement.setAttribute("disabled","disabled"):this.formatButtonElement.removeAttribute("disabled"))}getRange(){let t=p.getRange();return!t||t.rangeCount<1?void 0:p.getRange()}getSelection(){return p.getSelection()}positionByTarget(t){}_handleElementRegister(t){let e=t.detail||{},i=e.tag||{},o=e.properties||{};this._setInlineElement(i,o)}_handleHaxStoreReady(t){this.__ready=!0;let e=p.elementList||{};Object.keys(e).forEach((t=>this._setInlineElement(t,elemets[t])))}_setInlineElement(t,e){if(!t||!e||window.HaxTextEditorToolbarConfig.inlineGizmos[t]||t.indexOf("-")<0)return;let i=e,o=e.gizmo||{},a=o.handles||[],s=o.title||o.tag.replace(/-./g,(t=>t.toUpperCase()[1])),n=a.filter((t=>"inline"===t.type&&o.tag&&o.tag.contains("-")));i.gizmo=i.gizmo||{},i.gizmo.title=`Add ${s}`,n.length>0&&(window.HaxTextEditorToolbarConfig.inlineGizmos[t]={element:i,type:"hax-text-editor-button"},this.__updated=!1,setTimeout(this.updateToolbarElements.bind(this),500))}updateToolbarElements(){if(this.__updated)return;this.__updated=!0;let t=Object.keys(window.HaxTextEditorToolbarConfig.inlineGizmos||{}).map((t=>window.HaxTextEditorToolbarConfig.inlineGizmos[t]));this.config=0===t.length?[...this.defaultConfig]:[...this.defaultConfig,{type:"button-group",buttons:t}],this.updateToolbar()}}customElements.define("hax-text-editor-toolbar",Rt);const zt=[s`body{--hax-ui-font-family:sans-serif;--hax-ui-font-size:16px;--hax-ui-font-size-sm:13px;--hax-ui-font-size-xs:12px;--hax-ui-font-size-lg:calc(1.05 * var(--hax-ui-font-size, 16px));--hax-ui-font-size-xl:calc(1.25 * var(--hax-ui-font-size, 16px))}`],Ht=[s`body{--hax-tray-width:300px;--hax-tray-menubar-min-width:44px;--hax-tray-menubar-min-height:34px;--hax-ui-spacing-xs:4px;--hax-ui-border-radius:2px;--hax-ui-spacing-sm:calc(1 * var(--hax-ui-spacing-xs, 4px));--hax-ui-spacing:calc(2 * var(--hax-ui-spacing-xs, 4px));--hax-ui-spacing-lg:calc(3 * var(--hax-ui-spacing-xs, 4px));--hax-ui-spacing-xl:calc(4 * var(--hax-ui-spacing-xs, 4px));--hax-ui-focus-z-index:1001;--simple-toolbar-focus-z-index:var(--hax-ui-focus-z-index);--a11y-menu-button-focus-z-index:var(--hax-ui-focus-z-index)}`],Ft=[s`body{--hax-ui-color:#222;--hax-ui-color-focus:#000;--hax-ui-color-faded:#444;--hax-ui-disabled-color:#bbb;--hax-ui-background-color:#fff;--hax-ui-background-color-secondary:#e8e8e8;--hax-ui-background-color-faded:#b0b8bb;--hax-ui-color-accent:#009dc7;--hax-ui-color-accent-secondary:#007999;--hax-ui-background-color-accent:#ccf3fd;--hax-ui-color-danger:#ee0000;--hax-ui-color-danger-secondary:#850000;--hax-ui-background-color-danger:#ffdddd;--hax-ui-border-color:#ddd}body[hax-ui-theme=haxdark]{--hax-ui-color:#eeeae6;--hax-ui-color-focus:#fff;--hax-ui-color-faded:#c5c3be;--hax-ui-disabled-color:#555;--hax-ui-background-color:#333;--hax-ui-background-color-secondary:#111;--hax-ui-background-color-faded:#222;--hax-ui-color-accent:#77e2ff;--hax-ui-color-accent-secondary:#00c9ff;--hax-ui-background-color-accent:#000;--hax-ui-color-danger:#ff8f8f;--hax-ui-color-danger-secondary:#ff2222;--hax-ui-background-color-danger:#000;--hax-ui-border-color:#000}@media (prefers-color-scheme:dark){body[hax-ui-theme=system]{--hax-ui-color:#eeeae6;--hax-ui-color-focus:#fff;--hax-ui-color-faded:#c5c3be;--hax-ui-background-color:#333;--hax-ui-background-color-secondary:#111;--hax-ui-background-color-faded:#222;--hax-ui-color-accent:#77e2ff;--hax-ui-color-accent-secondary:#00c9ff;--hax-ui-background-color-accent:#000;--hax-ui-color-danger:#ff8f8f;--hax-ui-color-danger-secondary:#ff2222;--hax-ui-background-color-danger:#000;--hax-ui-border-color:#000}}`],Dt=[s`body{--simple-tooltip-background:var(--hax-ui-color);--simple-tooltip-text-color:var(--hax-ui-background-color);--simple-tooltip-opacity:1;--simple-tooltip-delay-in:0;--simple-tooltip-duration-in:100ms;--simple-tooltip-duration-out:0;--simple-tooltip-border-radius:2px;--simple-tooltip-font-size:var(--hax-ui-font-size-sm)}`],$t=[...zt,...Ht,...[s`body{--simple-fields-field-margin:calc(2 * var(--hax-ui-font-size));--simple-toolbar-focus-z-index:var(--hax-ui-focus-z-index);--simple-fields-font-family:var(--hax-ui-font-family);--simple-fields-font-size:var(--hax-ui-font-size);--simple-fields-line-height:135%;--simple-fields-detail-font-size:var(--hax-ui-font-size-xs);--simple-fields-detail-line-height:120%;--simple-fields-margin:var(--hax-ui-spacing);--simple-fields-background-color:var(--hax-ui-background-color);--simple-fields-color:var(--hax-tray-text-color);--simple-fields-accent-color:var(--hax-ui-color-accent);--simple-fields-accent-color-light:var(--hax-ui-background-color-faded);--simple-fields-error-color:var(--hax-ui-color-danger-secondary);--simple-fields-button-danger-background-color:var(
        --hax-ui-color-danger
      );--simple-fields-button-danger-focus-color:var(
        --hax-ui-color-danger-secondary
      );--simple-fields-button-danger-background-color:var(
        --hax-ui-background-color
      );--simple-fields-secondary-accent-color:var(
        --hax-ui-color-accent-secondary
      );--simple-fields-border-color:var(--hax-ui-color-faded);--simple-fields-fieldset-border-color:rgba(127, 127, 127, 0.2);--simple-fields-legend-text-transform:capitalize;--simple-fields-legend-font-size:var(--hax-ui-font-size-xs);--simple-fields-meta-font-size:var(--hax-ui-font-size-xs);--simple-fields-meta-line-height:120%;--simple-fields-meta-opacity:0.7;--simple-fields-focus-meta-opacity:1;--simple-fields-button-color:var(--hax-ui-color);--simple-fields-button-background-color:var(--hax-ui-background-color);--simple-fields-button-border-color:var(--hax-ui-border-color);--simple-fields-button-text-transform:capitalize;--simple-fields-border-radius:var(--hax-ui-border-radius);--simple-fields-button-padding-sm:var(--hax-ui-spacing-sm);--simple-fields-button-padding:var(--hax-ui-spacing-sm);--simple-fields-button-toggled-color:var(--hax-ui-color);--simple-fields-button-toggled-background-color:var(
        --hax-ui-background-color-accent
      );--simple-fields-button-toggled-border-color:var(--hax-ui-color-accent);--simple-fields-button-focus-color:var(--hax-ui-color);--simple-fields-button-focus-background-color:var(
        --hax-ui-background-color-accent
      );--simple-fields-button-focus-border-color:var(--hax-ui-color-accent);--simple-fields-button-disabled-color:unset;--simple-fields-button-disabled-background-color:unset;--simple-fields-button-disabled-border-color:unset;--simple-fields-button-disabled-opacity:0.5;--hexagon-color:var(--hax-ui-color-accent)}`],...Dt,...[s`simple-modal[mode=hax-ui],simple-popover-manager[mode=hax]{font-family:var(--hax-ui-font-family);font-size:var(--hax-ui-font-size);--simple-modal-height:70vh;--simple-modal-width:70vw;--simple-popover-border-color:var(--hax-ui-color);--simple-modal-border-color:var(--hax-ui-color)}rich-text-editor-prompt{z-index:calc(var(--hax-ui-focus-z-index) - 1)}simple-modal[mode=hax-ui]::part(dialog){--simple-modal-z-index:100000001!important}simple-modal[opened]{z-index:100000001!important}simple-modal[mode=hax-ui]::part(titlebar),simple-popover-manager[mode=hax] h1[slot=heading],simple-popover-manager[mode=hax]::part(simple-popover-heading){color:var(--hax-ui-background-color);background-color:var(--hax-ui-color-accent);padding:var(--hax-ui-spacing-sm) var(--hax-ui-spacing);margin:0}simple-modal[mode=hax-ui]::part(close),simple-popover-manager[mode=hax] #close{color:var(--hax-ui-background-color);background-color:var(--hax-ui-color-accent);outline:1px solid var(--hax-ui-color-accent);--simple-icon-button-border:0px solid transparent;--simple-icon-button-border-radius:var(--hax-ui-border-radius);width:24px;height:24px;padding:0}simple-modal[mode=hax-ui]:focus-within::part(close),simple-modal[mode=hax-ui]:hover::part(close),simple-popover-manager[mode=hax] #close:focus,simple-popover-manager[mode=hax] #close:hover{background-color:var(--hax-ui-color-accent-secondary);--simple-icon-button-border:0px solid transparent}simple-modal[mode=hax-ui]::part(title),simple-popover-manager[mode=hax] h1{font-family:var(--hax-ui-font-family);font-size:var(--hax-ui-font-size);font-weight:400;margin:0 var(--hax-ui-spacing-sm) 0 0;padding:0}simple-popover-manager[mode=hax] h2{font-family:var(--hax-ui-font-family);font-size:var(--hax-ui-font-size-lg);font-weight:400;color:var(--hax-ui-color-accent-secondary);margin:0 0 var(--hax-ui-spacing-lg)}simple-modal[mode=hax-ui]::part(content),simple-modal[mode=hax-ui]::part(custom),simple-popover-manager[mode=hax]::part(simple-popover-body){font-size:var(--hax-ui-font-size);color:var(--hax-ui-color);background-color:var(--hax-ui-background-color)}simple-modal[mode=hax-ui]::part(content){padding:0 var(--hax-ui-spacing)}simple-modal[mode=hax-ui]::part(custom){padding:0}simple-popover-manager[mode=hax]::part(simple-popover-body){padding:var(--hax-ui-spacing)}simple-modal[mode=hax-ui]::part(buttons),simple-popover-manager[mode=hax]:part(simple-popover-nav){background-color:var(--hax-ui-background-color)}#hax-cancel-no,#hax-cancel-yes{flex:1 1 auto}simple-popover-manager[mode=hax] simple-icon-button-lite[slot=nav]::part(button){text-transform:capitalize;font-size:var(--hax-ui-font-size-sm);padding:var(--hax-ui-spacing-sm);color:var(--hax-ui-color);background-color:var(--hax-ui-background-color);border:1px solid var(--hax-ui-border-color);border-radius:var(--hax-ui-border-radius);background-color:var(--hax-ui-background-color)}simple-popover-manager[mode=hax] simple-icon-button-lite[slot=nav]::part(button):focus-within,simple-popover-manager[mode=hax] simple-icon-button-lite[slot=nav]::part(button):hover{color:var(--hax-ui-color);background-color:var(--hax-ui-background-color-accent);border-color:var(--hax-ui-color-accent)}simple-popover-manager[mode=hax] simple-icon-button-lite[slot=nav][disabled]::part(button){opacity:.5;border:1px solid var(--hax-ui-border-color)}`],...Ft],It=[s`hexagon-loader{display:none;margin:0 auto;z-index:1000}hexagon-loader[loading]{display:block;opacity:.8}`],Ut=[s`:host[aria-expanded=true]{border:1px solid var(--hax-ui-border-color)}absolute-position-behavior{border-color:transparent;color:var(--hax-ui-color);background-color:var(--hax-ui-background-color)}:host([expanded]) absolute-position-behavior{border:1px solid var(--hax-ui-border-color)}button[part=button]{text-transform:capitalize;font-size:var(--hax-ui-font-size-sm);padding:var(--hax-ui-spacing-sm);color:var(--hax-ui-color);background-color:var(--hax-ui-background-color);border:1px solid var(--hax-ui-border-color);border-radius:var(--hax-ui-border-radius)}:host([role=menuitem]) button[part=button]{padding:1px;border-color:transparent}:host(:hover) button[part=button]{background-color:var(--hax-ui-background-color-secondary);color:var(--hax-ui-color)}:host([toggled]) button[part=button],button[part=button][aria-pressed=true]{color:var(--hax-ui-color-accent);border-color:var(--hax-ui-color-accent)}:host([toggled]:hover) button[part=button],button[part=button][aria-pressed=true]:hover{background-color:var(--hax-ui-background-color-accent)}:host([danger]) button[part=button],:host([feature]) button[part=button]{color:var(--hax-ui-background-color)}:host([feature]) button[part=button]{background-color:var(--hax-ui-color-accent);border-color:var(--hax-ui-color-accent)}:host([danger]) button[part=button]{background-color:var(--hax-ui-color-danger);border-color:var(--hax-ui-color-danger)}:host([danger]) button[part=button][aria-pressed=true],:host([feature]) button[part=button][aria-pressed=true]{color:var(--hax-ui-background-color)}:host([feature]) button[part=button][aria-pressed=true]{background-color:var(--hax-ui-color-accent-secondary);border-color:var(--hax-ui-color-accent)}:host([danger]) button[part=button][aria-pressed=true]{background-color:var(--hax-ui-color-danger-secondary);border-color:var(--hax-ui-color-danger)}:host([danger]:focus-within) button[part=button],:host([danger]:hover) button[part=button],:host([feature]:focus-within) button[part=button],:host([feature]:hover) button[part=button]{color:var(--hax-ui-background-color)}:host([feature]:focus-within) button[part=button],:host([feature]:hover) button[part=button]{background-color:var(--hax-ui-color-accent-secondary);border-color:var(--hax-ui-color-accent-secondary)}:host([danger]:focus-within) button[part=button],:host([danger]:hover) button[part=button]{background-color:var(--hax-ui-color-danger-secondary);border-color:var(--hax-ui-color-danger-secondary)}:host([large]) button[part=button]{font-size:var(--hax-ui-font-size);padding:var(--hax-ui-spacing);border-width:2px}:host([disabled]) button[part=button][disabled]{opacity:1;color:var(--hax-ui-disabled-color);border:1px solid var(--hax-ui-border-color)}[show-text-label]::part(label){text-transform:capitalize;margin:var(--hax-ui-spacing-sm)}`],jt=[s`simple-fields-tabs{padding:0;border:none;margin-left:calc(0 - var(--hax-ui-spacing-sm));margin-right:calc(0 - var(--hax-ui-spacing-sm))}simple-fields-tabs::part(tablist){margin-bottom:var(--hax-ui-spacing)}hax-preferences-dialog::part(haxlink),simple-fields-tabs::part(tab),simple-fields-tabs::part(tab-active),simple-fields-tabs::part(tab-disabled){border:1px solid var(--hax-ui-border-color);text-decoration:none;border-radius:3px;color:var(--hax-ui-color);background-color:var(--hax-ui-background-color);outline:unset;text-transform:capitalize;font-size:var(--hax-ui-font-size-sm);padding:var(--hax-ui-spacing-xs);flex:1 1 auto}simple-fields-tabs::part(tab-active){color:var(--hax-ui-color-accent)}hax-preferences-dialog::part(haxlink){font-size:var(--hax-ui-font-size-xl);display:block;padding:var(--hax-ui-spacing-lg)}hax-preferences-dialog::part(haxlink):focus,hax-preferences-dialog::part(haxlink):hover{color:var(--hax-ui-color);background-color:var(--hax-ui-background-color-accent);border-color:var(--hax-ui-color-accent)}simple-fields-tabs::part(tab-disabled){opacity:.5;background-color:rgba(127,127,127,.2)}simple-fields-tabs::part(content){border:none}simple-fields-tab{padding:0}simple-fields ::part(label){text-transform:captitalize;margin:0}`],Vt=[...Ut,...It,...jt],qt=[s`#tray-detail{font-family:var(--hax-ui-font-family);--hax-tray-detail-title-font-size:var(--hax-ui-font-size);--hax-tray-detail-topic-font-size:var(--hax-ui-font-size-lg);--hax-tray-detail-subtopic-font-size:var(--hax-ui-font-size);--hax-tray-detail-heading-text-transform:capitalize;--hax-tray-detail-heading-font-weight:normal}#toggle-tray-size{color:var(--hax-ui-background-color);background-color:var(--hax-ui-color-accent);outline:1px solid var(--hax-ui-color-accent);--simple-icon-button-border:0px solid transparent;--simple-icon-button-border-radius:var(--hax-ui-border-radius);width:24px;height:24px;padding:0}#toggle-tray-size:focus-within,#toggle-tray-size:hover{color:var(--hax-ui-color);background-color:var(--hax-ui-background-color-accent);border-color:var(--hax-ui-color-accent)}#tray-detail h5,#tray-detail h6{text-transform:var(--hax-tray-detail-heading-text-transform);font-weight:var(--hax-tray-detail-heading-font-weight);margin:var(--hax-ui-spacing-lg) 0 var(--hax-ui-spacing-xs);color:var(--hax-ui-color-faded)}#tray-detail h4{text-transform:var(--hax-tray-detail-heading-text-transform);color:var(--hax-ui-background-color);font-size:var(--hax-tray-detail-title-font-size);font-weight:400;margin:0 var(--hax-ui-spacing-sm) 0 0;padding:0}#tray-detail h5{font-size:var(--hax-tray-detail-topic-font-size)}#tray-detail h6{font-size:var(--hax-tray-detail-subtopic-font-size)}`],Gt=[s`h5{font-size:var(--hax-tray-detail-topic-font-size)}h6{font-size:var(--hax-tray-detail-subtopic-font-size)}h5,h6{color:var(--hax-ui-color-faded);text-transform:var(--hax-tray-detail-heading-text-transform);font-weight:var(--hax-tray-detail-heading-font-weight);margin:var(--hax-ui-spacing-lg) 0 var(--hax-ui-spacing-xs)}`];class Wt extends c{static get styles(){return Vt}render(){return a`<slot></slot>`}static get tag(){return"hax-ui-styles"}}window.customElements.define(Wt.tag,Wt),Element.prototype.replaceWith||(Element.prototype.replaceWith=C),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=C),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=C),String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return this.split(t).join(e)});var Xt=null;class Yt extends($(Y(r))){static get tag(){return"hax-body"}static get styles(){return[...super.styles,s`:host([edit-mode]),:host([edit-mode]) * ::slotted(*){line-height:1.8}:host([edit-mode]) ol,:host([edit-mode]) ul{padding-left:20px;margin-left:20px}:host([edit-mode]) ul{list-style-type:disc}:host([edit-mode]) li{margin-bottom:6px}:host([edit-mode][tray-status=full-panel]) #bodycontainer{display:none}:host{display:block;position:relative;min-height:32px;min-width:32px;outline:0;--hax-contextual-action-text-color:var(--hax-ui-background-color);--hax-contextual-action-hover-color:var(--hax-ui-color-accent);--hax-contextual-action-color:var(--hax-ui-color-accent-secondary);--hax-body-editable-outline:1px solid var(--hax-ui-disabled-color, #ddd);--hax-body-active-outline-hover:1px solid var(--hax-ui-color-faded, #444);--hax-body-active-outline:1px solid var(--hax-ui-color-focus, #000);--hax-body-active-drag-outline:1px solid var(--hax-ui-color-accent, #009dc7);--hax-body-target-background-color:var(
            --hax-ui-background-color-accent
          );--hax-body-possible-target-background-color:inherit}#topcontext{z-index:calc(var(--hax-ui-focus-z-index) - 2);min-width:280px}#topcontextmenu{width:auto;max-width:100%;position:absolute;bottom:0}.hax-context-menu{display:none;z-index:1}.hax-context-menu:hover{z-index:calc(var(--hax-ui-focus-z-index) + 1);transition:0s z-index ease-in-out}.hax-context-menu-active,.hax-context-visible{display:flex}:host([edit-mode]) #bodycontainer ::slotted([contenteditable]){-webkit-appearance:textfield;cursor:text;-moz-user-select:text;-khtml-user-select:text;-webkit-user-select:text;-o-user-select:text}:host([edit-mode]) #bodycontainer ::slotted([contenteditable][data-hax-ray]:empty)::before{content:attr(data-hax-ray);opacity:.2;transition:.2s all ease-in-out}:host([edit-mode]) #bodycontainer ::slotted([contenteditable][data-hax-ray]:hover:empty)::before{opacity:.4;cursor:text}:host([edit-mode]) #bodycontainer ::slotted([contenteditable][data-hax-ray]:empty:focus)::before{content:""}:host([edit-mode]) #bodycontainer ::slotted(p){min-height:var(--hax-base-styles-p-min-height,1rem);font-size:var(--hax-base-styles-p-font-size);line-height:var(--hax-base-styles-p-line-height);letter-spacing:var(--hax-base-styles-p-letter-spacing)}:host([edit-mode]) #bodycontainer ::slotted(a){color:var(--hax-base-styles-a-color);font-size:var(--hax-base-styles-a-font-size,var(--hax-base-styles-p-font-size));font-weight:var(--hax-base-styles-a-font-weight)}:host([edit-mode]) #bodycontainer ::slotted(a:visited){color:var(--hax-base-styles-a-color-visited)}:host([edit-mode]) #bodycontainer ::slotted(a:active),:host([edit-mode]) #bodycontainer ::slotted(a:focus),:host([edit-mode]) #bodycontainer ::slotted(a:hover){color:var(--hax-base-styles-a-color-active);font-weight:var(--hax-base-styles-a-font-weight-active)}:host([edit-mode]) #bodycontainer ::slotted(li),:host([edit-mode]) #bodycontainer ::slotted(ol),:host([edit-mode]) #bodycontainer ::slotted(ul){padding-bottom:var(--hax-base-styles-list-padding-bottom);line-height:var(--hax-base-styles-list-line-height,var(--hax-base-styles-p-line-height));font-size:var(--hax-base-styles-list-font-size,var(--hax-base-styles-p-font-size))}:host([edit-mode]) #bodycontainer ::slotted(ol>li:last-child),:host([edit-mode]) #bodycontainer ::slotted(ul>li:last-child){padding-bottom:var(--hax-base-styles-list-last-child-padding-bottom)}:host([edit-mode]) #bodycontainer ::slotted(img[contenteditable]){max-width:100%}:host([edit-mode]) #bodycontainer ::slotted([contenteditable]){outline:0;caret-color:auto}:host([edit-mode]) #bodycontainer ::slotted(.blinkfocus){outline:4px solid var(--hax-contextual-action-hover-color)}:host([edit-mode]) #bodycontainer ::slotted(:not([data-hax-layout])[contenteditable]:hover){outline:var(--hax-body-active-outline-hover);caret-color:auto}:host(.hax-add-content-visible[edit-mode]) #bodycontainer ::slotted(.hax-active){margin-bottom:30px}:host([edit-mode]) #bodycontainer ::slotted(.hax-active[contenteditable]:hover){cursor:text!important;caret-color:auto;outline:var(--hax-body-active-outline-hover)}:host([edit-mode]) #bodycontainer ::slotted(:not([data-hax-layout])[contenteditable].hax-active:hover){cursor:text!important;caret-color:auto;outline:var(--hax-body-active-outline-hover)}:host([edit-mode]) #bodycontainer ::slotted(code.hax-active[contenteditable]){display:block}:host([edit-mode]) #bodycontainer ::slotted(.hax-active[contenteditable]){outline:var(--hax-body-active-outline)!important}:host([edit-mode]) #bodycontainer ::slotted(hr[contenteditable]){height:2px;background-color:#eee;padding-top:4px;padding-bottom:4px}:host([edit-mode]) #bodycontainer ::slotted([contenteditable]){-webkit-user-select:text;cursor:pointer}:host([edit-mode]) #bodycontainer ::slotted([contenteditable]::-moz-selection){background-color:var(--hax-body-highlight,#ffffac);color:#000}:host([edit-mode]) #bodycontainer ::slotted([contenteditable]::selection){background-color:var(--hax-body-highlight,#ffffac);color:#000}#bodycontainer{-webkit-user-select:text;user-select:text}.hax-context-menu:not(:defined),absolute-position-behavior:not(:defined){display:none}:host([edit-mode][hax-mover]) #bodycontainer ::slotted(*)::before{background-color:var(--hax-body-possible-target-background-color);content:" ";width:100%;display:block;position:relative;margin:-12px 0 0 0;z-index:2;height:12px;transition:.2s all ease-in-out}:host([edit-mode][hax-mover]) #bodycontainer ::slotted(img){outline:var(--hax-body-editable-outline)}:host([edit-mode]) #bodycontainer ::slotted(.hax-hovered)::before,:host([edit-mode]) #bodycontainer ::slotted(img.hax-hovered){background-color:var(--hax-body-target-background-color)!important}:host([edit-mode]) #bodycontainer ::slotted(img.hax-hovered){border-top:8px var(--hax-contextual-action-hover-color,var(--hax-ui-color-accent));margin-top:-8px}@media screen and (max-width:800px){.hax-context-menu{height:0}.hax-context-visible{height:auto}:host(:not([tray-detail=collapsed])){z-index:-1}:host([edit-mode]) #bodycontainer,:host([edit-mode]) #bodycontainer[element-align=left],:host([edit-mode]) #bodycontainer[element-align=right]{margin:calc(100px + var(--hax-tray-menubar-min-height)) 0 0 0}}@media screen and (min-color-index:0) and(-webkit-min-device-pixel-ratio:0){:host([edit-mode][hax-mover]) #bodycontainer ::slotted(*){outline:var(--hax-body-editable-outline);background-color:var(--hax-body-possible-target-background-color)}:host([edit-mode]) #bodycontainer ::slotted(.hax-hovered){background-color:var(--hax-body-target-background-color)!important;outline:var(--hax-body-active-outline)}}`]}constructor(){if(super(),this.__ignoreActive=!1,this.__dragMoving=!1,this.___moveLock=!1,this.viewSourceToggle=!1,this.editMode=!1,this.haxMover=!1,this.activeNode=null,this.part="hax-body",this.t={addContent:"Add Content"},this.registerLocalization({context:this,namespace:"hax"}),!window.HaxUiStyles){window.HaxUiStyles=document.createElement("div");let t=document.createElement("style"),e=$t.map((t=>t.cssText)).join("");t.setAttribute("data-hax",!0),t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}setTimeout((()=>{Promise.resolve().then((function(){return Ot})),import("./6b7d765a.js"),import("./81e87d46.js"),import("./689405df.js"),this.polyfillSafe=p.computePolyfillSafe(),this.addEventListener("place-holder-replace",this.replacePlaceholder.bind(this)),this.addEventListener("focusin",this._focusIn.bind(this)),this.addEventListener("mousemove",this._mouseMove.bind(this)),this.addEventListener("mouseleave",this._mouseLeave.bind(this)),this.addEventListener("touchstart",this._mouseMove.bind(this),{passive:!0}),this.addEventListener("mousedown",this._mouseDown.bind(this)),this.addEventListener("mouseup",this._mouseUp.bind(this)),this.addEventListener("dragenter",this.dragEnterBody.bind(this)),this.addEventListener("dragend",this.dragEndBody.bind(this)),this.addEventListener("drop",this.dropEvent.bind(this))}),0),u((()=>{this.editMode=m(p.editMode)})),u((()=>{this.elementAlign=m(p.elementAlign)})),u((()=>{this.trayStatus=m(p.trayStatus),this.trayDetail=m(p.trayDetail)})),u((()=>{this.activeNode=m(p.activeNode)})),u((()=>{m(p.activeEditingElement)}))}get isGridActive(){return p.isGridPlateElement(activeNode)}dragEndBody(t){this.__manageFakeEndCap(!1),p._lockContextPosition=!1,this.querySelectorAll(".hax-hovered").forEach((t=>{t.classList.remove("hax-hovered")}))}_mouseLeave(t){this.editMode&&p.ready&&(clearTimeout(this.__mouseQuickTimer),clearTimeout(this.__mouseTimer),this.__activeHover=null)}_mouseMove(t){if(this.editMode&&p.ready){var e=S(t);clearTimeout(this.__mouseQuickTimer),this.__mouseQuickTimer=setTimeout((()=>{this.__activeHover&&this.__activeHover!=e[0].closest("[data-hax-ray]:not(li)")&&(this.__activeHover=null)}),300),clearTimeout(this.__mouseTimer),this.__mouseTimer=setTimeout((()=>{this.__addActiveVisible();let t=e[0].closest("[data-hax-ray]:not(li)");if(t)this.__activeHover=t;else if(e[0].closest("[data-move-order]")&&e[3]&&e[3].closest("[data-hax-layout]"))if(e[0].closest("[data-move-order]:not(.has-nodes")){if(this.__addAbove=!1,this.__slot=e[0].closest("[data-move-order]").getAttribute("id").replace("col","col-"),0==e[0].closest("[data-move-order]").parentNode.parentNode.host.children.length){let t=document.createElement("p");e[0].closest("[data-move-order]").parentNode.parentNode.host.appendChild(t)}this.__activeHover=e[0].closest("[data-move-order]").parentNode.parentNode.host.children[0]}else this.__activeHover=e[0].closest("[data-move-order]").parentNode.parentNode.host;else e[0].closest("#bodycontainer")&&(this.__activeHover=null)}),400)}}_mouseDown(t){if(this.editMode){this.__mouseDown=!0;let e=t.target;e.closest("[draggable]")?e=e.closest("[draggable]"):e.closest("[slot]")?e=e.closest("[slot]"):e.closest("[data-hax-ray]")?e=e.closest("[data-hax-ray]"):e.closest("[contenteditable]")?e=e.closest("[contenteditable]"):p.validTagList.includes(e.tagName.toLowerCase())||"HAX-BODY"===e.tagName||e.haxUIElement||console.warn(e),!e.haxUIElement&&this.__focusLogic(e)&&(t.stopPropagation(),t.stopImmediatePropagation())}}_mouseUp(t){setTimeout((()=>{this.__mouseDown=!1}),0),clearTimeout(Xt),this.__manageFakeEndCap(!1)}clickEvent(t){clearTimeout(Xt)}blurEvent(t){this.editMode&&p.activeEditingElement}__manageFakeEndCap(t=!0){if(t&&!this.__fakeEndCap){let t=document.createElement("fake-hax-body-end");t.style.width="100%",t.style.height="20px",t.style.zIndex="2",t.style.display="block",this.__fakeEndCap=t,this.haxMover=!0,this.appendChild(this.__fakeEndCap),this.__applyNodeEditableState(this.__fakeEndCap,!0)}else!t&&this.__fakeEndCap&&(this.__fakeEndCap.remove(),this.haxMover=!1,this.__fakeEndCap=null)}dragEnterBody(t){this.__manageFakeEndCap(!0)}render(){return a` <div id="bodycontainer" class="ignore-activation" element-align="${this.elementAlign||"right"}"> <slot id="body"></slot> </div> <absolute-position-behavior id="topcontext" fit-to-visible-bounds justify position="top" allow-overlap auto sticky data-node-type="${this.activeNode?this.viewSourceToggle?this.activeNode.parentNode.tagName:this.activeNode.tagName:""}" .target="${this.activeNode?this.viewSourceToggle?this.activeNode.parentNode:this.activeNode:document.body}" .trayStatus="${this.trayStatus}" ?hidden="${!this.activeNode}"> <div id="topcontextmenu"> <hax-plate-context id="platecontextmenu" class="hax-context-menu ignore-activation" .activeNode="${this.activeNode}" .trayDetail="${this.trayDetail}" .trayStatus="${this.trayStatus}" ?viewSource="${this.viewSourceToggle}" ?canMoveElement="${this.canMoveElement}"></hax-plate-context> <hax-text-editor-toolbar id="textcontextmenu" class="hax-context-menu ignore-activation" .activeNode="${this.activeNode}" ?hidden="${p.isGridPlateElement(this.activeNode)}" show="always"> </hax-text-editor-toolbar> </div> </absolute-position-behavior> `}static get properties(){return{...super.properties,allowLinkTarget:{type:Boolean},haxMover:{type:Boolean,attribute:"hax-mover",reflect:!0},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},elementAlign:{type:String,reflect:!0,attribute:"element-align"},trayDetail:{type:String,reflect:!0,attribute:"tray-detail"},trayStatus:{type:String,reflect:!0,attribute:"tray-status"},activeNode:{type:Object},canMoveElement:{type:Boolean},viewSourceToggle:{type:Boolean,reflect:!0}}}firstUpdated(t){this.dispatchEvent(new CustomEvent("hax-register-body",{bubbles:!0,cancelable:!0,composed:!0,detail:this}));try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("defaultParagraphSeparator",!1,"p")}catch(t){console.warn(t)}this.contextMenus={text:this.shadowRoot.querySelector("#textcontextmenu"),plate:this.shadowRoot.querySelector("#platecontextmenu"),parent:this.shadowRoot.querySelector("#topcontext")},this.shadowRoot.querySelector("slot").addEventListener("mouseup",(t=>{this.editMode&&setTimeout((()=>{const t=p.getSelection();p._tmpSelection=t,p.haxSelectedText=t.toString();try{const t=p.getRange();t.cloneRange&&(p._tmpRange=t.cloneRange())}catch(t){console.warn(t)}}),10)})),this.editMode=p.editMode,this.__tabTrap=!1,this.ready=!0,super.firstUpdated&&super.firstUpdated(t)}async updated(t){t.forEach((async(t,e)=>{"editMode"==e&&void 0!==t&&setTimeout((async()=>{this._editModeChanged(this[e],t),this[e]?(await this._activeNodeChanged(this.activeNode,null),this.activeNode.focus()):await this._activeNodeChanged(null,this.activeNode)}),0),"activeNode"==e&&this.ready&&await this._activeNodeChanged(this[e],t)})),super.updated&&super.updated(t)}connectedCallback(){super.connectedCallback(),this._observer=new MutationObserver((t=>{var e=!1;this.__ignoreActive||this.__dragMoving||this.undoStackIgnore||this.__fakeEndCap?this.undoStackIgnore&&t.forEach((t=>{t.addedNodes.length>0&&t.addedNodes.forEach((t=>{this._validElementTest(t)&&setTimeout((()=>{this.__applyNodeEditableState(t,this.editMode)}),0)}))})):t.forEach((t=>{if(t.addedNodes.length>0){for(var i of t.addedNodes)if(this._validElementTest(i)){if(!this.__delHit&&"BR"===i.tagName&&i.parentElement&&p.__validGridTags().includes(i.parentElement.tagName.toLowerCase())&&i===i.parentElement.childNodes[i.parentElement.childNodes.length-1]){let t=i.parentElement;if(i.remove(),t.childNodes.length>0){let e=t.childNodes[t.childNodes.length-1];e.textContent+="",p._positionCursorInNode(e,e.length)}continue}if(this.__delHit=!1,"P"===i.tagName&&i.children.length>0&&"P"===i.children[0].tagName){k(i);continue}if("P"===i.tagName&&i.parentElement&&"P"===i.parentElement.tagName){k(i.parentElement);continue}if(null!=i.getAttribute("slot")&&i.parentElement===this){i.removeAttribute("slot");continue}if("LI"===i.tagName&&i.children.length>0&&"SPAN"===i.children[0].tagName){this.activeNode!==i.children[0]&&this.activeNode!==i||(this.activeNode=i),k(i.children[0]);continue}if("LI"===i.tagName&&i.parentElement&&!["UL","OL"].includes(i.parentElement.tagName)){k(i);continue}if("P"===i.tagName&&i.children.length>0&&["P","LI"].includes(i.children[0].tagName)){k(i.children[0]);continue}if(this.__slot&&(i.setAttribute("slot",this.__slot),this.__slot=null),this.__indentTrap)if("SPAN"===i.tagName)i.parentNode===this?this.haxChangeTagName(i,"p",!0):"LI"===i.parentNode.tagName&&(i.parentNode.innerHTML=i.textContent);else if("BR"===i.tagName){i.remove();continue}if(!this.editMode||"true"!=i.getAttribute("contenteditable")&&!0!==i.getAttribute("contenteditable")&&"contenteditable"!=i.getAttribute("contenteditable")||this.__applyNodeEditableState(i,!this.editMode),this.__applyNodeEditableState(i,this.editMode),p.isGridPlateElement(i)){let t=i.querySelectorAll("*");for(var o=0;o<t.length;o++)this._validElementTest(t[o])&&this.__applyNodeEditableState(t[o],this.editMode)}if(["H1","H2","H3","H4","H5","H6"].includes(i.tagName)&&null==i.getAttribute("id")&&i.setAttribute("id",T("header-")),this.___moveLock||e)this.___moveLock=!1;else if(e=!0,p.activeNode=i,"BR"===i.tagName){const t=p.getSelection();p._tmpSelection=t,p.haxSelectedText=t.toString();const e=p.getRange();e.collapsed&&"BR"===this.activeNode.tagName&&this.activeNode.parentNode===e.commonAncestorContainer&&""===this.activeNode.innerText&&(p.activeNode=this.activeNode.parentNode)}}this.__indentTrap&&setTimeout((()=>{this.__indentTrap=!1}),0)}else this.ready&&this.editMode&&p.ready&&0===t.addedNodes.length&&t.removedNodes.length>0&&this.shadowRoot&&0===this.shadowRoot.querySelector("#body").assignedNodes({flatten:!0}).length&&setTimeout((()=>{0===this.shadowRoot.querySelector("#body").assignedNodes({flatten:!0}).length&&this.appendChild(document.createElement("p"))}),100)})),this.__ignoreActive&&(this.__ignoreActive=!1),p.haxTray.updateMap()})),this._observer.observe(this,{childList:!0,subtree:!0}),window.addEventListener("hax-context-item-selected",this._haxContextOperation.bind(this)),window.addEventListener("click",this.clickEvent.bind(this)),window.addEventListener("blur",this.blurEvent.bind(this)),window.addEventListener("keydown",this._onKeyDown.bind(this)),window.addEventListener("keypress",this._onKeyPress.bind(this)),document.body.addEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),window.addEventListener("scroll",this._keepContextVisible.bind(this),{passive:!0}),window.addEventListener("resize",this._keepContextVisible.bind(this),{passive:!0})}disconnectedCallback(){window.removeEventListener("click",this.clickEvent.bind(this)),window.removeEventListener("blur",this.blurEvent.bind(this)),window.removeEventListener("keydown",this._onKeyDown.bind(this)),window.removeEventListener("keypress",this._onKeyPress.bind(this)),document.body.removeEventListener("hax-store-property-updated",this._haxStorePropertyUpdated.bind(this)),window.removeEventListener("scroll",this._keepContextVisible.bind(this)),window.removeEventListener("resize",this._keepContextVisible.bind(this)),window.removeEventListener("hax-context-item-selected",this._haxContextOperation.bind(this)),this._observer.disconnect(),super.disconnectedCallback()}_keepContextVisible(t=null){this.editMode&&(clearTimeout(this.__contextVisibleLock),this.__contextVisibleLock=setTimeout((()=>{let t=!1;this.contextMenus.plate.classList.contains("hax-context-visible")&&(t=this.contextMenus.plate),t&&this.positionContextMenus()}),100))}_onKeyDown(t){if(this.editMode&&"HAX-TRAY"!==document.activeElement.tagName&&"BODY"!==document.activeElement.tagName&&"SIMPLE-MODAL"!==document.activeElement.tagName&&this.getAttribute("contenteditable")){if(this.__dropActiveVisible(),this.__manageFakeEndCap(!1),null!=p.getSelection().anchorNode)switch(t.key){case"Z":case"z":t.ctrlKey&&(t.shiftKey?this.redo():this.undo(),t.detail.keyboardEvent&&(t.detail.keyboardEvent.preventDefault(),t.detail.keyboardEvent.stopPropagation(),t.detail.keyboardEvent.stopImmediatePropagation()),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation());break;case"Tab":p.isTextElement(this.activeNode)&&(t.detail.keyboardEvent&&(t.detail.keyboardEvent.preventDefault(),t.detail.keyboardEvent.stopPropagation(),t.detail.keyboardEvent.stopImmediatePropagation()),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.shiftKey?this._tabBackKeyPressed():this._tabKeyPressed());break;case"Enter":if(this.activeNode&&(this.__slot=this.activeNode.getAttribute("slot")),this.activeNode&&"P"===this.activeNode.tagName&&["1","#","`",">","-","!"].includes(this.activeNode.textContent[0])){const t=this.activeNode.textContent.replaceAll(//g," ");this.keyboardShortCutProcess(t)}break;case"Backspace":case"Delete":this.__delHit=!0;break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":setTimeout((()=>{const t=p.getSelection();p._tmpSelection=t,p.haxSelectedText=t.toString();const e=p.getRange();e.commonAncestorContainer&&this.activeNode!==e.commonAncestorContainer&&"function"==typeof e.commonAncestorContainer.focus?"HAX-BODY"!==e.commonAncestorContainer.tagName&&this.__focusLogic(e.commonAncestorContainer,!1):e.commonAncestorContainer&&e.commonAncestorContainer.parentNode&&this.activeNode!==e.commonAncestorContainer.parentNode&&"function"==typeof e.commonAncestorContainer.parentNode.focus&&("HAX-BODY"!==e.commonAncestorContainer.parentNode.tagName?this.__focusLogic(e.commonAncestorContainer.parentNode,!1):this.__focusLogic(e.commonAncestorContainer,!1))}),0);break;default:setTimeout((()=>{if(this.activeNode&&"P"===this.activeNode.tagName&&["1","#","`",">","-","!"].includes(this.activeNode.textContent[0])){const t=this.activeNode.textContent.replaceAll(//g," ");" "===t[t.length-1]&&this.keyboardShortCutProcess(t)}}),0)}}}keyboardShortCutProcess(t){if(p.keyboardShortcuts[t.replace(" ","")]){let e=N(p.keyboardShortcuts[t.replace(" ","")]);this.haxReplaceNode(this.activeNode,e),this.__focusLogic(e),"HR"===e.tagName&&this.haxInsert("p","",{})}else if("!"===t[0]){let e=t.replace("!","").replaceAll(/ /g,"");if(p.elementList[e]){let t,i=p.haxSchemaFromTag(e);t=i.gizmo.tag&&i.demoSchema&&i.demoSchema[0]?N(i.demoSchema[0]):document.createElement(e),this.haxReplaceNode(this.activeNode,t),this.__focusLogic(t)}else p.toast(`${e} is not a valid tag`)}}_onKeyPress(t){let e=this.activeNode&&this.activeNode.nextElementSibling?this.activeNode.nextElementSibling:null;e&&"Enter"===t.key&&this.setActiveNode(this.activeNode.nextElementSibling),setTimeout((()=>{this.activeNode&&this.activeNode===e&&this.editMode&&this.activeNode.previousElementSibling&&this.haxInsert("p","",{},this.activeNode.previousElementSibling)}),1)}setActiveNode(t,e=!1){t&&this.editMode&&this.activeNode&&(p.isTextElement(this.activeNode)||e)&&(this.activeNode=t,clearTimeout(this.__positionContextTimer),this.__positionContextTimer=setTimeout((()=>{this.__addActiveVisible(),this.positionContextMenus()}),2e3))}elementMidViewport(){const t=this.activeNode.getBoundingClientRect().y;return t<0&&t>-1*this.activeNode.offsetHeight+140}replacePlaceholder(t){if("text"===t.detail){let t=document.createElement("p");this.haxReplaceNode(this.activeNode,t),this.__focusLogic(t),this.activeNode.parentNode&&this.activeNode.parentNode.setAttribute("contenteditable",!0)}else this.replaceElementWorkflow()}async canTansformNode(t=null){return await this.replaceElementWorkflow(t,!0).length>0}async insertElementWorkflow(t=null,e=!1){}get primitiveTextBlocks(){return["p","div","pre","h1","h2","h3","h4","h5","h6"]}getAllSlotConfig(t){return t||(t=this.getParentGrid(node)),t&&t.tag?this.getSlotConfig(p.elementList[t.tag],slot):void 0}getParentGrid(t){return((t=t||this.activeNode)?t.slot:void 0)?P(t.parentNode):void 0}getSlotConfig(t="",e={}){let i=e.settings,o=i?Object.keys(i||{}).map((e=>i[e].filter((e=>!(!e.slot||t&&e.slot!==t))))).flat():void 0;return o&&o.length>0?o[0]:void 0}async replaceElementWorkflow(t=null,e=!1){null==t&&(t=this.activeNode);let i=await P(t,null);if(!i)return;let o="*",a=!1,s=(t||{}).slot,n=this.getParentGrid(t);"place-holder"===i.tag&&void 0!==i.properties.type?(o=i.properties.type,a=!0):this.primitiveTextBlocks.includes(i.tag)&&(a=!0);var r=i.content?{innerHTML:i.content}:{};if(void 0!==p.elementList[i.tag]&&!1!==p.elementList[i.tag].gizmo&&void 0!==p.elementList[i.tag].gizmo.handles&&p.elementList[i.tag].gizmo.handles.length>0){let t=p.elementList[i.tag].gizmo;for(var l=0;l<t.handles.length;l++)for(var d in i.properties.innerHTML&&(r.innerHTML=i.properties.innerHTML),t.handles[l])"type"!==d&&void 0!==i.properties[t.handles[l][d]]&&(r[d]=i.properties[t.handles[l][d]])}let c=p.guessGizmo(o,r,a),h=n?this.getSlotConfig(s,p.elementList[n.tag]):void 0,u=n&&"grid-plate"===n.tag?["grid-plate"]:h?h.excludedSlotWrappers:void 0,m=h?h.allowedSlotWrappers:void 0;if((u||m)&&(c=c.filter((t=>!u.includes(t.tag)&&(!m||m.includes(t.tag))))),c.length>0){let i=t.tagName.toLowerCase(),o=i.replace("-"," ");void 0!==p.elementList[i]&&!1!==p.elementList[i].gizmo&&(o=p.elementList[i].gizmo.title),e||(p.activePlaceHolder=this.activeNode,p.haxAppPicker.presentOptions(c,"__convert",`Change ${o} to...`,"gizmo"))}else e||p.toast("Sorry, this can not be transformed!",5e3);return c}_haxStorePropertyUpdated(t){t.detail&&void 0!==t.detail.value&&t.detail.property&&(this[t.detail.property]=t.detail.value)}haxClearBody(t=!0){let e=!0;t&&(e=prompt("Are you sure you want to delete all content?")),e&&L(this)}haxInsert(t,e,i={},o=this.activeNode,a=!1){var s=document.createElement(t);s.innerHTML=e;const n=s.cloneNode(!0);for(var r in i){let t=B(r);i.hasOwnProperty(r)&&(!0===i[r]?n.setAttribute(t,t):!1===i[r]?n.removeAttribute(t):null!=i[r]&&i[r].constructor===Array||null!=i[r]&&i[r].constructor===Object?n.properties&&n.properties[r].readOnly||(n.set?n.set(t,i[r]):n[t]=i[r]):n.setAttribute(t,i[r]))}return null!==p.activePlaceHolder&&void 0!==p.activePlaceHolder.style?(n.style.width=p.activePlaceHolder.style.width,n.style.float=p.activePlaceHolder.style.float,n.style.margin=p.activePlaceHolder.style.margin,n.style.display=p.activePlaceHolder.style.display,this.haxReplaceNode(p.activePlaceHolder,n),p.activePlaceHolder=null):o&&o.parentNode?this.__isLayout(o.parentNode)?(null!=o.getAttribute("slot")&&n.setAttribute("slot",o.getAttribute("slot")),this.__addAbove?o.parentNode.insertBefore(n,o):o.parentNode.insertBefore(n,o.nextElementSibling)):o.parentNode&&o.parentNode.nextElementSibling?o.parentNode.nextElementSibling.parentNode.insertBefore(n,o.parentNode.nextElementSibling):o.parentNode&&o.nextElementSibling?this.__addAbove?o.parentNode.insertBefore(n,o):o.parentNode.insertBefore(n,o.nextElementSibling):o.parentNode&&o.parentNode.children[o.parentNode.children.length-1]===o?this.__addAbove?o.parentNode.insertBefore(n,o):o.parentNode.appendChild(n):o.parentNode?o.parentNode.insertBefore(n,o):this.appendChild(n):this.appendChild(n),this.contextMenus.text.hasSelectedText=!1,setTimeout((()=>{this.__focusLogic(n),this.scrollHere(n)}),0),n}async haxToContent(){this.hideContextMenus();var t=this.activeNode;p.activeNode=null;let e="slot"===this.shadowRoot.querySelector("#body").localName?this.shadowRoot.querySelector("#body").assignedNodes({flatten:!0}):[];for(var i="",o=0;o<e.length;o++)if(this._validElementTest(e[o]))this.__applyDragDropState(e[o],!1),e[o].classList.remove("hax-hovered"),e[o].contentEditable=!1,i+=await p.nodeToContent(e[o]),this.__isLayout(e[o])&&this._applyContentEditable(this.editMode,e[o]);else if(8===e[o].nodeType)i+="\x3c!-- "+e[o].textContent+" --\x3e";else if(e[o].haxUIElement&&e[o].children&&e[o].children[0]){let t=await p.runHook(e[o],"activeElementChanged",[this.activeNode,!1]);t&&t!==e[o]?i+=await p.nodeToContent(t):i+=await p.nodeToContent(e[o].children[0])}else 1!==e[o].nodeType&&void 0!==e[o].textContent&&"undefined"!==e[o].textContent?i+=e[o].textContent:console.warn(e[o]);if(i=(i=(i=(i=i.replace(/\scontenteditable=\"false\"/g,"")).replace(/\scontenteditable/g,"")).replace(/\sdraggable/g,"")).replace(/\sdata-hax-ray=\".*?\"/g,""),this.parentNode.tagName){let t=this.parentNode.tagName.toLowerCase(),e="style-scope "+t+" x-scope",a=new RegExp(e,"g");i=i.replace(a,""),e="style-scope "+t,a=new RegExp(e,"g"),i=i.replace(a,""),e="x-scope "+t+"-0",a=new RegExp(e,"g"),i=i.replace(a,"");let s=p.validTagList;for(var o in s)e="style-scope "+s[o],a=new RegExp(e,"g"),i=i.replace(a,""),e="x-scope "+s[o]+"-0 ",a=new RegExp(e,"g"),i=i.replace(a,""),e="x-scope "+s[o]+"-0",a=new RegExp(e,"g"),i=i.replace(a,"")}return i=(i=i.replace(/\sclass=\"\"/g,"")).replace(/\sclass=\"\s\"/g,""),this._applyContentEditable(this.editMode),p.activeNode=t,i=O(i)}async haxDuplicateNode(t){let e=await P(t,null);p.elementList[t.tagName.toLowerCase()],p.testHook(t,"preProcessInsertContent")&&(e=await p.runHook(t,"preProcessInsertContent",[e])),e.content==e.properties.innerHTML&&delete e.properties.innerHTML;var i=N({tag:e.tag,content:e.content,properties:e.properties});return"webview"===i.tagName.toLowerCase()&&p._isSandboxed&&void 0!==i.guestinstance&&delete i.guestinstance,null!==t?t.parentNode.insertBefore(i,t.nextSibling):t.parentNode.appendChild(i),p.activeNode=i,!0}hideContextMenus(t=!0){clearTimeout(Xt),clearTimeout(this.__contextVisibleLock),clearTimeout(this.__positionContextTimer),this._hideContextMenu(this.contextMenus.text),this.__activeHover=null,t&&this._hideContextMenu(this.contextMenus.plate)}positionContextMenus(t=this.activeNode){if(t&&t.tagName&&this.ready){let e=t.tagName.toLowerCase();p.elementList&&p.elementList[e]&&p.elementList[e].contentEditable?t.setAttribute("contenteditable",!0):t.removeAttribute("contenteditable"),clearTimeout(this.__positionContextTimer),this.__positionContextTimer=setTimeout((()=>{if(!p._lockContextPosition){let e=t.tagName.toLowerCase();p._isSandboxed&&"webview"===e&&(e="iframe");let i=p.elementList[e];t?this._showContextMenu(this.contextMenus.plate):this._hideContextMenu(this.contextMenus.plate),void 0===i||p.isTextElement(t)?this._showContextMenu(this.contextMenus.text):(this._hideContextMenu(this.contextMenus.text),i.element=t),(i||{}).gizmo;let o=i&&i.gizmo&&(i.gizmo.handles||[]).filter((t=>"inline"===(t||{}).type)).length>0;i&&"core"!=i.editingElement?setTimeout((()=>{(t&&t.parentNode||!o)&&(this.canMoveElement=!0)}),250):this.activeNode&&("LI"===this.activeNode.tagName||this._HTMLInlineTextDecorationTest(this.activeNode))?this.canMoveElement=!1:this.canMoveElement=!0}this.contextMenus.parent.setPosition()}),50)}}__addActiveVisible(){for(var t in this.contextMenus)("add"!=t||this.__activeHover)&&this.contextMenus[t].classList.add("hax-context-menu-active")}__dropActiveVisible(){for(var t in this.contextMenus)this.contextMenus[t].classList.remove("hax-context-menu-active");this.__activeHover=null}haxMoveGridPlate(t,e=1){this.___moveLock=!0;let i=t?t.parentNode:void 0,o=e>0?t.nextElementSibling:t.previousElementSibling,a=this.__layoutSlots(i)||[],s=t.getAttribute("slot"),n=s?a.indexOf(s):-1,r=a[n+e];return o&&(!s||o.getAttribute("slot")),!o||s&&s!==o.getAttribute("slot")?r?t.setAttribute("slot",r):t&&i&&i!==this&&(o=e>0?i.nextElementSibling:i,r=i.getAttribute("slot"),o&&(i.parentNode.insertBefore(t,o),r&&t.setAttribute("slot",r))):i.insertBefore(t,e>0?o.nextElementSibling:o),this.scrollHere(t),this.positionContextMenus(t),!0}async haxGridPlateOps(t=!0,e="right",i=this.activeNode){let o=!1;if("GRID-PLATE"===i.tagName){if(t)switch(i.layout){case"1":i.layout="1-1",o=!0;break;case"1-1":i.layout="1-1-1",o=!0;break;case"1-1-1":i.layout="1-1-1-1",o=!0;break;case"1-1-1-1":i.layout="1-1-1-1-1",o=!0;break;case"1-1-1-1-1":i.layout="1-1-1-1-1-1",o=!0}else switch(i.layout){case"1-1":let t;await i.childNodes.forEach((e=>{e.tagName&&(t=e.cloneNode(!0),i.getAttribute("slot")?t.setAttribute("slot",i.getAttribute("slot")):t.removeAttribute("slot"),i.parentNode.insertBefore(t,i))})),p.activeNode=t,setTimeout((()=>{i.remove()}),0),o=!0;break;case"1-1-1":i.layout="1-1",o=!0;break;case"1-1-1-1":i.layout="1-1-1",o=!0;break;case"1-1-1-1-1":i.layout="1-1-1-1",o=!0;break;case"1-1-1-1-1-1":i.layout="1-1-1-1-1",o=!0}if(o){let t=this.contextMenus.plate.shadowRoot.querySelector("#right"),o=this.contextMenus.plate.shadowRoot.querySelector("#rightremove");t.disabled=!1,o.disabled=!1,"1-1-1-1-1-1"==i.layout&&(t.disabled=!0),"left"==e&&i.childNodes.forEach((t=>{if(t.tagName){let e=parseInt(t.getAttribute("slot").replace("col-",""),10)+1;t.setAttribute("slot",`col-${e}`)}}))}}else{let t=document.createElement("grid-plate");t.layout="1-1",t.disableResponsive=!0,i.getAttribute("slot")&&t.setAttribute("slot",i.getAttribute("slot"));let o="2";"right"==e&&(o="1");let a=i.cloneNode(!0);a.setAttribute("slot","col-"+o),t.appendChild(a),i.parentNode.insertBefore(t,i),setTimeout((()=>{i.remove()}),0)}await p.refreshActiveNodeForm()}haxReplaceNode(t,e){try{null==t&&(t=this.__oldActiveNode),!t.replaceWith&&p._tmpRange&&(t=p._tmpRange,p._tmpRange=null),t&&t.getAttribute&&null!=t.getAttribute("slot")&&e.setAttribute("slot",t.getAttribute("slot")),t.replaceWith(e)}catch(t){console.warn(t)}return e}haxChangeTagName(t,e,i=!0){for(var o=document.createElement(e),a=0,s=t.attributes.length;a<s;++a){let e=t.attributes.item(a).nodeName,i=t.attributes.item(a).value;try{o.setAttribute(e,i)}catch(e){console.warn(t.attributes),console.warn(e)}}i&&(o.innerHTML=t.innerHTML.trim()),"ul"==e||"ol"==e?"<br />"==o.innerHTML?o.innerHTML="<li><br /></li>":"ul"!=t.tagName.toLowerCase()&&"ol"!=t.tagName.toLowerCase()&&(o.innerHTML="<li>"+t.innerHTML.trim().replace(/<br\/>/g,"</li>\n<li>").replace(/<br>/g,"</li>\n<li>")+"</li>"):"ul"!=t.tagName.toLowerCase()&&"ol"!=t.tagName.toLowerCase()||(o.innerHTML=o.innerHTML.replace(/<ul>/g,"").replace(/<\/ul>/g,"").replace(/<li><\/li>/g,"").replace(/<li>/g,"").replace(/<\/li>/g,"<br/>"));try{t.replaceWith(o),i&&setTimeout((()=>{let t=o.children;t[0]&&t.tagName?t[0].focus():o.focus()}),10)}catch(e){console.warn(e),console.warn(o),console.warn(t)}return o}haxDeleteNode(t){if(t.previousElementSibling)p.activeNode=t.previousElementSibling;else if(t.nextElementSibling)p.activeNode=t.nextElementSibling;else{this.haxInsert("p","",{});try{var e=document.createRange(),i=p.getSelection();e.setStart(this.activeNode,0),e.collapse(!0),i.removeAllRanges(),i.addRange(e),this.activeNode.focus()}catch(t){console.warn(t)}}try{return t.remove()}catch(t){console.warn(t)}}importContent(t,e=!0){e&&L(this,"*"),setTimeout((()=>{t=O(t);let e=document.createElement("div");for(e.insertAdjacentHTML("beforeend",t);null!==e.firstChild;)if(void 0!==e.firstChild.tagName)if(p._isSandboxed&&"iframe"===e.firstChild.tagName.toLowerCase()){for(var i=document.createElement("webview"),o=0,a=e.firstChild.attributes.length;o<a;++o){var s=e.firstChild.attributes.item(o).nodeName,n=e.firstChild.attributes.item(o).value;"height"!==s&&"width"!==s||i.style[s],i.setAttribute(s,n)}this.appendChild(i)}else this.appendChild(e.firstChild);else e.removeChild(e.firstChild)}),0)}sortGridSlots(t=this.activeNode){let e=p.haxSchemaFromTag(t.tagName);"grid"===e.type&&("GRID-PLATE"===t.tagName?t.layout.split("-").map(((t,e)=>`col-${e}`)):p.slotsFromSchema(e).map((t=>t.slot))).reverse().forEach(((e,i)=>{0==i?t.querySelectorAll(`[slot=${e}]`).forEach((e=>t.append(e))):[...t.querySelectorAll(`[slot=${e}]`)].reverse().forEach((e=>t.insertBefore(e,t.firstChild)))}))}async _haxContextOperation(t){let e=t.detail,i=S(t),o=i&&i[0]?i[0].getAttribute("data-slot"):void 0;switch(e.eventName){case"insert-above-active":if(this.activeNode&&this.activeNode.previousElementSibling)this.haxInsert("p","",{},this.activeNode.previousElementSibling);else{let t=document.createElement("p");this.insertBefore(t,this.activeNode)}break;case"insert-below-active":this.haxInsert("p","",{});break;case"move-to-slot":o&&this.activeNode&&p.isGridPlateElement(this.activeNode.parentNode)&&(this.activeNode.slot=o,this.sortGridSlots(this.activeNode.parentNode));break;case"insert-into-active":if(o&&this.activeNode&&p.isGridPlateElement(this.activeNode)){let t=document.createElement("p");t.slot=o,this.activeNode.append(t),this.haxInsert("p","",{slot:o},t),t.remove(),this.sortGridSlots()}break;case"hax-select-grid-item":if(i[0]&&i[0].eventData){let t=i[0].eventData;this.setActiveNode(t,!0),this.positionContextMenus(t)}break;case"hax-source-view-toggle":if(this.activeNode.__haxSourceView){this.activeNode.__haxSourceView=!1;let t=await p.runHook(p.activeEditingElement,"activeElementChanged",[this.activeNode,!1]),e=p.haxSchemaFromTag(this.activeNode.tagName.toLowerCase());if(this.activeNode&&this.activeNode.getAttribute&&null!=this.activeNode.getAttribute("slot")&&t.setAttribute("slot",this.activeNode.getAttribute("slot")),e.saveOptions&&e.saveOptions.unsetAttributes&&e.saveOptions.unsetAttributes.length)for(var a in e.saveOptions.unsetAttributes)t.removeAttribute(e.saveOptions.unsetAttributes[a]);this.__applyNodeEditableState(t,this.editMode),k(p.activeEditingElement),p.activeEditingElement=null,this.viewSourceToggle=!1}else this.activeNode.__haxSourceView=!0,p.activeEditingElement=document.createElement("code-editor"),p.activeEditingElement.language="html",p.activeEditingElement.title="",p.activeEditingElement.theme="vs",p.activeEditingElement.fontSize=12,p.activeEditingElement.wordWrap=!0,this.viewSourceToggle=!0,import("./da3789ad.js").then((function(t){return t.c})),this.activeNode.getAttribute&&null!=this.activeNode.getAttribute("slot")&&p.activeEditingElement.setAttribute("slot",this.activeNode.getAttribute("slot")),this.__ignoreActive=!0,this.activeNode.removeAttribute("contenteditable"),this.__applyDragDropState(this.activeNode,!1),this.activeNode.classList.remove("hax-active"),p.testHook(this.activeNode,"preProcessNodeToContent")&&(this.activeNode=await p.runHook(this.activeNode,"preProcessNodeToContent",[this.activeNode])),M(this.activeNode,p.activeEditingElement),p.activeEditingElement.focus();break;case"hax-full-text-editor-toggle":if(this.activeNode.__haxSourceView){this.activeNode.__haxSourceView=!1;let t=await p.runHook(p.activeEditingElement,"activeElementChanged",[this.activeNode,!1]),e=p.haxSchemaFromTag(this.activeNode.tagName.toLowerCase());if(this.activeNode&&this.activeNode.getAttribute&&null!=this.activeNode.getAttribute("slot")&&t.setAttribute("slot",this.activeNode.getAttribute("slot")),e.saveOptions&&e.saveOptions.unsetAttributes&&e.saveOptions.unsetAttributes.length)for(var a in e.saveOptions.unsetAttributes)t.removeAttribute(e.saveOptions.unsetAttributes[a]);this.__applyNodeEditableState(t,this.editMode),k(p.activeEditingElement),p.activeEditingElement=null,this.viewSourceElement=p.activeEditingElement}else this.activeNode.__haxSourceView=!0,import("./9ba3b613.js").then((()=>{p.activeEditingElement=document.createElement("rich-text-editor"),p.activeEditingElement.type="rich-text-editor-toolbar-full",this.activeNode.getAttribute&&null!=this.activeNode.getAttribute("slot")&&p.activeEditingElement.setAttribute("slot",this.activeNode.getAttribute("slot")),this.__ignoreActive=!0,this.activeNode.removeAttribute("contenteditable"),this.__applyDragDropState(this.activeNode,!1),this.activeNode.classList.remove("hax-active"),M(this.activeNode,p.activeEditingElement),this.viewSourceElement=p.activeEditingElement}));break;case"text-tag":p.activeNode=this.haxChangeTagName(this.activeNode,e.value),this.positionContextMenus();break;case"text-tag-ul":this.contextMenus.text.realSelectedValue="ul",p.activeNode=this.haxChangeTagName(this.activeNode,"ul"),this.positionContextMenus();break;case"text-tag-ol":this.contextMenus.text.realSelectedValue="ol",p.activeNode=this.haxChangeTagName(this.activeNode,"ol"),this.positionContextMenus();break;case"text-align-left":this.activeNode.style.textAlign=null;break;case"hax-transform-node":this.replaceElementWorkflow();break;case"hax-plate-create-right":this.haxGridPlateOps();break;case"hax-plate-remove-right":this.haxGridPlateOps(!1);break;case"hax-plate-duplicate":this.haxDuplicateNode(this.activeNode);break;case"hax-plate-delete":null!=this.activeNode&&this.haxDeleteNode(this.activeNode);break;case"hax-plate-up":this.haxMoveGridPlate(this.activeNode,-1);break;case"hax-plate-down":this.haxMoveGridPlate(this.activeNode);break;case"content-edit":"content-edit"===p.haxTray.trayDetail&&(p.haxTray.collapsed=!p.haxTray.collapsed),p.haxTray.trayDetail="content-edit"}}_focusIn(t){this.__mouseDown||this.__focusLogic(t.target)&&(t.stopPropagation(),t.stopImmediatePropagation())}__focusLogic(t,e=!0){let i=!1;if(this.editMode&&!this.__tabTrap){let o=t;"SPAN"===o.tagName&&p.isTextElement(o.parentNode)&&""==o.parentNode.getAttribute("slot")&&(o=t.parentNode);let a=null;if(this._validElementTest(o)&&o.parentNode&&o.parentNode.tagName){if("P"===o.parentNode.tagName&&""==o.parentNode.getAttribute("slot"))a=o,i=!0;else{for(;o.parentNode&&o.parentNode.tagName&&"HAX-BODY"!=o.parentNode.tagName;)null===a&&"B"!==o.tagName&&"I"!==o.tagName&&"STRONG"!==o.tagName&&"EM"!==o.tagName&&(a=o),o=o.parentNode;null===a?a=o:p.isGridPlateElement(o)||(a=o)}(this.activeNode&&this.activeNode.parentNode!==o&&!o.classList.contains("ignore-activation")||o.haxUIElement||o.classList.contains("ignore-activation"))&&(i=!0),a.haxUIElement||a.classList.contains("ignore-activation")||(p.activeNode=a,this.activeNode=a,setTimeout((()=>{if(e&&!this.__mouseDown&&p.isTextElement(a))try{var t=document.createRange(),i=p.getSelection();t.setStart(this.activeNode,0),t.collapse(!0),i.removeAllRanges(),i.addRange(t),this.activeNode.focus()}catch(t){console.warn(t)}this.positionContextMenus(a)}),0),i=!0)}}else this.__tabTrap=!1;return i}scrollHere(t){setTimeout((()=>{"function"==typeof t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded(!0):t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}),0)}undo(){super.undo(),setTimeout((()=>{let t=this.querySelector(".hax-active");t?(this.__focusLogic(t),this.scrollHere(t)):this.hideContextMenus()}),0)}redo(){super.redo(),setTimeout((()=>{let t=this.querySelector(".hax-active");t?(this.__focusLogic(t),this.scrollHere(t)):this.hideContextMenus()}),0)}async _editModeChanged(t,e){if(void 0!==e){if(this._applyContentEditable(t),t)if(this.children&&this.children[0]&&this.children[0].focus)this.__focusLogic(this.children[0]);else{this.haxInsert("p","",{});try{var i=document.createRange(),o=p.getSelection();i.setStart(this.activeNode,0),i.collapse(!0),o.removeAllRanges(),o.addRange(i),this.activeNode.focus()}catch(t){console.warn(t)}}setTimeout((()=>{this.undoStack.undoStackLimit=50,this.undoStack.undoStackPosition=-1,this.undoStack.commands=[],this.undoStack.changed(),this.undoStackInitialValue=this.innerHTML,this.undoStackPrevValue=this.undoStackInitialValue}),0)}if(0==t){k(p.activeEditingElement),p.activeEditingElement=null,this.removeAttribute("contenteditable"),this.hideContextMenus();let t=this.querySelectorAll("[contenteditable],.hax-active");for(var a=0;a<t.length;a++){let e=t[a];e.removeAttribute("contenteditable"),e.classList.remove("hax-active")}}let s="slot"===this.shadowRoot.querySelector("#body").localName?this.shadowRoot.querySelector("#body").assignedNodes({flatten:!0}):[];0===s.length&&(s=this.shadowRoot.querySelector("#body").children);for(a=0;a<s.length;a++)await p.runHook(s[a],"editModeChanged",[t])}_haxResolvePreviousElement(t){for(t=t.previousElementSibling;null!=t&&void 0!==t.tagName&&"HAX-"===t.tagName.substring(0,4);)t=t.previousElementSibling;return t}_validElementTest(t){return!(t.haxUIElement||!t.tagName||["TEMPLATE","HAX-BODY","RICH-TEXT-EDITOR-CLIPBOARD","RICH-TEXT-EDITOR-PROMPT","RICH-TEXT-EDITOR-HIGHLIGHT","HAX-APP-SEARCH-RESULT","FAKE-HAX-BODY-END"].includes(t.tagName))&&(!this._HTMLInlineTextDecorationTest(t)||"HAX-BODY"==t.parentNode)}_HTMLInlineTextDecorationTest(t){return["span","b","strong","i","em",...Object.keys(window.HaxTextEditorToolbarConfig.inlineGizmos||{})].includes(t.tagName.toLowerCase())}_HTMLPrimativeTest(t){return null!=t&&void 0!==t.tagName&&-1==t.tagName.indexOf("-")}_applyContentEditable(t,e=this.shadowRoot.querySelector("#body")){let i="slot"===e.localName?e.assignedNodes({flatten:!0}):[];0===i.length&&(i=e.children);for(var o=0;o<i.length;o++)if(this._validElementTest(i[o])&&(!t||!0!==i[o].getAttribute("contenteditable")&&"true"!=i[o].getAttribute("contenteditable")&&"contenteditable"!=i[o].getAttribute("contenteditable"))&&this.__applyNodeEditableState(i[o],t),p.isGridPlateElement(i[o])){let e=i[o].querySelectorAll("*");for(var a=0;a<e.length;a++)this._validElementTest(e[a])&&this.__applyNodeEditableState(e[a],t)}}__layoutDropEvent(t,e){[...e.querySelectorAll(".active")].forEach((t=>{t.classList.remove("active")})),[...e.shadowRoot.querySelectorAll(".active")].forEach((t=>{t.classList.remove("active")}))}__layoutDragEnter(t){t.target.classList.add("active")}__layoutDragLeave(t){t.target.classList.remove("active")}__layoutMonitor(t){var e=S(t);e[0]&&e[0].assignedNodes&&e[0].assignedNodes().length?e[0].parentNode.classList.add("has-nodes"):e[0].parentNode.classList.remove("has-nodes")}__getLayoutOrder(t,e){if(!e.shadowRoot)return!1;let i=t.getAttribute("slot"),o=e.shadowRoot.querySelector(`[slot=${i}]`);return[...e.shadowRoot.querySelectorAll("[slot]")].map((t=>t.parentNode)).indexOf(o)||-1}__layoutCanMove(t,e,i){if(!e.shadowRoot)return!1;let o=e.shadowRoot.querySelector(`[slot=${slot}]`),a=[...e.shadowRoot.querySelectorAll("[slot]")].map((t=>t.parentNode)),s=(a.indexOf(o)||-1)+(i?-1:1);return s>=a[0]&&s<=a[a.length-1]}__layoutMove(t,e,i){if(!e.shadowRoot)return!1;let o=e.shadowRoot.querySelector(`[slot=${n}]`),a=[...e.shadowRoot.querySelectorAll("[slot]")].map((t=>t.parentNode)),s=a.indexOf(o)||-1,n=a[s+(i?-1:1)];n&&t.setAttribute("slot",n)}async __sortLayoutChildren(t){t.setAttribute("hax-layout-sorting",!0);try{let e=Array.prototype.reduce.call(t.querySelectorAll("[slot]"),(function(t,e){return t}),[]);e=e.sort((function(e,i){return this.__getLayoutOrder(e,t)<this.__getLayoutOrder(i,t)?-1:1})),await e.forEach((e=>{e.parentNode===this&&t.appendChild(e)}))}catch(t){console.warn(t)}t.removeAttribute("hax-layout-sorting")}__layoutSlotValid(t,e){return this.__layoutSlots(e).includes(t.getAttribute("slot"))}__layoutSlots(t){return t.shadowRoot?[...t.shadowRoot.querySelectorAll("[slot]")].map((t=>t.getAttribute("name"))):[]}__applyDragDropState(t,e){let i={drop:e=>this.__layoutDropEvent.bind(this)(e,t),dragenter:this.__layoutDragEnter.bind(this),dragleave:this.__layoutDragEnter.bind(this),slotchange:this.__layoutMonitor.bind(this)};if(t.setAttribute("data-hax-layout",!0),p.isGridPlateElement(t)&&t.setAttribute("data-hax-grid",!0),e&&t.setAttribute("data-hax-ray",e),e&&t.shadowRoot){t.addEventListener("drop",i.drop);let e=[...t.shadowRoot.querySelectorAll("drag-enabled")],o=[...t.shadowRoot.querySelectorAll("slot")];e.forEach((t=>{t.addEventListener("dragenter",i.dragenter),t.addEventListener("dragleave",i.dragleave)})),o.forEach((t=>t.addEventListener("slotchange",i.slotchange))),t.haxLayoutObserver=new MutationObserver((e=>{t.getAttribute("hax-layout-sorting")||(e.forEach((e=>{e.addedNodes.forEach((e=>{e.tagName&&e!==this&&e.parentElement&&"HAX-BODY"!==e.parentElement.tagName&&!this.__layoutSlotValid(e,t)&&this.__layoutSlots(t).length>0&&e.setAttribute("slot",this.__layoutSlots(t)[0])}))})),this.__sortLayoutChildren(t))})),t.haxLayoutObserver.observe(this,{childList:!0})}else if(t.shadowRoot){t.haxLayoutObserver&&t.haxLayoutObserver.disconnect(),this.removeEventListener("drop",i.drop);let e=[...t.shadowRoot.querySelectorAll("drag-enabled")],o=[...t.shadowRoot.querySelectorAll("slot")];e.forEach((t=>{t.removeEventListener("dragenter",i.dragenter),t.removeEventListener("dragleave",i.dragleave)})),o.forEach((t=>t.removeEventListener("slotchange",i.slotchange))),t.removeAttribute("data-hax-ray")}}__isLayout(t){return t&&p.haxSchemaFromTag(t.tagName)&&"grid"===p.haxSchemaFromTag(t.tagName).type}__applyNodeEditableState(t,e=!0){let i;if(!t.tagName)return!1;let o=t.tagName.replace("-"," ").toLowerCase(),a=m(p.gizmoList).findIndex((e=>{if(e)return e.tag===t.tagName.toLowerCase()}));if(-1!==a&&(o=m(p.gizmoList)[a].title),"IMG"==t.tagName&&t.setAttribute("draggable",!1),e?(this.__applyDragDropState(t,o),i="addEventListener"):(this.__applyDragDropState(t,!1),i="removeEventListener"),t[i]("drop",this.dropEvent.bind(this)),t[i]("dragenter",this.dragEnter.bind(this)),t[i]("dragleave",this.dragLeave.bind(this)),t[i]("dragover",(t=>{this.__dragMoving=!0,t.preventDefault()})),this._HTMLPrimativeTest(t)&&(e?t.setAttribute("contenteditable",e):t.removeAttribute("contenteditable"),t.querySelectorAll("a").length>0)){let o=t.querySelectorAll("a");for(var s=0,n=o.length;s<n;s++)e?o[s].setAttribute("contenteditable",e):o[s].removeAttribute("contenteditable"),o[s][i]("click",(t=>{t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}))}}undoManagerStackLogic(t){this.__dragMoving||(this.querySelectorAll(".hax-hovered").forEach((t=>{t.classList.remove("hax-hovered")})),super.undoManagerStackLogic(t))}dropEvent(t){if(this.editMode){this.__dragMoving=!1,this.undoManagerStackLogic({}),clearTimeout(Xt),p._lockContextPosition=!1,p.haxTray.activeTab="item-1";var e,i=null,o=S(t);o[0],i=t.target.closest("[data-hax-layout]")&&t.target.parentNode!=t.target.closest("[data-hax-layout]")?t.target.closest("[data-hax-layout]"):t.target.closest("[contenteditable],img")?t.target.closest("[contenteditable],img"):t.originalTarget?t.originalTarget:t.target,o[0].classList.contains("column")?this.__slot=o[0].getAttribute("id").replace("col","col-"):i.getAttribute("slot")&&(this.__slot=i.getAttribute("slot")),p.activeNode=i,this.querySelectorAll(".hax-hovered").forEach((t=>{t.classList.remove("hax-hovered")})),this.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")}));try{if(t.dataTransfer&&t.dataTransfer.items&&t.dataTransfer.items.length>0&&"file"===t.dataTransfer.items[0].kind){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();let i=document.createElement("p");t.target.closest("[data-hax-layout]")&&t.target.parentNode!=t.target.closest("[data-hax-layout]")?e=t.target.closest("[data-hax-layout]"):t.target.closest("[contenteditable],img")&&(e=t.target.closest("[contenteditable],img")),e&&(e.tagName&&"HAX-BODY"!==e.tagName||!e.getAttribute("data-hax-layout"))||this.__isLayout(o[0])?(e.getAttribute("slot")?i.setAttribute("slot",e.getAttribute("slot")):o[0].classList.contains("column")?i.setAttribute("slot",o[0].getAttribute("id").replace("col","col-")):i.removeAttribute("slot"),e.parentNode.insertBefore(i,e)):(o[0].classList.contains("column")?i.setAttribute("slot",o[0].getAttribute("id").replace("col","col-")):e&&"HAX-BODY"===e.tagName&&i.getAttribute("slot")&&i.removeAttribute("slot"),e?e.appendChild(i):this.appendChild(i)),t.placeHolderElement=i,this.dispatchEvent(new CustomEvent("place-holder-file-drop",{bubbles:!0,cancelable:!0,composed:!0,detail:t}))}else{if(i=p.__dragTarget,e=t.target,t.target.closest("[data-hax-layout]")&&t.target.parentNode!=t.target.closest("[data-hax-layout]")?e=t.target.closest("[data-hax-layout]"):t.target.closest("[contenteditable],img")&&(e=t.target.closest("[contenteditable],img")),e&&i&&this._validElementTest(i)&&i!==e){try{"HAX-BODY"!==e.tagName&&!this.__isLayout(e)||this.__isLayout(o[0])?(e.getAttribute("slot")?i.setAttribute("slot",e.getAttribute("slot")):o[0].classList.contains("column")?i.setAttribute("slot",o[0].getAttribute("id").replace("col","col-")):i.removeAttribute("slot"),e.parentNode.insertBefore(i,e)):(o[0].classList.contains("column")?i.setAttribute("slot",o[0].getAttribute("id").replace("col","col-")):"HAX-BODY"===e.tagName&&i.getAttribute("slot")&&i.removeAttribute("slot"),e.appendChild(i))}catch(t){console.warn(t)}t.preventDefault(),t.stopPropagation()}i&&this._validElementTest(i)&&"function"==typeof i.focus&&(p.activeNode=i,this.dispatchEvent(new CustomEvent("hax-drop-focus-event",{bubbles:!0,cancelable:!0,composed:!0,detail:this.activeNode})),this.scrollHere(this.activeNode),this.positionContextMenus())}}catch(t){console.warn(t)}}p.__dragTarget=null,this.__manageFakeEndCap(!1)}dragEnter(t){this.editMode&&t.target&&p.__dragTarget&&(this.__dragMoving=!0,t.preventDefault(),t.target&&t.target.classList&&t.target.classList.add("hax-hovered"),this.handleMousemove(t))}handleMousemove(t){var e=t.clientX,i=t.clientY,o=document.documentElement.clientWidth,a=document.documentElement.clientHeight,s=a-200,n=o-200,r=e<200,l=e>n,d=i<200,c=i>s;if(r||l||d||c){var h=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.body.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth),u=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.body.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),p=h-o,m=u-a;!function t(){clearTimeout(Xt),function(){var t=window.pageXOffset,o=window.pageYOffset,a=o>0,h=o<m,u=t>0,g=t<p,b=t,f=o;if(r&&u){b-=25*((200-e)/200)}else if(l&&g){b+=25*((e-n)/200)}if(d&&a){f-=25*((200-i)/200)}else if(c&&h){f+=25*((i-s)/200)}return b=Math.max(0,Math.min(p,b)),f=Math.max(0,Math.min(m,f)),(b!==t||f!==o)&&(window.scrollTo(b,f),!0)}()&&(Xt=setTimeout(t,30))}()}else clearTimeout(Xt)}dragLeave(t){this.editMode&&t.target&&t.target.classList&&(this.__dragMoving=!0,t.target.classList.remove("hax-hovered"))}async _activeNodeChanged(t,e){if(window.SimplePopoverManager.requestAvailability().opened=!1,await this.querySelectorAll(".hax-active").forEach((t=>{t.classList.remove("hax-active")})),t&&e&&e.parentNode===t&&p.isGridPlateElement(t)&&(this.__ignoreActive=!0),this.editMode&&null!=t&&t.parentNode){let e=t.tagName.toLowerCase();t.classList.add("hax-active"),p.isTextElement(t)||"HR"===t.tagName||p.isGridPlateElement(t)?(t.setAttribute("contenteditable",!0),this.setAttribute("contenteditable",!0)):(t.removeAttribute("contenteditable"),this.removeAttribute("contenteditable")),this._keepContextVisible(),this.contextMenus.text.realSelectedValue=e}else null===t&&(this.hideContextMenus(),this.__oldActiveNode=e);if(this.editMode&&await p.runHook(e,"activeElementChanged",[e,!1])&&(this.__ignoreActive=!0),this.editMode&&await p.runHook(t,"activeElementChanged",[t,!0])&&(this.__ignoreActive=!0),this.editMode&&e){let t=p.haxSchemaFromTag(e.tagName.toLowerCase());if("core"!=t.editingElement||e.parentNode&&e.parentNode.haxUIElement&&e.parentNode===p.activeEditingElement){this.__ignoreActive=!0;let o=await p.runHook(p.activeEditingElement,"activeElementChanged",[e,!1]);if(o&&o!==e){if(e&&e.getAttribute&&null!=e.getAttribute("slot")&&o.setAttribute("slot",e.getAttribute("slot")),t.saveOptions&&t.saveOptions.unsetAttributes&&t.saveOptions.unsetAttributes.length)for(var i in t.saveOptions.unsetAttributes)o.removeAttribute(t.saveOptions.unsetAttributes[i]);this.__applyNodeEditableState(o,this.editMode)}k(p.activeEditingElement),p.activeEditingElement=null}}if(this.editMode&&t){let e=p.haxSchemaFromTag(t.tagName);if(e&&e.editingElement&&"core"!=e.editingElement){if(e.editingElement.import){let t=new URL("./../../",import.meta.url).href;await import(`${t}${e.editingElement.import}`)}p.activeEditingElement=document.createElement(e.editingElement.tag),t.getAttribute&&null!=t.getAttribute("slot")&&p.activeEditingElement.setAttribute("slot",t.getAttribute("slot")),e.editingElement.callback&&e.editingElement.callback(p.activeEditingElement),this.__ignoreActive=!0,M(t,p.activeEditingElement),await p.runHook(p.activeEditingElement,"activeElementChanged",[t,!0])}}}_getPosition(t){return{x:t.offsetLeft-t.scrollLeft+t.clientLeft,y:t.offsetTop-t.scrollTop+t.clientTop}}_showContextMenu(t){t.setAttribute("on-screen","on-screen"),t.classList.add("hax-context-visible","hax-context-menu-active")}_getContextContainer(t){let e=t&&t.parentNode?t.parentNode:void 0;return e&&e.nodeType?1==e.nodeType?e:e.host:void 0}_hideContextMenu(t){if(!t)return;let e=this._getContextContainer(t);t.removeAttribute("on-screen"),t.visible=!1,t.classList.remove("hax-context-visible","hax-context-menu-active"),e&&(e.menusVisible=!1)}_tabKeyPressed(){if(this.activeNode&&p.getRange().cloneRange)try{let e=!1,i=this.activeNode.parentNode;const o=this.activeNode.parentNode.tagName;let a=p.getRange().cloneRange();var t=a.commonAncestorContainer.tagName;if(void 0===t&&(t=a.commonAncestorContainer.parentNode.tagName),["UL","OL","LI"].includes(o)||["UL","OL","LI"].includes(t))this.polyfillSafe&&(this.__tabTrap=!0,this.__indentTrap=!0,document.execCommand("indent"));else for(;!e;)null==i.nextSibling?e=!0:"function"===i.nextSibling.focus?(i.nextSibling.focus(),e=!0):i=i.nextSibling}catch(t){console.warn(t)}}_tabBackKeyPressed(){if(this.activeNode&&p.getRange().cloneRange)try{let e=this.activeNode.parentNode;const i=this.activeNode.parentNode.tagName;let o=p.getRange().cloneRange();var t=o.commonAncestorContainer.tagName;if(void 0===t&&(t=o.commonAncestorContainer.parentNode.tagName),["UL","OL","LI"].includes(i)||["UL","OL","LI"].includes(t))this.polyfillSafe&&(this.__tabTrap=!0,this.__indentTrap=!0,document.execCommand("outdent"));else{if(null!=e)for(;null!=e&&!this._validElementTest(e);)e=e.previousSibling;null!=e&&setTimeout((()=>{e.focus()}),50)}}catch(t){console.warn(t)}}}window.customElements.define(Yt.tag,Yt);class Qt extends(y(x)){static get tag(){return"simple-fields-combo"}static get styles(){return[...super.styles,s`:host([expanded]){overflow:visible}:host(:focus-within),:host(:hover),li:hover,ul:hover{z-index:2}.input-option{display:flex;align-items:center;justify-content:space-between;flex:1 1 100%}.box-input{flex:1 1 auto}ul[role=listbox]{opacity:0;position:absolute;list-style:none;max-height:var(--simple-fields-combo-max-height,12em);max-width:100%;left:0}:host([align-right]) ul[role=listbox]{right:0;left:unset}:host([justify]) ul[role=listbox]{right:0;left:0}:host([expanded]:focus-within) ul[role=listbox],:host([expanded]:hover) ul[role=listbox]{opacity:1}ul[role=listbox] li[role=option]{margin:0;padding:0;padding-left:.125em;border-top:1px solid transparent;border-bottom:1px solid transparent;background-color:var(--simple-fields-background-color,#fff)}[role=listbox] [role=option]{display:block;margin:.25em;padding:0;font-size:100%}[role=listbox] [role=option][aria-selected=true]{background-color:var(--simple-fields-active-color,#eee)}[role=listbox].focus [role=option][aria-selected=true]{background-color:var(--simple-fields-accent-color-light,#d9eaff);border-color:var(--simple-fields-accent-color,#3f51b5)}[role=listbox] li[role=option]:hover{background-color:var(--simple-fields-accent-color-light,#d9eaff)}::slotted([slot=prefix]:not(:empty)){margin-right:.25em}::slotted([slot=suffix]:not(:empty)){margin:0 .25em}`]}static get properties(){return{...super.properties,activeDescendant:{type:String},alignRight:{type:Boolean,reflect:!0,attribute:"align-right"},expanded:{type:Boolean,reflect:!0},justify:{type:Boolean,reflect:!0},filter:{type:String},filteredOptions:{type:Array},inputFocus:{type:Boolean},inputHover:{type:Boolean},listFocus:{type:Boolean},listHover:{type:Boolean},hoveredOption:{type:Object}}}constructor(){super(),this.expanded=!1,this.filter="",this.filteredOptions=[],this.inputFocus=!1,this.inputHover=!1,this.isNone=!0,this.isList=!1,this.isBoth=!1,this.listFocus=!1,this.listHover=!1,this.option=!1,this.autocomplete="none"}get stateInfo(){return{activeDescendant:this.activeDescendant,filteredOptions:this.filteredOptions,filter:this.filter,option:this.option,_selectedOption:this._selectedOption,value:this.value,firstOption:this.firstOption,lastOption:this.lastOption,input:!!this.input&&this.input.value}}get fieldElementTag(){return"input"}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.filter=this.value?this.value:"",this.filterOptions(this.filter,this.option)}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{"autocomplete"===e&&this.autocompleteChanged(),"value"===e&&this.value!==t&&this.fieldValueChanged(),"itemsList"!==e&&"options"!==e||this.filterOptions(this.filter,this.option)}))}fieldValueChanged(){this.input&&this.input.value!==this.value&&(this.input.value=this.value),this._fireValueChanged()}autocompleteChanged(){if("string"==typeof this.autocomplete){let t=this.autocomplete.toLowerCase();this.isNone="none"===t,this.isList="list"===t,this.isBoth="both"===t}else this.isNone=!0}get inputTemplate(){return a` <input .aria-activedescendant="${this.activeDescendant}" .aria-autocomplete="${this.autocomplete}" .aria-descrbedby="${this.describedBy}" .aria-expanded="${this.expanded}" aria-haspopup="true" .aria-invalid="${this.error?"true":"false"}" .aria-owns="${this.id}-list" ?autofocus="${this.autofocus}" @blur="${this._onInputBlur}" class="field box-input ${this.inputFocus?"focus":""}" @click="${this._onInputClick}" ?disabled="${this.disabled}" @focus="${this._onInputFocus}" id="${this.id}" @keydown="${this._onInputKeydown}" @keyup="${this._onInputKeyup}" name="${this.id}" .placeholder="${this.placeholder||""}" part="option-input" ?readonly="${this.readonly}" ?required="${this.required}" tabindex="0" type="text" value="${this.value||""}"> `}get expandButtonTemplate(){return a` <simple-icon-button-lite icon="arrow-drop-down" ?hidden="${this.sortedOptions.length<1}" label="open" @click="${this._onButtonClick}" part="option-icon" tabindex="-1"> </simple-icon-button-lite> `}get listboxTemplate(){return a` <ul .aria-labelledBy="${this.fieldId}-label" class="${this.listFocus?"focus":""}" data-items="${this.itemsList.join()}" data-options="${this.filteredOptions.map((t=>t.value)).join()}" ?hidden="${this.isListboxHidden}" id="${this.id}-list" @mouseout="${this._onListboxMouseout}" @mouseover="${this._onListboxMouseover}" role="listbox" part="listbox"> ${this.listboxInnerTemplate} </ul> `}get listboxInnerTemplate(){return(this.filteredOptions||[]).map((t=>this.getListItem(t)))}get isListboxHidden(){return this.hidden||!this.expanded||this.filteredOptions.length<1}getListItem(t){return a` <li aria-selected="${this._isSelected(t)}" id="option${t.id}" role="option" part="listbox-li" @click="${e=>this._onOptionClick(e,t)}" @mouseout="${e=>this._onOptionMouseout(e,t)}" @mouseover="${e=>this._onOptionMouseover(e,t)}"> ${this.getListItemInner(t)} </li> `}getListItemInner(t){return t.value}get fieldMainTemplate(){return a` <div class="field-main" part="field-main" ?hidden="${this.hidden}"> ${this.labelTemplate} <div id="field-main-inner" part="field-main-inner"> ${this.prefixTemplate} <span class="input-option" part="option-inner"> ${this.inputTemplate} ${this.suffixTemplate} ${this.expandButtonTemplate} </span> ${this.listboxTemplate} </div> </div> `}get hasOptions(){return this.filteredOptions.length>0}setActiveDescendant(t){t&&this.listFocus?this.activeDescendant=`option${t.id}`:this.activeDescendant=""}setValue(t){this.filter=t,this.input.setSelectionRange(this.filter.length,this.filter.length),(this.isList||this.isBoth)&&this.filterOptions(this.filter,this.option)}setOption(t,e=!1){t&&(this.option=t,this.setCurrentOptionStyle(this.option),this.setActiveDescendant(this.option),this.isBoth&&(this.value=this.option.value,this.input.value=this.option.value,e?setTimeout((()=>{this.input.setSelectionRange(t.value.length,t.value.length)}),0):setTimeout((()=>{this.input.setSelectionRange(this.filter.length,t.value.length)}),0)))}setVisualFocusTextbox(){this.listFocus=!1,this.inputFocus=!0,this.setActiveDescendant(!1)}setVisualFocusListbox(){this.inputFocus=!1,this.listFocus=!0,this.setActiveDescendant(this.option)}removeVisualFocusAll(){this.inputFocus=!1,this.listFocus=!0,this.option=!1,this.setActiveDescendant(!1)}_onButtonClick(t){this.expanded?this.close(!0):this.open(),this.input.focus(),this.setVisualFocusTextbox()}_onInputClick(t){this.expanded?this.close(!0):this.open()}_onInputBlur(t){this.hoveredOption||(this.listFocus=!1,this.setCurrentOptionStyle(null),this.removeVisualFocusAll(),setTimeout(this.close(!1),300))}_onInputFocus(t){this.setVisualFocusTextbox(),this.option=!1,this.setCurrentOptionStyle(null)}_onInputKeydown(t){var e=!1,i=t.altKey;switch(t.keyCode){case this.keyCode.RETURN:(this.listFocus||this.isBoth)&&this.option&&this.setValue(this.option.value),this.close(!0),e=!0;break;case this.keyCode.DOWN:this.hasOptions&&(this.listFocus||this.isBoth&&this.option?this.setOption(this.nextItem,!0):(this.open(),i||this.setOption(this.firstItem,!0)),this.setVisualFocusListbox()),e=!0;break;case this.keyCode.UP:this.hasOptions&&(this.listFocus||this.isBoth&&this.option?this.setOption(this.previousItem,!0):(this.open(),i||this.setOption(this.lastItem,!0)),this.setVisualFocusListbox()),e=!0;break;case this.keyCode.ESC:this.close(!0),this.setVisualFocusTextbox(),this.setValue(""),this.option=!1,e=!0;break;case this.keyCode.TAB:this.close(!0),this.listFocus&&this.option&&this.setValue(this.option.value)}e&&(t.stopPropagation(),t.preventDefault())}_onInputKeyup(t){this.dispatchEvent(new CustomEvent("combo-input-keyup",{bubbles:!0,cancelable:!0,composed:!0,detail:e}));var i=!1,o=!1,a=t.key||"";function s(t){return 1===t.length&&t.match(/\S/)}if(s(a)&&(this.filter+=a),this.input&&(this.input.value||"").length<this.filter.length&&(this.filter=this.input.value||"",this.option=!1),t.keyCode!==this.keyCode.ESC){switch(t.keyCode){case this.keyCode.BACKSPACE:this.setValue(this.input.value),this.setVisualFocusTextbox(),this.setCurrentOptionStyle(!1),this.option=!1,i=!0;break;case this.keyCode.LEFT:case this.keyCode.RIGHT:case this.keyCode.HOME:case this.keyCode.END:this.isBoth?this.filter=this.input.value:(this.option=!1,this.setCurrentOptionStyle(!1)),this.setVisualFocusTextbox(),i=!0;break;default:s(a)&&(this.setVisualFocusTextbox(),this.setCurrentOptionStyle(!1),i=!0)}t.keyCode!==this.keyCode.RETURN&&(this.isList||this.isBoth?(o=this.filterOptions(this.filter,this.option))?(!this.expanded&&(this.input.value||"").length&&this.open(),0===o.textComparison.indexOf((this.input.value||"").toLowerCase())?(this.option=o,(this.isBoth||this.listFocus)&&(this.setCurrentOptionStyle(o),this.isBoth&&s(a)&&this.setOption(o))):(this.option=!1,this.setCurrentOptionStyle(!1))):(this.close(),this.option=!1,this.setActiveDescendant(!1)):this.input&&(this.input.value||"").length&&this.open()),i&&(t.stopPropagation(),t.preventDefault())}}get sortedOptions(){let t=(this.itemsList||[]).map(((t,e)=>"object"==typeof t?t:{id:e,value:t}));return Object.keys(this.options||{}).sort(((t,e)=>t>e?1:-1)).forEach((e=>t.push({id:t.length,value:this.options[e]}))),t}filterOptions(t,e){var i,o,a,s;for("string"!=typeof t&&(t=""),t=t.toLowerCase(),this.filteredOptions=[],this.firstChars=[],i=0;i<this.sortedOptions.length;i++)(o=this.sortedOptions[i]).id=i,o.textComparison=o.value.toLowerCase(),0!==t.length&&0!==o.textComparison.indexOf(t)||(this.filteredOptions.push(o),a=o.value.trim(),this.firstChars.push(a.substring(0,1).toLowerCase()));if((s=this.filteredOptions.length)>0){this.firstOption=this.filteredOptions[0],this.lastOption=this.filteredOptions[s-1];let t=this.filteredOptions.map((t=>t.textComparison));o=e&&e.textComparison&&t.includes(e.textComparison)?e:this.firstOption}else this.firstOption=!1,o=!1,this.lastOption=!1;return o}setCurrentOptionStyle(t){this._selectedOption=t,this.listbox&&t&&this.shadowRoot&&this.shadowRoot.querySelector(`#option${t.id}`)&&(this.listbox.scrollTop=this.shadowRoot.querySelector(`#option${t.id}`).offsetTop)}_isSelected(t){return t&&this._selectedOption&&t.textComparison===this._selectedOption.textComparison?"true":"false"}_onListboxMouseover(t){this.listHover=!0}_onListboxMouseout(t){this.listHover=!1,this.hoveredOption=void 0,setTimeout(this.close(!1),300)}open(){this.exapanded||(this.expanded=!0)}close(t){"boolean"!=typeof t&&(t=!1),!t&&(this.inputFocus||this.hasHover||this.hasHover)||(this.setCurrentOptionStyle(!1),this.expanded=!1,this.setActiveDescendant(!1))}_onOptionClick(t,e){e&&(this.setOption(e),this.setValue(e.value)),this.close(!0)}_onOptionMouseover(t,e){this.hoveredOption=e,this.listHover=!0,this.open()}_onOptionMouseout(t,e){this.listHover=!1,this.hoveredOption=void 0,setTimeout(this.close(!1),300)}get previousItem(){var t,e=this.option?this.option.textComparison:void 0,i=this.firstOption?this.firstOption.textComparison:void 0,o=this.filteredOptions.map((t=>t.textComparison));return e!==i?(t=o.indexOf(e),this.filteredOptions[t-1]):this.lastOption}get nextItem(){var t,e=this.option?this.option.textComparison:void 0,i=this.lastOption?this.lastOption.textComparison:void 0,o=this.filteredOptions.map((t=>t.textComparison));return e!==i?(t=o.indexOf(e),this.filteredOptions[t+1]):this.firstOption}get listbox(){return this._listbox||(this._listbox=this.shadowRoot&&this.shadowRoot.querySelector(`#${this.id}-list`)?this.shadowRoot.querySelector(`#${this.id}-list`):void 0),this._listbox}get input(){return this._input||(this._input=this.field?this.field:this.shadowRoot&&this.shadowRoot.querySelector(`#${this.id}`)?this.shadowRoot.querySelector(`#${this.id}`):void 0),this._input}get keyCode(){return{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40}}}window.customElements.define(Qt.tag,Qt);
/**
 * Copyright 2021 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class Jt extends x{static get styles(){return[s`:host{display:flex;align-items:center;padding:var(--simple-fields-button-padding,2px);font-size:var(--simple-fields-detail-font-size,12px)}:host([hidden]){display:none}[part=preview]{width:var(--simple-fields-url-combo-preview-size,26px);height:var(--simple-fields-url-combo-preview-size,26px);--simple-icon-height:var(
            --simple-fields-url-combo-preview-size,
            26px
          );--simple-icon-width:var(
            --simple-fields-url-combo-preview-size,
            26px
          );margin-right:var(--simple-fields-button-padding,2px)}span[part=preview]{background-position:center;background-size:cover;background-repeat:no-repeat;border-radius:var(--simple-fields-border-radius,2px)}span[part=label]{max-width:100%;flex:1 1 auto}span[part=label] span{display:block;line-height:100%;margin:0;overflow-wrap:break-word;word-wrap:break-word}span[part=label-secondary]{font-size:var(--simple-fields-meta-font-size,10px);opacity:var(--simple-fields-meta-opacity,unset);color:var(--simple-fields-meta-color)}`]}render(){return a`${this.previewTemplate}${this.labelTemplate}`}get iconTypes(){return{anchor:"hax:anchor",page:"lrn:content",pdf:"hax:file-pdf",doc:"hax:file-doc",docx:"hax:file-docx",ppt:"hax:file-ppt",pptx:"hax:file-ppt",csv:"hax:file-csv",xls:"hax:file-xls",xlsx:"hax:file-xls",url:"icons:language",file:"hax:file-blank",mp4:"av:movie",mov:"av:movie",webm:"av:movie",mp3:"av:volume-up",wav:"av:volume-up",html:"icons:language",tel:"communication:phone",email:"icons:mail"}}get currentLocation(){return window.location}get resourceURL(){return new URL(this.value||"./",this.currentLocation)}get isLocal(){return!!this.resourceURL.hostname&&this.resourceURL.hostname==this.currentLocation.hostname}get isSamePage(){return this.isLocal&&`${this.resourceURL.pathname}${this.resourceURL.search}`==`${this.currentLocation.pathname}${this.currentLocation.search}`}get isAnchor(){return this.isSamePage&&!!this.resourceURL.hash}get fileExtension(){let t=(this.resourceURL&&this.resourceURL.pathname?this.resourceURL.pathname:"").match(/\.\w+$/);return((t&&t[0]?t[0].replace(/^\./,""):this.type?this.type:"")||"").toLowerCase()}get imageTypes(){return["gif","svg","png","jpg","jpeg"]}get pageTypes(){return["html","htm","php",""]}get isPage(){return this.pageTypes.includes(this.fileExtension)}get isEmail(){return!!this.resourceURL&&"mailto:"===this.resourceURL.protocol}get isPhone(){return!!this.resourceURL&&"tel:"===this.resourceURL.protocol}get isImage(){return this.imageTypes.includes(this.fileExtension)}get previewSrc(){return this.preview&&""!==this.preview.trim()?this.preview:void 0}get iconName(){return this.icon&&""!==this.icon.trim()?this.icon:this.isAnchor?this.iconTypes.anchor:this.isLocal&&this.isPage?this.iconTypes.page:this.isPage?this.iconTypes.html:this.isEmail?this.iconTypes.email:this.isPhone?this.iconTypes.tel:this.fileExtension&&""!==this.fileExtension?this.iconTypes[this.fileExtension]:this.iconTypes.file}get iconTemplate(){return a`<simple-icon-lite part="preview" icon="${this.iconName}"></simple-icon-lite>`}get imageTemplate(){return a`<span part="preview" style="background-image:url(${this.previewSrc})"></span>`}get previewTemplate(){return this.preview&&""!==this.preview?this.imageTemplate:this.icon&&""!==this.icon?this.iconTemplate:this.previewSrc&&""!==this.previewSrc?this.imageTemplate:this.iconName&&""!==this.iconName?this.iconTemplate:""}get labelTemplate(){return a`<span part="label"> ${this.primaryLabelTemplate} ${this.name&&""!==this.name.trim()?this.secondaryLabelTemplate:""} </span>`}get primaryLabelTemplate(){return this.name&&""!==this.name.trim()?a`<span part="label-primary">${this.name}</span>`:this.value&&""!==this.value.trim()?a`<span part="label-primary">${this.value}</span>`:""}get secondaryLabelTemplate(){return this.value&&""!==this.value.trim()?a`<span part="label-secondary">${this.value}</span>`:""}static get properties(){return{...super.properties,name:{name:"name",type:String,reflectToAttribute:!0},icon:{name:"icon",type:String,reflectToAttribute:!0},preview:{name:"preview",type:String,reflectToAttribute:!0},type:{name:"type",type:String,reflectToAttribute:!0},value:{name:"value",type:String,reflectToAttribute:!0}}}static get tag(){return"simple-fields-url-combo-item"}constructor(){super()}firstUpdated(t){}updated(t){t.forEach(((t,e)=>{}))}}customElements.define(Jt.tag,Jt);class Kt extends Qt{static get tag(){return"simple-fields-url-combo"}static get styles(){return[...super.styles,s`:host([display-as=grid]){--simple-fields-url-combo-preview-size:var(
            --simple-fields-url-combo-grid-preview-size,
            100px
          )}ul[role=listbox] li[role=option]:not(:last-child){border-bottom:1px solid var(--simple-fields-border-color-light,#ccc)}:host([display-as=columns]) ul[role=listbox] li[role=option],:host([display-as=grid]) ul[role=listbox] li[role=option]{border-radius:var(--simple-fields-border-radius,2px);border:1px solid var(--simple-fields-border-color-light,#ccc)}:host([always-expanded]) #field-main-inner{flex-wrap:wrap;--simple-fields-combo-max-height:var(
            --simple-fields-url-combox-expanded-max-height,
            unset
          )}.input-bottom,:host([always-expanded]) .border-bottom:not(.input-bottom),:host([always-expanded]) [part=option-icon],:host([has-suggestions=false]) [part=option-icon]{display:none}:host([always-expanded]) .input-bottom{display:block}:host([always-expanded]) ul[role=listbox]{border:none;position:static;opacity:1;flex:1 0 100%;margin:var(--simple-fields-margin-small,8px) 0}:host([display-as=columns]) ul[role=listbox]{grid-gap:var(--simple-fields-button-padding,2px)}:host([display-as=grid]) ul[role=listbox]{grid-gap:var(--simple-fields-margin-small,8px)}:host([display-as=columns]) ul[role=listbox],:host([display-as=grid]) ul[role=listbox]{display:grid;grid-template-columns:repeat(auto-fill,minmax(calc(var(--simple-fields-url-combo-preview-size) + 2 * var(--simple-fields-button-padding,2px)),1fr))}:host([display-as=grid]) ::slotted(simple-fields-url-combo-item),:host([display-as=grid]) simple-fields-url-combo-item{flex-direction:column;align-items:center;text-align:center;justify-content:space-between;padding:var(--simple-fields-margin-small,8px)}:host([display-as=grid]) ::slotted(simple-fields-url-combo-item::part(preview)),:host([display-as=grid]) simple-fields-url-combo-item::part(preview){display:block;margin-right:0}`]}static get properties(){return{...super.properties,displayAs:{type:String,attribute:"display-as",reflect:!0},alwaysExpanded:{type:Boolean,attribute:"always-expanded",reflect:!0}}}constructor(){super(),this.grid=!1}get isListboxHidden(){return!(this.alwaysExpanded||this.expanded)||this.hidden||this.filteredOptions.length<1}get listboxTemplate(){return a` <div class="border-bottom input-bottom blur"></div> <div class="border-bottom input-bottom focus"></div> ${super.listboxTemplate} `}getListItemInner(t){return a`<simple-fields-url-combo-item icon="${t.icon}" name="${t.name}" preview="${t.preview}" type="${t.type}" value="${t.value}"> </simple-fields-url-combo-item>`}getOptionData(t,e){return{value:"object"==typeof t?t.value:t,name:"object"==typeof t?t.name:void 0,icon:"object"==typeof t?t.icon:void 0,preview:"object"==typeof t?t.preview:void 0,type:"object"==typeof t?t.type:void 0,id:e}}get sortedOptions(){let t=(this.itemsList||[]).map(((t,e)=>"object"==typeof t?t:this.getOptionData(t,e)));return Object.keys(this.options||{}).sort(((t,e)=>t>e?1:-1)).forEach((e=>t.push(this.getOptionData(this.options[e],t.length)))),t}possibleEmail(t){return t.match(/^\S+@\S+.\S+$/)}possiblePhone(t){return t.match(/^(\+\d{1,3}\s?)?((\(\d{3}\)\s?)|(\d{3})(\s|-?))(\d{3}(\s|-?))(\d{4})(\s?(([E|e][X|x][T|t][\:|\.|]?)|x|X)(\s?\d+))?$/)}filterOptions(t,e){super.filterOptions(t,e),this.possibleEmail(t)?(this.filteredOptions=[{value:`mailto:${t}`,id:"mailto"},...this.filteredOptions],this.open()):this.possiblePhone(t)&&(this.filteredOptions=[{value:`tel:${t.replace(/[\(\)\-\s\:\.]/g,"").replace(/[a-zA-Z]+/,"p")}`,id:"tel"},...this.filteredOptions],this.open())}}window.customElements.define(Kt.tag,Kt);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Zt,te=null,ee=window.HTMLImports&&window.HTMLImports.whenReady||null;function ie(t){requestAnimationFrame((function(){ee?ee(t):(te||(te=new Promise((t=>{Zt=t})),"complete"===document.readyState?Zt():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&Zt()}))),te.then((function(){t&&t()})))}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const oe="__shadyCSSCachedStyle";let ae=null,se=null;class ne{constructor(){this.customStyles=[],this.enqueued=!1,ie((()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}enqueueDocumentValidation(){!this.enqueued&&se&&(this.enqueued=!0,ie(se))}addCustomStyle(t){t.__seenByShadyCSS||(t.__seenByShadyCSS=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[oe])return t[oe];let e;return e=t.getStyle?t.getStyle():t,e}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const i=t[e];if(i[oe])continue;const o=this.getStyleForCustomStyle(i);if(o){const t=o.__appliedElement||o;ae&&ae(t),i[oe]=t}}return t}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function re(t,e){for(let i in e)null===i?t.style.removeProperty(i):t.style.setProperty(i,e[i])}ne.prototype.addCustomStyle=ne.prototype.addCustomStyle,ne.prototype.getStyleForCustomStyle=ne.prototype.getStyleForCustomStyle,ne.prototype.processStyles=ne.prototype.processStyles,Object.defineProperties(ne.prototype,{transformCallback:{get:()=>ae,set(t){ae=t}},validateCallback:{get:()=>se,set(t){let e=!1;se||(e=!0),se=t,e&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const le=!(window.ShadyDOM&&window.ShadyDOM.inUse);let de,ce;function he(t){de=(!t||!t.shimcssproperties)&&(le||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(ce=window.ShadyCSS.cssBuild);const ue=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?de=window.ShadyCSS.nativeCss:window.ShadyCSS?(he(window.ShadyCSS),window.ShadyCSS=void 0):he(window.WebComponents&&window.WebComponents.flags);const pe=de,me=new ne;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.ShadyCSS||(window.ShadyCSS={prepareTemplate(t,e,i){},prepareTemplateDom(t,e){},prepareTemplateStyles(t,e,i){},styleSubtree(t,e){me.processStyles(),re(t,e)},styleElement(t){me.processStyles()},styleDocument(t){me.processStyles(),re(document.body,t)},getComputedStyleValue:(t,e)=>function(t,e){const i=window.getComputedStyle(t).getPropertyValue(e);return i?i.trim():""}(t,e),flushCustomStyles(){},nativeCss:pe,nativeShadow:le,cssBuild:ce,disableRuntime:ue}),window.ShadyCSS.CustomStyleInterface=me,
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(t,e){return t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ge,be,fe=/(url\()([^)]*)(\))/g,ve=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function ye(t,e){if(t&&ve.test(t))return t;if("//"===t)return t;if(void 0===ge){ge=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",ge="http://a/c%20d"===t.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),ge)try{return new URL(t,e).href}catch(e){return t}return be||(be=document.implementation.createHTMLDocument("temp"),be.base=be.createElement("base"),be.head.appendChild(be.base),be.anchor=be.createElement("a"),be.body.appendChild(be.anchor)),be.base.href=e,be.anchor.href=t,be.anchor.href||t}function xe(t,e){return t.replace(fe,(function(t,i,o,a){return i+"'"+ye(o.replace(/["']/g,""),e)+"'"+a}))}function _e(t){return t.substring(0,t.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const we=!window.ShadyDOM||!window.ShadyDOM.inUse;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss);const Ae=we&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const t=new CSSStyleSheet;t.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[t],e.shadowRoot.adoptedStyleSheets[0]===t}catch(t){return!1}})();let Ee=window.Polymer&&window.Polymer.rootPath||_e(document.baseURI||window.location.href),Se=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,Ce=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1,ke=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,Te=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,Ne=window.Polymer&&window.Polymer.legacyOptimizations||!1,Pe=window.Polymer&&window.Polymer.legacyWarnings||!1,Le=window.Polymer&&window.Polymer.syncInitialRender||!1,Be=window.Polymer&&window.Polymer.legacyUndefined||!1,Oe=window.Polymer&&window.Polymer.orderedComputed||!1,Me=window.Polymer&&window.Polymer.removeNestedTemplates||!1,Re=window.Polymer&&window.Polymer.fastDomIf||!1,ze=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1;window.Polymer&&window.Polymer.legacyNoObservedAttributes;let He=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,Fe={},De={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function $e(t,e){Fe[t]=De[t.toLowerCase()]=e}function Ie(t){return Fe[t]||De[t.toLowerCase()]}class Ue extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,e){if(t){let i=Ie(t);return i&&e?i.querySelector(e):i}return null}attributeChangedCallback(t,e,i,o){e!==i&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=ye(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=_e(e)}return this.__assetpath}register(t){if(t=t||this.id){if(ke&&void 0!==Ie(t))throw $e(t,null),new Error(`strictTemplatePolicy: dom-module ${t} re-registered`);this.id=t,$e(t,this),(e=this).querySelector("style")&&console.warn("dom-module %s has style outside template",e.id)}var e}}Ue.prototype.modules=Fe,customElements.define("dom-module",Ue);function je(t){return Ue.import(t)}function Ve(t){const e=xe((t.body?t.body:t).textContent,t.baseURI),i=document.createElement("style");return i.textContent=e,i}function qe(t){const e=t.trim().split(/\s+/),i=[];for(let t=0;t<e.length;t++)i.push(...Ge(e[t]));return i}function Ge(t){const e=je(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){const t=[];t.push(...Xe(e));const i=e.querySelector("template");i&&t.push(...We(i,e.assetpath)),e._styles=t}return e._styles}function We(t,e){if(!t._styles){const i=[],o=t.content.querySelectorAll("style");for(let t=0;t<o.length;t++){let a=o[t],s=a.getAttribute("include");s&&i.push(...qe(s).filter((function(t,e,i){return i.indexOf(t)===e}))),e&&(a.textContent=xe(a.textContent,e)),i.push(a)}t._styles=i}return t._styles}function Xe(t){const e=[],i=t.querySelectorAll("link[rel=import][type~=css]");for(let t=0;t<i.length;t++){let o=i[t];if(o.import){const t=o.import,i=o.hasAttribute("shady-unscoped");if(i&&!t._unscopedStyle){const e=Ve(t);e.setAttribute("shady-unscoped",""),t._unscopedStyle=e}else t._style||(t._style=Ve(t));e.push(i?t._unscopedStyle:t._style)}}return e}function Ye(t){let e=je(t);if(e&&void 0===e._cssText){let t=function(t){let e="",i=Xe(t);for(let t=0;t<i.length;t++)e+=i[t].textContent;return e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(e),i=e.querySelector("template");i&&(t+=function(t,e){let i="";const o=We(t,e);for(let t=0;t<o.length;t++){let e=o[t];e.parentNode&&e.parentNode.removeChild(e),i+=e.textContent}return i}(i,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}const Qe=window.ShadyCSS.CustomStyleInterface;class Je extends HTMLElement{constructor(){super(),this._style=null,Qe.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute("include");return e&&(t.removeAttribute("include"),t.textContent=function(t){let e=t.trim().split(/\s+/),i="";for(let t=0;t<e.length;t++)i+=Ye(e[t]);return i}(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",Je);class Ke extends HTMLElement{static get version(){return"1.6.1"}}customElements.define("vaadin-lumo-styles",Ke);const Ze=document.createElement("template");Ze.innerHTML='<custom-style>\n  <style>\n    @font-face {\n      font-family: \'lumo-icons\';\n      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABEcAAsAAAAAIiwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUuKY21hcAAAAYgAAAD4AAADrsCU8d5nbHlmAAACgAAAC2MAABd4h9To2WhlYWQAAA3kAAAAMAAAADZa/6SsaGhlYQAADhQAAAAdAAAAJAbpA35obXR4AAAONAAAABAAAACspBAAAGxvY2EAAA5EAAAAWAAAAFh55IAsbWF4cAAADpwAAAAfAAAAIAFKAXBuYW1lAAAOvAAAATEAAAIuUUJZCHBvc3QAAA/wAAABKwAAAelm8SzVeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yDiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+0mIO+p/FEMUcxDANKMwIkgMABn8MLQB4nO3SWW6DMABF0UtwCEnIPM/zhLK8LqhfXRybSP14XUYtHV9hGYQwQBNIo3cUIPkhQeM7rib1ekqnXg981XuC1qvy84lzojleh3puxL0hPjGjRU473teloEefAUNGjJkwZcacBUtWrNmwZceeA0dOnLlw5cadB09elPGhGf+j0NTI/65KfXerT6JhqKnpRKtgOpuqaTrtKjPUlqHmhto21I7pL6i6hlqY3q7qGWrfUAeGOjTUkaGODXViqFNDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUB+G+jTUl6GWRvkL24BkEXictVh9bFvVFb/nxvbz+7Rf/N6zHcd2bCfP+Wgc1Z9N0jpNnEL6kbRVS6HA2hQYGh9TGR1CbCqa2rXrWOkQE/sHNJgmtZvoVNZqE1B1DNHxzTQxCehUTYiJTQyENui0qSLezr3PduyQfgmRWOfde8+9551z7rnn/O4jLoJ/bRP0UaKQMLFJjpBAvphLZC3Dk0ok7WBzR2/upJs7Ryw/nfFbln/uuN/apCvwrKLrSvUqRufbm5pn0fs0w4gYxnGVP6qHnO4bWiDQGQgwtS6lm3lB3QoX1M2vwEmuzirF39y+Es2+DJ8d1pkyqBIqoze3D1+Zz4DrFoazxI8dWwMrDlZ2DMqQAR9AROsJU+2cmlTPazTco52F1xTa2a2+K8vvq92dVHmtLoPeQX/AZPRYGthDYOeZjBjKoFsVGulR3lWU95WeCK44qHU7MhWUGUKZDT3oKUcG2GWuh+EDDfUYA/jhAhl0TOsJNYSEu7mQmi3UzfXwZKA4BsVsHLXQYGgRW95uEtpJ1Vfn9XiLriRBlFEqxsDjA09yCNUoQxxwd7KWSTt2y3GTKiflqHRSoWZc3m11Wa/fJdFgXD4sSYfleJBKd8GMz7J8dZn/cGRCcKGDnA2Ge3fKzcvlnTDNthGWLXzX/WaXtUAmRgeLlHSr30r0G9UTXMb0AtmwzOoy73fkSlHZkduw/TYuU9cAD4YutPoxTTsA3797wVr4Z/1NC5zARHr4vtxJjxIfiZMhMkbWk+14BnJZKwqGZwDfswLyxWDSg11rFLJF7Nopxjd1h1/QOT+oezgfu3Yq+Hk+duf5x+40o1GTkaIgikK/IEnC6aYxCUBaZJSN4XTYFjU/YMNIKqJwhDGOCCI8FDXnXmXjtGhGJyShqjAOnBOkW2JG9S7GgYeMWAU5JzhnWmBOaOM+CKEPoqSfFDC2Unq+DLlUgUVUFFLZGJg6jtlojsdsa8kPObPuJdi5dnBdBsLJMGTWDa4t2JvtwuPo9s+Y86suv/W33QG1rAaOAUV+vx4K6f2D04PVKlC7WLSrZzAi45ZV6lIC7WoXqmRyvUqoVwrzUoVsIjeTXWQv+RH5GTlBXiB/In8ln0IbBCAFOajAJrgZYyOHWqOfUe/aHjI12R6OQo1jCgt215l+4f6XPb+0MNou0V+43n2F77tSfRb24d7zitgnKmvYHs69zugaPvBwv6ioXkb2LdL65Atw51uLkXlu1bhMMRcXSPcYoqKIRlh34lQP8/5JbuUFye4vxD6/6MxFF11C0uVLr9Ulgw44tS3pMViNLUExbycFgLIct+QDMibRimx1ydUz8FXZiuOIDBOMVX2nUZc+huNE5XUJ81uiJoiabwqaVF0uacKbau/pl4R2VW0XXlJra6boVrYG646TF5NYzwy4vjENVrDlcNpZPl8DH6XX8XWCx0mvWVZY6KFLrvsY66/zPict5FnxaNUR/juvZCM3TvD60E2W1tZizbXTPDuabcm0nbbzpWKpmA1ayBQ8giedLUM+A0kNjBjQjmuYz7YrgIXYvmF63ZLBwSXrpn9Tb9wwdd/U1H0PMQK3XcO8ul3WT7PyPPdpy0TemKxNRcJNauiXJnnUDpUppQWs4SnUIy0EESGYqJYQLGHxzaGWwVIaS6Y7mQFM8ZjYDQ3axjf61SWjU33JwOZA1pwaG1L9mzf71aHRdX1JHw6Fp0aXhNwbqyeGNg4NbdzGCBxoz4ZXjy4Nu69Zr6sDY6vMrLU5nA1P8JkbdWXJ6ERfMryvNh1JfQ9+T4dIhGvK9w3dxjBBzatsQ/MlOHVIDnYpDz6odAXlQ01t2Pa5Iafd8MMpxAeDKP0C6CjgVLT5osB6icUx01lWjXxzT/GyRF2welEM5Z/7jG3VjQ1SrNn5IbyzOG5dobB3/QHxyZvsXcoz8IoEwS7plCg+zxHQk424q9BfEpkESJbFHQusDBSWFkuBkoPO0kLKwRVYjxGXlHTcTDQMJ/H6TX9afkO7mnraTO1feTnZAXLu4cp7HAXMmNG1yeFk9TgS/NHhZR/4QoBTr/ZB+6hCgyl15Nq1UbN6nE1/ZnP1U2cizCBpvs8cJQZJ4LkYx5N/yZPAUZNQQ0V4f3BQllWrK3YRzl30dOT6RVn2upNur6woSa8CqpdT/aKnBM4o3jNur9d9xqtUT6veBEt9Ca9at+ERzEEhUkR8sa5mQ4aVvJoVeEA8zI4ei5mULXFGyU7z/6TAeYLVcpzSWZY8PYYF5yrTV60sT0+XV141vX++Wf16V2bFeGVPZXxFpkvyeKTWLlzfW0mnKxsY6Y3294/0998SCfX1blm5pbcvFGlq/r07MRAMhYIDiW5JFKWW3vdrEpCsZSJG+om7Zu/PSScZJhNkLbmW5Wsr12pWqW5zKtlwRS4bFOxUw17mCzy6lskCDl1WYOGWDYrADrMA7BDDweWWNd5koiJnR1dz+ytLP2q0SqPB1lnK2ccB7RYe4FSoPks3iB3t4txTSHctb2sy1ivk0pvHuCNm6w1f6wxv3+OCgN78LqdQnUVh7R0oTAp0zOf2rbW770Vu5C2dIyGdTnHo8zSji7dppj0USoVCz+lhRMTh53Teq9VbGfbjuSbAooSdXayY4PYHg374C6f7gl1B/DXuJ4/QXxOBdJFJspFsI3egpoWUUCjlTIFnNYNl+ZyZKmBeYKGHkD1QyDlhaKbKwKcIJqJ4TLJ2OmdY/JWXae4DdGBw8HZ7eXcgFF2zr2SoalDry5iKqoa0Puhe3hPQ2s3elTYM+MI+n3rK0KgL7/La3GeMLt6m7u912vGnvtORiIa0qBmhqVi+XW9XNBmqb8eVgKzIHfGI5bNoG7X0UCzeISmqIcO/nY8FH7U8avX9fx/ST+hx0sezPw9Qy8Mum3GWf2N4Uy/yIYGVBXbJHWIZp7dfTcptdMTr9Qmq7DaiK/ukqCL4kt4RUfS5XPnMtmT22/mQFqF7emSqtrlu8SVElxDRJrZODkpuwe0VfTfjdEp1f7A7v+fozNBXUJ/6WTuK2TtFlpFVZAZ3LcFvUi1Z2p2YT+EMAkGJVStOzLTAPg4IqWIAlzRSjOBkl2zxj3TKycpzT/MnvX3uaSMWM+gU0rkXjohhefVRMaps3/kLMSKv23lT23uxQrkQjyOJleMDsdhAnD6ZGElWZ5MjCXzCE/hkWX+WF4knzGhVOyK2eQZekV3eyo0zL8kuYWCnDCvjjhAkcTPOBDXVdoav3HVcFnQjLvtV9S2p0zA6JegPwMQxt+yFb3ll9zGlq/5dRKb3cEyQYoaNYpharJ7xCB7AWxsLY3jjZXY0XsZj0Wjwc9I6PP/dKABnCZaqHpaZEACxk4ZeLZSKNgZABl+lYQX1sJQOSX3n6r410evcoud5JeAGUXVP9H1tZOKejTq4Ono0z0erro1FrnOpohva1d/hTdtVsQdKN5W9RlT3NjD0nznyKNTgKAMfWNWcyodV0IGLPIHOF0o4JyqufaK4z6WIIzuGh3d8c8cwQg8ER+OVxyrjdm8vNuhts4LoOihGxIMuUdgzwiYN7xhh1+oZnJNuTG7gQZvu4XWZ9GAZZjGEubwePqYhtKDTH+9VQkl17/iGybsnJ+8+sKtyPrcll9ty65Zsdst/9iqpEKh7M5VdBxh3csOdNc6tW3I1uyM1PzOXegSOrLFsFNI2O27M+TF2ApnN9MUv5ud6LjxIvEQnHRzxIu4IsA9MLFkJn2tcZoZ7ON7dXe7ujrc8HrusPKamlqXwd77lQUuLpilau4PUMapueBb7irU4RoUXEYXuVuIGlRGmOp+2lNkaRPVziOqmlaZvaqG4dFgSj0jxEJWrv12IUWntmw+rfQarRE0Aph4ocI6nlUlGqs+u3/+T/ethW62PpHp2eHbZstnh/wOO95yDAHicY2BkYGAA4pmJ6QHx/DZfGbiZXwBFGGpUNzQi6P+vmacy3QJyORiYQKIANoULVXicY2BkYGAO+p8FJF8wAAHzVAZGBlSgDQBW9gNvAAAAeJxjYGBgYH4xNDAAzwQmjwAAAAAATgCaAOgBCgEsAU4BcAGaAcQB7gIaApwC6ASaBLwE1gTyBQ4FKgV6BdAF/gZEBmYGtgcYB5AIGAhSCGoI/glGCb4J2goECjwKggq4CvALUAuWC7x4nGNgZGBg0GZMYRBlAAEmIOYCQgaG/2A+AwAYlAG8AHicbZE9TsMwGIbf9A/RSggEYmHxAgtq+jN2ZGj3Dt3T1GlTOXHkuBW9AyfgEByCgTNwCA7BW/NJlVBtyd/jx+8XKwmAa3whwnFE6Ib1OBq44O6Pm6Qb4Rb5QbiNHh6FO/RD4S6eMRHu4RaaT4halzR3eBVu4Apvwk36d+EW+UO4jXt8Cnfov4W7WOBHuIen6MXsCtvPU1vWc73emcSdxIkW2tW5LdUoHp7kTJfaJV6v1PKg6v167H2mMmcLNbWl18ZYVTm71amPN95Xk8EgEx+ntoDBDgUs+siRspaoMef7rukNEriziXNuwS7Hmoe9wggxv+e55IzJMqQTeNYV00scuNbY8+YxrUfGfcaMZb/CNPQe04bT0lThbEuT0sfYhK6K/23Amf3Lx+H24hcj4GScAAAAeJxtjtlugzAQRbkJUEJIuu/7vqR8lGNPAcWx0YAb5e/LklR96EgenSufGY038PqKvf9rhgGG8BEgxA4ijBBjjAQTTLGLPezjAIc4wjFOcIoznOMCl7jCNW5wizvc4wGPeMIzXvCKN7zjAzN8eonQRWZSSaYmjvug6ase98hFltexMJmmVNmV2WBvdNgZUc+ujAWzXW3UDnu1w43asStHc8GpzAXX/py0jqTQZJTgkcxJLpaCF0lD32xNt+43tAsn29Dft02uDKS2cjGUNgsk26qK2lFthYoU27INPqmiDqg5goe0pqR5qSoqMdek/CUZFywL46rEsiImleqiqoMyt4baXlu/1GLdNFf5zbcNmdr1YUWCZe47o+zUmb/DoStbw3cVsef9ALjjiPQA) format(\'woff\');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    html {\n      --lumo-icons-align-center: "\\ea01";\n      --lumo-icons-align-left: "\\ea02";\n      --lumo-icons-align-right: "\\ea03";\n      --lumo-icons-angle-down: "\\ea04";\n      --lumo-icons-angle-left: "\\ea05";\n      --lumo-icons-angle-right: "\\ea06";\n      --lumo-icons-angle-up: "\\ea07";\n      --lumo-icons-arrow-down: "\\ea08";\n      --lumo-icons-arrow-left: "\\ea09";\n      --lumo-icons-arrow-right: "\\ea0a";\n      --lumo-icons-arrow-up: "\\ea0b";\n      --lumo-icons-bar-chart: "\\ea0c";\n      --lumo-icons-bell: "\\ea0d";\n      --lumo-icons-calendar: "\\ea0e";\n      --lumo-icons-checkmark: "\\ea0f";\n      --lumo-icons-chevron-down: "\\ea10";\n      --lumo-icons-chevron-left: "\\ea11";\n      --lumo-icons-chevron-right: "\\ea12";\n      --lumo-icons-chevron-up: "\\ea13";\n      --lumo-icons-clock: "\\ea14";\n      --lumo-icons-cog: "\\ea15";\n      --lumo-icons-cross: "\\ea16";\n      --lumo-icons-download: "\\ea17";\n      --lumo-icons-dropdown: "\\ea18";\n      --lumo-icons-edit: "\\ea19";\n      --lumo-icons-error: "\\ea1a";\n      --lumo-icons-eye: "\\ea1b";\n      --lumo-icons-eye-disabled: "\\ea1c";\n      --lumo-icons-menu: "\\ea1d";\n      --lumo-icons-minus: "\\ea1e";\n      --lumo-icons-ordered-list: "\\ea1f";\n      --lumo-icons-phone: "\\ea20";\n      --lumo-icons-photo: "\\ea21";\n      --lumo-icons-play: "\\ea22";\n      --lumo-icons-plus: "\\ea23";\n      --lumo-icons-redo: "\\ea24";\n      --lumo-icons-reload: "\\ea25";\n      --lumo-icons-search: "\\ea26";\n      --lumo-icons-undo: "\\ea27";\n      --lumo-icons-unordered-list: "\\ea28";\n      --lumo-icons-upload: "\\ea29";\n      --lumo-icons-user: "\\ea2a";\n    }\n  </style>\n</custom-style>',document.head.appendChild(Ze.content);const ti=document.createElement("template");ti.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Base (background) */\n      --lumo-base-color: #FFF;\n\n      /* Tint */\n      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n      --lumo-tint: #FFF;\n\n      /* Shade */\n      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);\n      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);\n      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);\n      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n      --lumo-shade: hsl(214, 35%, 15%);\n\n      /* Contrast */\n      --lumo-contrast-5pct: var(--lumo-shade-5pct);\n      --lumo-contrast-10pct: var(--lumo-shade-10pct);\n      --lumo-contrast-20pct: var(--lumo-shade-20pct);\n      --lumo-contrast-30pct: var(--lumo-shade-30pct);\n      --lumo-contrast-40pct: var(--lumo-shade-40pct);\n      --lumo-contrast-50pct: var(--lumo-shade-50pct);\n      --lumo-contrast-60pct: var(--lumo-shade-60pct);\n      --lumo-contrast-70pct: var(--lumo-shade-70pct);\n      --lumo-contrast-80pct: var(--lumo-shade-80pct);\n      --lumo-contrast-90pct: var(--lumo-shade-90pct);\n      --lumo-contrast: var(--lumo-shade);\n\n      /* Text */\n      --lumo-header-text-color: var(--lumo-contrast);\n      --lumo-body-text-color: var(--lumo-contrast-90pct);\n      --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n      --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n      /* Primary */\n      --lumo-primary-color: hsl(214, 90%, 52%);\n      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);\n      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);\n      --lumo-primary-text-color: var(--lumo-primary-color);\n      --lumo-primary-contrast-color: #FFF;\n\n      /* Error */\n      --lumo-error-color: hsl(3, 100%, 61%);\n      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);\n      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);\n      --lumo-error-text-color: hsl(3, 92%, 53%);\n      --lumo-error-contrast-color: #FFF;\n\n      /* Success */\n      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */\n      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);\n      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);\n      --lumo-success-text-color: hsl(145, 100%, 32%);\n      --lumo-success-contrast-color: #FFF;\n    }\n  </style>\n</custom-style><dom-module id="lumo-color">\n  <template>\n    <style>\n      [theme~="dark"] {\n        /* Base (background) */\n        --lumo-base-color: hsl(214, 35%, 21%);\n\n        /* Tint */\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n        --lumo-tint: hsl(214, 100%, 98%);\n\n        /* Shade */\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n        --lumo-shade: hsl(214, 33%, 13%);\n\n        /* Contrast */\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\n        --lumo-contrast: var(--lumo-tint);\n\n        /* Text */\n        --lumo-header-text-color: var(--lumo-contrast);\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n        /* Primary */\n        --lumo-primary-color: hsl(214, 86%, 55%);\n        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);\n        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);\n        --lumo-primary-text-color: hsl(214, 100%, 70%);\n        --lumo-primary-contrast-color: #FFF;\n\n        /* Error */\n        --lumo-error-color: hsl(3, 90%, 63%);\n        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);\n        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);\n        --lumo-error-text-color: hsl(3, 100%, 67%);\n\n        /* Success */\n        --lumo-success-color: hsl(145, 65%, 42%);\n        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);\n        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);\n        --lumo-success-text-color: hsl(145, 85%, 47%);\n      }\n\n      html {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      [theme~="dark"] {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        color: var(--lumo-header-text-color);\n      }\n\n      a {\n        color: var(--lumo-primary-text-color);\n      }\n\n      blockquote {\n        color: var(--lumo-secondary-text-color);\n      }\n\n      code,\n      pre {\n        background-color: var(--lumo-contrast-10pct);\n        border-radius: var(--lumo-border-radius-m);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id="lumo-color-legacy">\n  <template>\n    <style include="lumo-color">\n      :host {\n        color: var(--lumo-body-text-color) !important;\n        background-color: var(--lumo-base-color) !important;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(ti.content);const ei=document.createElement("template");ei.innerHTML="<custom-style>\n  <style>\n    html {\n      --lumo-size-xs: 1.625rem;\n      --lumo-size-s: 1.875rem;\n      --lumo-size-m: 2.25rem;\n      --lumo-size-l: 2.75rem;\n      --lumo-size-xl: 3.5rem;\n\n      /* Icons */\n      --lumo-icon-size-s: 1.25em;\n      --lumo-icon-size-m: 1.5em;\n      --lumo-icon-size-l: 2.25em;\n      /* For backwards compatibility */\n      --lumo-icon-size: var(--lumo-icon-size-m);\n    }\n  </style>\n</custom-style>",document.head.appendChild(ei.content);const ii=document.createElement("template");ii.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Square */\n      --lumo-space-xs: 0.25rem;\n      --lumo-space-s: 0.5rem;\n      --lumo-space-m: 1rem;\n      --lumo-space-l: 1.5rem;\n      --lumo-space-xl: 2.5rem;\n\n      /* Wide */\n      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n      /* Tall */\n      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n    }\n  </style>\n</custom-style>",document.head.appendChild(ii.content);const oi=document.createElement("template");oi.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Border radius */\n      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n      --lumo-border-radius: 0.25em; /* Deprecated */\n\n      /* Shadow */\n      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n      /* Clickable element cursor */\n      --lumo-clickable-cursor: default;\n    }\n  </style>\n</custom-style>",document.head.appendChild(oi.content);const ai=document.createElement("template");ai.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Font families */\n      --lumo-font-family: -apple-system, BlinkMacSystemFont, "Roboto", "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n\n      /* Font sizes */\n      --lumo-font-size-xxs: .75rem;\n      --lumo-font-size-xs: .8125rem;\n      --lumo-font-size-s: .875rem;\n      --lumo-font-size-m: 1rem;\n      --lumo-font-size-l: 1.125rem;\n      --lumo-font-size-xl: 1.375rem;\n      --lumo-font-size-xxl: 1.75rem;\n      --lumo-font-size-xxxl: 2.5rem;\n\n      /* Line heights */\n      --lumo-line-height-xs: 1.25;\n      --lumo-line-height-s: 1.375;\n      --lumo-line-height-m: 1.625;\n    }\n\n  </style>\n</custom-style><dom-module id="lumo-typography">\n  <template>\n    <style>\n      html {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Cant combine with the above selector because that doesnt work in browsers without native shadow dom */\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      small,\n      [theme~="font-size-s"] {\n        font-size: var(--lumo-font-size-s);\n        line-height: var(--lumo-line-height-s);\n      }\n\n      [theme~="font-size-xs"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-weight: 600;\n        line-height: var(--lumo-line-height-xs);\n        margin-top: 1.25em;\n      }\n\n      h1 {\n        font-size: var(--lumo-font-size-xxxl);\n        margin-bottom: 0.75em;\n      }\n\n      h2 {\n        font-size: var(--lumo-font-size-xxl);\n        margin-bottom: 0.5em;\n      }\n\n      h3 {\n        font-size: var(--lumo-font-size-xl);\n        margin-bottom: 0.5em;\n      }\n\n      h4 {\n        font-size: var(--lumo-font-size-l);\n        margin-bottom: 0.5em;\n      }\n\n      h5 {\n        font-size: var(--lumo-font-size-m);\n        margin-bottom: 0.25em;\n      }\n\n      h6 {\n        font-size: var(--lumo-font-size-xs);\n        margin-bottom: 0;\n        text-transform: uppercase;\n        letter-spacing: 0.03em;\n      }\n\n      p,\n      blockquote {\n        margin-top: 0.5em;\n        margin-bottom: 0.75em;\n      }\n\n      a {\n        text-decoration: none;\n      }\n\n      a:hover {\n        text-decoration: underline;\n      }\n\n      hr {\n        display: block;\n        align-self: stretch;\n        height: 1px;\n        border: 0;\n        padding: 0;\n        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      blockquote {\n        border-left: 2px solid var(--lumo-contrast-30pct);\n      }\n\n      b,\n      strong {\n        font-weight: 600;\n      }\n\n      /* RTL specific styles */\n\n      blockquote[dir="rtl"] {\n        border-left: none;\n        border-right: 2px solid var(--lumo-contrast-30pct);\n      }\n\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(ai.content);const si=document.createElement("template");si.innerHTML='<dom-module id="lumo-field-button">\n  <template>\n    <style>\n      [part$="button"] {\n        flex: none;\n        width: 1em;\n        height: 1em;\n        line-height: 1;\n        font-size: var(--lumo-icon-size-m);\n        text-align: center;\n        color: var(--lumo-contrast-60pct);\n        transition: 0.2s color;\n        cursor: var(--lumo-clickable-cursor);\n      }\n\n      :host(:not([readonly])) [part$="button"]:hover {\n        color: var(--lumo-contrast-90pct);\n      }\n\n      :host([disabled]) [part$="button"],\n      :host([readonly]) [part$="button"] {\n        color: var(--lumo-contrast-20pct);\n      }\n\n      [part$="button"]::before {\n        font-family: "lumo-icons";\n        display: block;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(si.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class ni{constructor(t){this.value=t.toString()}toString(){return this.value}}function ri(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof ni)return function(t){if(t instanceof ni)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}const li=function(t,...e){const i=document.createElement("template");return i.innerHTML=e.reduce(((e,i,o)=>e+ri(i)+t[o+1]),t[0]),i},di=li`<dom-module id="lumo-button" theme-for="vaadin-button">
  <template>
    <style>
      :host {
        /* Sizing */
        --lumo-button-size: var(--lumo-size-m);
        min-width: calc(var(--lumo-button-size) * 2);
        height: var(--lumo-button-size);
        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);
        margin: var(--lumo-space-xs) 0;
        box-sizing: border-box;
        /* Style */
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 500;
        color: var(--_lumo-button-color, var(--lumo-primary-text-color));
        background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));
        border-radius: var(--lumo-border-radius);
        cursor: default;
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Set only for the internal parts so we dont affect the host vertical alignment */
      [part="label"],
      [part="prefix"],
      [part="suffix"] {
        line-height: var(--lumo-line-height-xs);
      }

      [part="label"] {
        padding: calc(var(--lumo-button-size) / 6) 0;
      }

      :host([theme~="small"]) {
        font-size: var(--lumo-font-size-s);
        --lumo-button-size: var(--lumo-size-s);
      }

      :host([theme~="large"]) {
        font-size: var(--lumo-font-size-l);
        --lumo-button-size: var(--lumo-size-l);
      }

      /* This needs to be the last selector for it to take priority */
      :host([disabled][disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
        background-color: var(--lumo-contrast-5pct);
      }

      /* For interaction states */
      :host::before,
      :host::after {
        content: "";
        /* We rely on the host always being relative */
        position: absolute;
        z-index: 1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: currentColor;
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
      }

      /* Hover */

      :host(:hover)::before {
        opacity: 0.05;
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        :host(:not([active]):hover)::before {
          opacity: 0;
        }
      }

      /* Active */

      :host::after {
        transition: opacity 1.4s, transform 0.1s;
        filter: blur(8px);
      }

      :host([active])::before {
        opacity: 0.1;
        transition-duration: 0s;
      }

      :host([active])::after {
        opacity: 0.1;
        transition-duration: 0s, 0s;
        transform: scale(0);
      }

      /* Keyboard focus */

      :host([focus-ring]) {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      /* Types (primary, tertiary, tertiary-inline */

      :host([theme~="tertiary"]),
      :host([theme~="tertiary-inline"]) {
        background-color: transparent !important;
        transition: opacity 0.2s;
        min-width: 0;
      }

      :host([theme~="tertiary"])::before,
      :host([theme~="tertiary-inline"])::before {
        display: none;
      }

      :host([theme~="tertiary"]) {
        padding: 0 calc(var(--lumo-button-size) / 6);
      }

      @media (hover: hover) {
        :host([theme*="tertiary"]:not([active]):hover) {
          opacity: 0.8;
        }
      }

      :host([theme~="tertiary"][active]),
      :host([theme~="tertiary-inline"][active]) {
        opacity: 0.5;
        transition-duration: 0s;
      }

      :host([theme~="tertiary-inline"]) {
        margin: 0;
        height: auto;
        padding: 0;
        line-height: inherit;
        font-size: inherit;
      }

      :host([theme~="tertiary-inline"]) [part="label"] {
        padding: 0;
        overflow: visible;
        line-height: inherit;
      }

      :host([theme~="primary"]) {
        background-color: var(--_lumo-button-primary-background-color, var(--lumo-primary-color));
        color: var(--_lumo-button-primary-color, var(--lumo-primary-contrast-color));
        font-weight: 600;
        min-width: calc(var(--lumo-button-size) * 2.5);
      }

      :host([theme~="primary"][disabled]) {
        background-color: var(--lumo-primary-color-50pct);
        color: var(--lumo-primary-contrast-color);
      }

      :host([theme~="primary"]:hover)::before {
        opacity: 0.1;
      }

      :host([theme~="primary"][active])::before {
        background-color: var(--lumo-shade-20pct);
      }

      @media (pointer: coarse) {
        :host([theme~="primary"][active])::before {
          background-color: var(--lumo-shade-60pct);
        }

        :host([theme~="primary"]:not([active]):hover)::before {
          opacity: 0;
        }
      }

      :host([theme~="primary"][active])::after {
        opacity: 0.2;
      }

      /* Colors (success, error, contrast) */

      :host([theme~="success"]) {
        color: var(--lumo-success-text-color);
      }

      :host([theme~="success"][theme~="primary"]) {
        background-color: var(--lumo-success-color);
        color: var(--lumo-success-contrast-color);
      }

      :host([theme~="success"][theme~="primary"][disabled]) {
        background-color: var(--lumo-success-color-50pct);
      }

      :host([theme~="error"]) {
        color: var(--lumo-error-text-color);
      }

      :host([theme~="error"][theme~="primary"]) {
        background-color: var(--lumo-error-color);
        color: var(--lumo-error-contrast-color);
      }

      :host([theme~="error"][theme~="primary"][disabled]) {
        background-color: var(--lumo-error-color-50pct);
      }

      :host([theme~="contrast"]) {
        color: var(--lumo-contrast);
      }

      :host([theme~="contrast"][theme~="primary"]) {
        background-color: var(--lumo-contrast);
        color: var(--lumo-base-color);
      }

      :host([theme~="contrast"][theme~="primary"][disabled]) {
        background-color: var(--lumo-contrast-50pct);
      }

      /* Icons */

      [part] ::slotted(iron-icon) {
        display: inline-block;
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
      }

      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
      [part] ::slotted(iron-icon[icon^="vaadin:"]) {
        padding: 0.25em;
        box-sizing: border-box !important;
      }

      [part="prefix"] {
        margin-left: -0.25em;
        margin-right: 0.25em;
      }

      [part="suffix"] {
        margin-left: 0.25em;
        margin-right: -0.25em;
      }

      /* Icon-only */

      :host([theme~="icon"]:not([theme~="tertiary-inline"])) {
        min-width: var(--lumo-button-size);
        padding-left: calc(var(--lumo-button-size) / 4);
        padding-right: calc(var(--lumo-button-size) / 4);
      }

      :host([theme~="icon"]) [part="prefix"],
      :host([theme~="icon"]) [part="suffix"] {
        margin-left: 0;
        margin-right: 0;
      }

      /* RTL specific styles */

      :host([dir="rtl"]) [part="prefix"] {
        margin-left: 0.25em;
        margin-right: -0.25em;
      }

      :host([dir="rtl"]) [part="suffix"] {
        margin-left: -0.25em;
        margin-right: 0.25em;
      }

      :host([dir="rtl"][theme~="icon"]) [part="prefix"],
      :host([dir="rtl"][theme~="icon"]) [part="suffix"] {
        margin-left: 0;
        margin-right: 0;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild(di.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ci=0;const hi=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let i=ci++;return function(o){let a=o.__mixinSet;if(a&&a[i])return o;let s=e,n=s.get(o);if(!n){n=t(o),s.set(o,n);let e=Object.create(n.__mixinSet||a||null);e[i]=!0,n.__mixinSet=e}return n}},ui=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function pi(t){return t.indexOf(".")>=0}function mi(t){let e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function gi(t,e){return 0===t.indexOf(e+".")}function bi(t,e){return 0===e.indexOf(t+".")}function fi(t,e,i){return e+i.slice(t.length)}function vi(t){if(Array.isArray(t)){let e=[];for(let i=0;i<t.length;i++){let o=t[i].toString().split(".");for(let t=0;t<o.length;t++)e.push(o[t])}return e.join(".")}return t}function yi(t){return Array.isArray(t)?vi(t).split("."):t.toString().split(".")}function xi(t,e,i){let o=t,a=yi(e);for(let t=0;t<a.length;t++){if(!o)return;o=o[a[t]]}return i&&(i.path=a.join(".")),o}function _i(t,e,i){let o=t,a=yi(e),s=a[a.length-1];if(a.length>1){for(let t=0;t<a.length-1;t++){if(o=o[a[t]],!o)return}o[s]=i}else o[e]=i;return a.join(".")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const wi={},Ai=/-[a-z]/g,Ei=/([A-Z])/g;function Si(t){return wi[t]||(wi[t]=t.indexOf("-")<0?t:t.replace(Ai,(t=>t[1].toUpperCase())))}function Ci(t){return wi[t]||(wi[t]=t.replace(Ei,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ki=0,Ti=0,Ni=[],Pi=0,Li=!1,Bi=document.createTextNode("");new window.MutationObserver((function(){Li=!1;const t=Ni.length;for(let e=0;e<t;e++){let t=Ni[e];if(t)try{t()}catch(t){setTimeout((()=>{throw t}))}}Ni.splice(0,t),Ti+=t})).observe(Bi,{characterData:!0});const Oi={after:t=>({run:e=>window.setTimeout(e,t),cancel(t){window.clearTimeout(t)}}),run:(t,e)=>window.setTimeout(t,e),cancel(t){window.clearTimeout(t)}},Mi={run:t=>window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16),cancel(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},Ri={run:t=>(Li||(Li=!0,Bi.textContent=Pi++),Ni.push(t),ki++),cancel(t){const e=t-Ti;if(e>=0){if(!Ni[e])throw new Error("invalid async handle: "+t);Ni[e]=null}}},zi=Ri,Hi=hi((t=>class extends t{static createProperties(t){const e=this.prototype;for(let i in t)i in e||e._createPropertyAccessor(i)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}_addPropertyToAttributeMap(t){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let e=this.__dataAttributes[t];return e||(e=this.constructor.attributeNameForProperty(t),this.__dataAttributes[e]=t),e}_definePropertyAccessor(t,e){Object.defineProperty(this,t,{get(){return this.__data[t]},set:e?function(){}:function(e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,e,i){let o=this.__data[t],a=this._shouldPropertyChange(t,e,o);return a&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(t in this.__dataOld)&&(this.__dataOld[t]=o),this.__data[t]=e,this.__dataPending[t]=e),a}_isPropertyPending(t){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(t))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,zi.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const t=this.__data,e=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(t,e,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,i)),this.__dataCounter--}_shouldPropertiesChange(t,e,i){return Boolean(e)}_propertiesChanged(t,e,i){}_shouldPropertyChange(t,e,i){return i!==e&&(i==i||e==e)}attributeChangedCallback(t,e,i,o){e!==i&&this._attributeToProperty(t,i),super.attributeChangedCallback&&super.attributeChangedCallback(t,e,i,o)}_attributeToProperty(t,e,i){if(!this.__serializing){const o=this.__dataAttributes,a=o&&o[t]||t;this[a]=this._deserializeValue(e,i||this.constructor.typeForProperty(a))}}_propertyToAttribute(t,e,i){this.__serializing=!0,i=arguments.length<3?this[t]:i,this._valueToNodeAttribute(this,i,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,e,i){const o=this._serializeValue(e);"class"!==i&&"name"!==i&&"slot"!==i||(t=ui(t)),void 0===o?t.removeAttribute(i):t.setAttribute(i,o)}_serializeValue(t){return"boolean"==typeof t?t?"":void 0:null!=t?t.toString():void 0}_deserializeValue(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}})),Fi={};let Di=HTMLElement.prototype;for(;Di;){let t=Object.getOwnPropertyNames(Di);for(let e=0;e<t.length;e++)Fi[t[e]]=!0;Di=Object.getPrototypeOf(Di)}const $i=hi((t=>{const e=Hi(t);return class extends e{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let e=0;e<t.length;e++)this.prototype._createPropertyAccessor(Si(t[e]))}static attributeNameForProperty(t){return Ci(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let e in t)this._setProperty(e,t[e])}_ensureAttribute(t,e){const i=this;i.hasAttribute(t)||this._valueToNodeAttribute(i,e,t)}_serializeValue(t){if("object"==typeof t){if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}}return super._serializeValue(t)}_deserializeValue(t,e){let i;switch(e){case Object:try{i=JSON.parse(t)}catch(e){i=t}break;case Array:try{i=JSON.parse(t)}catch(e){i=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${t}`)}break;case Date:i=isNaN(t)?String(t):Number(t),i=new Date(i);break;default:i=super._deserializeValue(t,e)}return i}_definePropertyAccessor(t,e){!function(t,e){if(!Fi[e]){let i=t[e];void 0!==i&&(t.__data?t._setPendingProperty(e,i):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=i))}}(this,t),super._definePropertyAccessor(t,e)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}})),Ii={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Ui=!1,ji=!1;function Vi(t){(function(){if(!Ui){Ui=!0;const t=document.createElement("textarea");t.placeholder="a",ji=t.placeholder===t.textContent}return ji})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}function qi(t){let e=t.getAttribute("is");if(e&&Ii[e]){let i=t;for(i.removeAttribute("is"),t=i.ownerDocument.createElement(e),i.parentNode.replaceChild(t,i),t.appendChild(i);i.attributes.length;)t.setAttribute(i.attributes[0].name,i.attributes[0].value),i.removeAttribute(i.attributes[0].name)}return t}function Gi(t,e){let i=e.parentInfo&&Gi(t,e.parentInfo);if(!i)return t;for(let t=i.firstChild,o=0;t;t=t.nextSibling)if(e.parentIndex===o++)return t}function Wi(t,e,i,o){o.id&&(e[o.id]=i)}function Xi(t,e,i){if(i.events&&i.events.length)for(let o,a=0,s=i.events;a<s.length&&(o=s[a]);a++)t._addMethodEventListenerToNode(e,o.name,o.value,t)}function Yi(t,e,i,o){i.templateInfo&&(e._templateInfo=i.templateInfo,e._parentTemplateInfo=o)}const Qi=hi((t=>class extends t{static _parseTemplate(t,e){if(!t._templateInfo){let i=t._templateInfo={};i.nodeInfoList=[],i.nestedTemplate=Boolean(e),i.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,i,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,e,i){return this._parseTemplateNode(t.content,e,i)}static _parseTemplateNode(t,e,i){let o=!1,a=t;return"template"!=a.localName||a.hasAttribute("preserve-content")?"slot"===a.localName&&(e.hasInsertionPoint=!0):o=this._parseTemplateNestedTemplate(a,e,i)||o,Vi(a),a.firstChild&&this._parseTemplateChildNodes(a,e,i),a.hasAttributes&&a.hasAttributes()&&(o=this._parseTemplateNodeAttributes(a,e,i)||o),o||i.noted}static _parseTemplateChildNodes(t,e,i){if("script"!==t.localName&&"style"!==t.localName)for(let o,a=t.firstChild,s=0;a;a=o){if("template"==a.localName&&(a=qi(a)),o=a.nextSibling,a.nodeType===Node.TEXT_NODE){let i=o;for(;i&&i.nodeType===Node.TEXT_NODE;)a.textContent+=i.textContent,o=i.nextSibling,t.removeChild(i),i=o;if(e.stripWhiteSpace&&!a.textContent.trim()){t.removeChild(a);continue}}let n={parentIndex:s,parentInfo:i};this._parseTemplateNode(a,e,n)&&(n.infoIndex=e.nodeInfoList.push(n)-1),a.parentNode&&s++}}static _parseTemplateNestedTemplate(t,e,i){let o=t,a=this._parseTemplate(o,e);return(a.content=o.content.ownerDocument.createDocumentFragment()).appendChild(o.content),i.templateInfo=a,!0}static _parseTemplateNodeAttributes(t,e,i){let o=!1,a=Array.from(t.attributes);for(let s,n=a.length-1;s=a[n];n--)o=this._parseTemplateNodeAttribute(t,e,i,s.name,s.value)||o;return o}static _parseTemplateNodeAttribute(t,e,i,o,a){return"on-"===o.slice(0,3)?(t.removeAttribute(o),i.events=i.events||[],i.events.push({name:o.slice(3),value:a}),!0):"id"===o&&(i.id=a,!0)}static _contentForTemplate(t){let e=t._templateInfo;return e&&e.content||t.content}_stampTemplate(t,e){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let i=(e=e||this.constructor._parseTemplate(t)).nodeInfoList,o=e.content||t.content,a=document.importNode(o,!0);a.__noInsertionPoint=!e.hasInsertionPoint;let s=a.nodeList=new Array(i.length);a.$={};for(let t,o=0,n=i.length;o<n&&(t=i[o]);o++){let i=s[o]=Gi(a,t);Wi(0,a.$,i,t),Yi(0,i,t,e),Xi(this,i,t)}return a=a,a}_addMethodEventListenerToNode(t,e,i,o){let a=function(t,e,i){return t=t._methodHost||t,function(e){t[i]?t[i](e,e.detail):console.warn("listener method `"+i+"` not defined")}}(o=o||t,0,i);return this._addEventListenerToNode(t,e,a),a}_addEventListenerToNode(t,e,i){t.addEventListener(e,i)}_removeEventListenerFromNode(t,e,i){t.removeEventListener(e,i)}}));
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Ji=0;const Ki=[],Zi={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},to=/[A-Z]/;function eo(t,e,i){let o=t[e];if(o){if(!t.hasOwnProperty(e)&&(o=t[e]=Object.create(t[e]),i))for(let t in o){let e=o[t],i=o[t]=Array(e.length);for(let t=0;t<e.length;t++)i[t]=e[t]}}else o=t[e]={};return o}function io(t,e,i,o,a,s){if(e){let n=!1;const r=Ji++;for(let l in i){let d=e[a?mi(l):l];if(d)for(let e,c=0,h=d.length;c<h&&(e=d[c]);c++)e.info&&e.info.lastRun===r||a&&!ao(l,e.trigger)||(e.info&&(e.info.lastRun=r),e.fn(t,l,i,o,e.info,a,s),n=!0)}return n}return!1}function oo(t,e,i,o,a,s,n,r){let l=!1,d=e[n?mi(o):o];if(d)for(let e,c=0,h=d.length;c<h&&(e=d[c]);c++)e.info&&e.info.lastRun===i||n&&!ao(o,e.trigger)||(e.info&&(e.info.lastRun=i),e.fn(t,o,a,s,e.info,n,r),l=!0);return l}function ao(t,e){if(e){let i=e.name;return i==t||!(!e.structured||!gi(i,t))||!(!e.wildcard||!bi(i,t))}return!0}function so(t,e,i,o,a){let s="string"==typeof a.method?t[a.method]:a.method,n=a.property;s?s.call(t,t.__data[n],o[n]):a.dynamicFn||console.warn("observer method `"+a.method+"` not defined")}function no(t,e,i){let o=mi(e);if(o!==e){return ro(t,Ci(o)+"-changed",i[e],e),!0}return!1}function ro(t,e,i,o){let a={value:i,queueProperty:!0};o&&(a.path=o),ui(t).dispatchEvent(new CustomEvent(e,{detail:a}))}function lo(t,e,i,o,a,s){let n=(s?mi(e):e)!=e?e:null,r=n?xi(t,n):t.__data[e];n&&void 0===r&&(r=i[e]),ro(t,a.eventName,r,n)}function co(t,e,i,o,a){let s=t.__data[e];Se&&(s=Se(s,a.attrName,"attribute",t)),t._propertyToAttribute(e,a.attrName,s)}function ho(t,e,i,o){let a=t[Zi.COMPUTE];if(a)if(Oe){Ji++;const s=function(t){let e=t.constructor.__orderedComputedDeps;if(!e){e=new Map;const i=t[Zi.COMPUTE];let o,{counts:a,ready:s,total:n}=function(t){const e=t.__computeInfo,i={},o=t[Zi.COMPUTE],a=[];let s=0;for(let t in e){const o=e[t];s+=i[t]=o.args.filter((t=>!t.literal)).length+(o.dynamicFn?1:0)}for(let t in o)e[t]||a.push(t);return{counts:i,ready:a,total:s}}(t);for(;o=s.shift();){e.set(o,e.size);const t=i[o];t&&t.forEach((t=>{const e=t.info.methodInfo;--n,0==--a[e]&&s.push(e)}))}if(0!==n){const e=t;console.warn(`Computed graph for ${e.localName} incomplete; circular?`)}t.constructor.__orderedComputedDeps=e}return e}(t),n=[];for(let t in e)po(t,a,n,s,o);let r;for(;r=n.shift();)mo(t,"",e,i,r)&&po(r.methodInfo,a,n,s,o);Object.assign(i,t.__dataOld),Object.assign(e,t.__dataPending),t.__dataPending=null}else{let s=e;for(;io(t,a,s,i,o);)Object.assign(i,t.__dataOld),Object.assign(e,t.__dataPending),s=t.__dataPending,t.__dataPending=null}}const uo=(t,e,i)=>{let o=0,a=e.length-1,s=-1;for(;o<=a;){const n=o+a>>1,r=i.get(e[n].methodInfo)-i.get(t.methodInfo);if(r<0)o=n+1;else{if(!(r>0)){s=n;break}a=n-1}}s<0&&(s=a+1),e.splice(s,0,t)},po=(t,e,i,o,a)=>{const s=e[a?mi(t):t];if(s)for(let e=0;e<s.length;e++){const n=s[e];n.info.lastRun===Ji||a&&!ao(t,n.trigger)||(n.info.lastRun=Ji,uo(n.info,i,o))}};function mo(t,e,i,o,a){let s=_o(t,e,i,o,a);if(s===Ki)return!1;let n=a.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[n]?t._setPendingProperty(n,s,!0):(t[n]=s,!1)}function go(t,e,i,o,a,s,n){i.bindings=i.bindings||[];let r={kind:o,target:a,parts:s,literal:n,isCompound:1!==s.length};if(i.bindings.push(r),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(r)){let{event:t,negate:e}=r.parts[0];r.listenerEvent=t||Ci(a)+"-changed",r.listenerNegate=e}let l=e.nodeInfoList.length;for(let i=0;i<r.parts.length;i++){let o=r.parts[i];o.compoundIndex=i,bo(t,e,r,o,l)}}function bo(t,e,i,o,a){if(!o.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let s=o.dependencies,n={index:a,binding:i,part:o,evaluator:t};for(let i=0;i<s.length;i++){let o=s[i];"string"==typeof o&&(o=Co(o),o.wildcard=!0),t._addTemplatePropertyEffect(e,o.rootProperty,{fn:fo,info:n,trigger:o})}}}function fo(t,e,i,o,a,s,n){let r=n[a.index],l=a.binding,d=a.part;if(s&&d.source&&e.length>d.source.length&&"property"==l.kind&&!l.isCompound&&r.__isPropertyEffectsClient&&r.__dataHasAccessor&&r.__dataHasAccessor[l.target]){let o=i[e];e=fi(d.source,l.target,e),r._setPendingPropertyOrPath(e,o,!1,!0)&&t._enqueueClient(r)}else{let n=a.evaluator._evaluateBinding(t,d,e,i,o,s);n!==Ki&&function(t,e,i,o,a){a=function(t,e,i,o){if(i.isCompound){let a=t.__dataCompoundStorage[i.target];a[o.compoundIndex]=e,e=a.join("")}"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=null==e?"":e));return e}(e,a,i,o),Se&&(a=Se(a,i.target,i.kind,e));if("attribute"==i.kind)t._valueToNodeAttribute(e,a,i.target);else{let o=i.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[o]?e[Zi.READ_ONLY]&&e[Zi.READ_ONLY][o]||e._setPendingProperty(o,a)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,o,a)}}(t,r,l,d,n)}}function vo(t,e){if(e.isCompound){let i=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),o=e.parts,a=new Array(o.length);for(let t=0;t<o.length;t++)a[t]=o[t].literal;let s=e.target;i[s]=a,e.literal&&"property"==e.kind&&("className"===s&&(t=ui(t)),t[s]=e.literal)}}function yo(t,e,i){if(i.listenerEvent){let o=i.parts[0];t.addEventListener(i.listenerEvent,(function(t){!function(t,e,i,o,a){let s,n=t.detail,r=n&&n.path;r?(o=fi(i,o,r),s=n&&n.value):s=t.currentTarget[i],s=a?!s:s,e[Zi.READ_ONLY]&&e[Zi.READ_ONLY][o]||!e._setPendingPropertyOrPath(o,s,!0,Boolean(r))||n&&n.queueProperty||e._invalidateProperties()}(t,e,i.target,o.source,o.negate)}))}}function xo(t,e,i,o,a,s){s=e.static||s&&("object"!=typeof s||s[e.methodName]);let n={methodName:e.methodName,args:e.args,methodInfo:a,dynamicFn:s};for(let a,s=0;s<e.args.length&&(a=e.args[s]);s++)a.literal||t._addPropertyEffect(a.rootProperty,i,{fn:o,info:n,trigger:a});return s&&t._addPropertyEffect(e.methodName,i,{fn:o,info:n}),n}function _o(t,e,i,o,a){let s=t._methodHost||t,n=s[a.methodName];if(n){let o=t._marshalArgs(a.args,e,i);return o===Ki?Ki:n.apply(s,o)}a.dynamicFn||console.warn("method `"+a.methodName+"` not defined")}const wo=[],Ao=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Eo(t){let e="";for(let i=0;i<t.length;i++){e+=t[i].literal||""}return e}function So(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:wo};if(e[2].trim()){return function(t,e){return e.args=t.map((function(t){let i=Co(t);return i.literal||(e.static=!1),i}),this),e}(e[2].replace(/\\,/g,"&comma;").split(","),t)}return t}return null}function Co(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:e,value:"",literal:!1},o=e[0];switch("-"===o&&(o=e[1]),o>="0"&&o<="9"&&(o="#"),o){case"'":case'"':i.value=e.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(e),i.literal=!0}return i.literal||(i.rootProperty=mi(e),i.structured=pi(e),i.structured&&(i.wildcard=".*"==e.slice(-2),i.wildcard&&(i.name=e.slice(0,-2)))),i}function ko(t,e,i){let o=xi(t,i);return void 0===o&&(o=e[i]),o}function To(t,e,i,o){const a={indexSplices:o};Be&&!t._overrideLegacyUndefined&&(e.splices=a),t.notifyPath(i+".splices",a),t.notifyPath(i+".length",e.length),Be&&!t._overrideLegacyUndefined&&(a.indexSplices=[])}function No(t,e,i,o,a,s){To(t,e,i,[{index:o,addedCount:a,removed:s,object:e,type:"splice"}])}const Po=hi((t=>{const e=Qi($i(t));return class extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return Zi}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(Lo.length){let t=Lo[Lo.length-1];t._enqueueClient(this),this.__dataHost=t}}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let e=this[Zi.READ_ONLY];for(let i in t)e&&e[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=t[i])}_addPropertyEffect(t,e,i){this._createPropertyAccessor(t,e==Zi.READ_ONLY);let o=eo(this,e,!0)[t];o||(o=this[e][t]=[]),o.push(i)}_removePropertyEffect(t,e,i){let o=eo(this,e,!0)[t],a=o.indexOf(i);a>=0&&o.splice(a,1)}_hasPropertyEffect(t,e){let i=this[e];return Boolean(i&&i[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,Zi.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,Zi.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,Zi.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,Zi.COMPUTE)}_setPendingPropertyOrPath(t,e,i,o){if(o||mi(Array.isArray(t)?t[0]:t)!==t){if(!o){let i=xi(this,t);if(!(t=_i(this,t,e))||!super._shouldPropertyChange(t,e,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,i))return function(t,e,i){let o=t.__dataLinkedPaths;if(o){let a;for(let s in o){let n=o[s];bi(s,e)?(a=fi(s,n,e),t._setPendingPropertyOrPath(a,i,!0,!0)):bi(n,e)&&(a=fi(n,s,e),t._setPendingPropertyOrPath(a,i,!0,!0))}}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,i);this[t]=e}return!1}_setUnmanagedPropertyToNode(t,e,i){i===t[e]&&"object"!=typeof i||("className"===e&&(t=ui(t)),t[e]=i)}_setPendingProperty(t,e,i){let o=this.__dataHasPaths&&pi(t),a=o?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,a[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),o?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(o||this[Zi.NOTIFY]&&this[Zi.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=i),!0)}_setProperty(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let e=0;e<t.length;e++){let i=t[e];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,e){for(let i in t)!e&&this[Zi.READ_ONLY]&&this[Zi.READ_ONLY][i]||this._setPendingPropertyOrPath(i,t[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,e,i){let o,a=this.__dataHasPaths;this.__dataHasPaths=!1,ho(this,e,i,a),o=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(e,i,a),this._flushClients(),io(this,this[Zi.REFLECT],e,i,a),io(this,this[Zi.OBSERVE],e,i,a),o&&function(t,e,i,o,a){let s,n,r=t[Zi.NOTIFY],l=Ji++;for(let n in e)e[n]&&(r&&oo(t,r,l,n,i,o,a)||a&&no(t,n,i))&&(s=!0);s&&(n=t.__dataHost)&&n._invalidateProperties&&n._invalidateProperties()}(this,o,e,i,a),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,e,i){this[Zi.PROPAGATE]&&io(this,this[Zi.PROPAGATE],t,e,i),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,t,e,i)}_runEffectsForTemplate(t,e,i,o){const a=(e,o)=>{io(this,t.propertyEffects,e,i,o,t.nodeList);for(let a=t.firstChild;a;a=a.nextSibling)this._runEffectsForTemplate(a,e,i,o)};t.runEffects?t.runEffects(a,e,o):a(e,o)}linkPaths(t,e){t=vi(t),e=vi(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}unlinkPaths(t){t=vi(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,e){let i={path:""};To(this,xi(this,t,i),i.path,e)}get(t,e){return xi(e||this,t)}set(t,e,i){i?_i(i,t,e):this[Zi.READ_ONLY]&&this[Zi.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}push(t,...e){let i={path:""},o=xi(this,t,i),a=o.length,s=o.push(...e);return e.length&&No(this,o,i.path,a,e.length,[]),s}pop(t){let e={path:""},i=xi(this,t,e),o=Boolean(i.length),a=i.pop();return o&&No(this,i,e.path,i.length,0,[a]),a}splice(t,e,i,...o){let a,s={path:""},n=xi(this,t,s);return e<0?e=n.length-Math.floor(-e):e&&(e=Math.floor(e)),a=2===arguments.length?n.splice(e):n.splice(e,i,...o),(o.length||a.length)&&No(this,n,s.path,e,o.length,a),a}shift(t){let e={path:""},i=xi(this,t,e),o=Boolean(i.length),a=i.shift();return o&&No(this,i,e.path,0,0,[a]),a}unshift(t,...e){let i={path:""},o=xi(this,t,i),a=o.unshift(...e);return e.length&&No(this,o,i.path,0,e.length,[]),a}notifyPath(t,e){let i;if(1==arguments.length){let o={path:""};e=xi(this,t,o),i=o.path}else i=Array.isArray(t)?vi(t):t;this._setPendingPropertyOrPath(i,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,e){var i;this._addPropertyEffect(t,Zi.READ_ONLY),e&&(this["_set"+(i=t,i[0].toUpperCase()+i.substring(1))]=function(e){this._setProperty(t,e)})}_createPropertyObserver(t,e,i){let o={property:t,method:e,dynamicFn:Boolean(i)};this._addPropertyEffect(t,Zi.OBSERVE,{fn:so,info:o,trigger:{name:t}}),i&&this._addPropertyEffect(e,Zi.OBSERVE,{fn:so,info:o,trigger:{name:e}})}_createMethodObserver(t,e){let i=So(t);if(!i)throw new Error("Malformed observer expression '"+t+"'");xo(this,i,Zi.OBSERVE,_o,null,e)}_createNotifyingProperty(t){this._addPropertyEffect(t,Zi.NOTIFY,{fn:lo,info:{eventName:Ci(t)+"-changed",property:t}})}_createReflectedProperty(t){let e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,Zi.REFLECT,{fn:co,info:{attrName:e}})}_createComputedProperty(t,e,i){let o=So(e);if(!o)throw new Error("Malformed computed expression '"+e+"'");const a=xo(this,o,Zi.COMPUTE,mo,t,i);eo(this,"__computeInfo")[t]=a}_marshalArgs(t,e,i){const o=this.__data,a=[];for(let s=0,n=t.length;s<n;s++){let{name:n,structured:r,wildcard:l,value:d,literal:c}=t[s];if(!c)if(l){const t=bi(n,e),a=ko(o,i,t?e:n);d={path:t?e:n,value:a,base:t?xi(o,n):a}}else d=r?ko(o,i,n):o[n];if(Be&&!this._overrideLegacyUndefined&&void 0===d&&t.length>1)return Ki;a[s]=d}return a}static addPropertyEffect(t,e,i){this.prototype._addPropertyEffect(t,e,i)}static createPropertyObserver(t,e,i){this.prototype._createPropertyObserver(t,e,i)}static createMethodObserver(t,e){this.prototype._createMethodObserver(t,e)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,e){this.prototype._createReadOnlyProperty(t,e)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,e,i){this.prototype._createComputedProperty(t,e,i)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,e){let i=this.constructor._parseTemplate(t),o=this.__preBoundTemplateInfo==i;if(!o)for(let t in i.propertyEffects)this._createPropertyAccessor(t);if(e)if(i=Object.create(i),i.wasPreBound=o,this.__templateInfo){const e=t._parentTemplateInfo||this.__templateInfo,o=e.lastChild;i.parent=e,e.lastChild=i,i.previousSibling=o,o?o.nextSibling=i:e.firstChild=i}else this.__templateInfo=i;else this.__preBoundTemplateInfo=i;return i}static _addTemplatePropertyEffect(t,e,i){(t.hostProps=t.hostProps||{})[e]=!0;let o=t.propertyEffects=t.propertyEffects||{};(o[e]=o[e]||[]).push(i)}_stampTemplate(t,e){e=e||this._bindTemplate(t,!0),Lo.push(this);let i=super._stampTemplate(t,e);if(Lo.pop(),e.nodeList=i.nodeList,!e.wasPreBound){let t=e.childNodes=[];for(let e=i.firstChild;e;e=e.nextSibling)t.push(e)}return i.templateInfo=e,function(t,e){let{nodeList:i,nodeInfoList:o}=e;if(o.length)for(let e=0;e<o.length;e++){let a=o[e],s=i[e],n=a.bindings;if(n)for(let e=0;e<n.length;e++){let i=n[e];vo(s,i),yo(s,t,i)}s.__dataHost=t}}(this,e),this.__dataClientsReady&&(this._runEffectsForTemplate(e,this.__data,null,!1),this._flushClients()),i}_removeBoundDom(t){const e=t.templateInfo,{previousSibling:i,nextSibling:o,parent:a}=e;i?i.nextSibling=o:a&&(a.firstChild=o),o?o.previousSibling=i:a&&(a.lastChild=i),e.nextSibling=e.previousSibling=null;let s=e.childNodes;for(let t=0;t<s.length;t++){let e=s[t];ui(ui(e).parentNode).removeChild(e)}}static _parseTemplateNode(t,i,o){let a=e._parseTemplateNode.call(this,t,i,o);if(t.nodeType===Node.TEXT_NODE){let e=this._parseBindings(t.textContent,i);e&&(t.textContent=Eo(e)||" ",go(this,i,o,"text","textContent",e),a=!0)}return a}static _parseTemplateNodeAttribute(t,i,o,a,s){let n=this._parseBindings(s,i);if(n){let e=a,s="property";to.test(a)?s="attribute":"$"==a[a.length-1]&&(a=a.slice(0,-1),s="attribute");let r=Eo(n);return r&&"attribute"==s&&("class"==a&&t.hasAttribute("class")&&(r+=" "+t.getAttribute(a)),t.setAttribute(a,r)),"attribute"==s&&"disable-upgrade$"==e&&t.setAttribute(a,""),"input"===t.localName&&"value"===e&&t.setAttribute(e,""),t.removeAttribute(e),"property"===s&&(a=Si(a)),go(this,i,o,s,a,n,r),!0}return e._parseTemplateNodeAttribute.call(this,t,i,o,a,s)}static _parseTemplateNestedTemplate(t,i,o){let a=e._parseTemplateNestedTemplate.call(this,t,i,o);const s=t.parentNode,n=o.templateInfo,r="dom-if"===s.localName,l="dom-repeat"===s.localName;Me&&(r||l)&&(s.removeChild(t),(o=o.parentInfo).templateInfo=n,o.noted=!0,a=!1);let d=n.hostProps;if(Re&&r)d&&(i.hostProps=Object.assign(i.hostProps||{},d),Me||(o.parentInfo.noted=!0));else{let t="{";for(let e in d){go(this,i,o,"property","_host_"+e,[{mode:t,source:e,dependencies:[e],hostProp:!0}])}}return a}static _parseBindings(t,e){let i,o=[],a=0;for(;null!==(i=Ao.exec(t));){i.index>a&&o.push({literal:t.slice(a,i.index)});let s=i[1][0],n=Boolean(i[2]),r=i[3].trim(),l=!1,d="",c=-1;"{"==s&&(c=r.indexOf("::"))>0&&(d=r.substring(c+2),r=r.substring(0,c),l=!0);let h=So(r),u=[];if(h){let{args:t,methodName:i}=h;for(let e=0;e<t.length;e++){let i=t[e];i.literal||u.push(i)}let o=e.dynamicFns;(o&&o[i]||h.static)&&(u.push(i),h.dynamicFn=!0)}else u.push(r);o.push({source:r,mode:s,negate:n,customEvent:l,signature:h,dependencies:u,event:d}),a=Ao.lastIndex}if(a&&a<t.length){let e=t.substring(a);e&&o.push({literal:e})}return o.length?o:null}static _evaluateBinding(t,e,i,o,a,s){let n;return n=e.signature?_o(t,i,o,0,e.signature):i!=e.source?xi(t,e.source):s&&pi(i)?xi(t,i):t.__data[i],e.negate&&(n=!n),n}}})),Lo=[];const Bo=hi((t=>{const e=Hi(t);function i(t){const e=Object.getPrototypeOf(t);return e.prototype instanceof a?e:null}function o(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const i=t.properties;i&&(e=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const e={};for(let i in t){const o=t[i];e[i]="function"==typeof o?{type:o}:o}return e}(i))}t.__ownProperties=e}return t.__ownProperties}class a extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const t=this._properties;this.__observedAttributes=t?Object.keys(t).map((t=>this.prototype._addPropertyToAttributeMap(t))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=i(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=o(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=i(this);this.__properties=Object.assign({},t&&t._properties,o(this))}return this.__properties}static typeForProperty(t){const e=this._properties[t];return e&&e.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return a})),Oo=window.ShadyCSS&&window.ShadyCSS.cssBuild,Mo=hi((t=>{const e=Bo(Po(t));function i(t,e,i,o){i.computed&&(i.readOnly=!0),i.computed&&(t._hasReadOnlyEffect(e)?console.warn(`Cannot redefine computed property '${e}'.`):t._createComputedProperty(e,i.computed,o)),i.readOnly&&!t._hasReadOnlyEffect(e)?t._createReadOnlyProperty(e,!i.computed):!1===i.readOnly&&t._hasReadOnlyEffect(e)&&console.warn(`Cannot make readOnly property '${e}' non-readOnly.`),i.reflectToAttribute&&!t._hasReflectEffect(e)?t._createReflectedProperty(e):!1===i.reflectToAttribute&&t._hasReflectEffect(e)&&console.warn(`Cannot make reflected property '${e}' non-reflected.`),i.notify&&!t._hasNotifyEffect(e)?t._createNotifyingProperty(e):!1===i.notify&&t._hasNotifyEffect(e)&&console.warn(`Cannot make notify property '${e}' non-notify.`),i.observer&&t._createPropertyObserver(e,i.observer,o[i.observer]),t._addPropertyToAttributeMap(e)}function o(t,e,i,o){if(!Oo){const a=e.content.querySelectorAll("style"),s=We(e),n=function(t){let e=je(t);return e?Xe(e):[]}(i),r=e.content.firstElementChild;for(let i=0;i<n.length;i++){let a=n[i];a.textContent=t._processStyleText(a.textContent,o),e.content.insertBefore(a,r)}let l=0;for(let e=0;e<s.length;e++){let i=s[e],n=a[l];n!==i?(i=i.cloneNode(!0),n.parentNode.insertBefore(i,n)):l++,i.textContent=t._processStyleText(i.textContent,o)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,i),He&&Oo&&Ae){const i=e.content.querySelectorAll("style");if(i){let e="";Array.from(i).forEach((t=>{e+=t.textContent,t.parentNode.removeChild(t)})),t._styleSheet=new CSSStyleSheet,t._styleSheet.replaceSync(e)}}}return class extends e{static get polymerElementVersion(){return"3.4.1"}static _finalizeClass(){e._finalizeClass.call(this);const t=((i=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",i))||(i.__ownObservers=i.hasOwnProperty(JSCompiler_renameProperty("observers",i))?i.observers:null),i.__ownObservers);var i;t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):Ne||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let e in t)i(this.prototype,e,t[e],t)}static createObservers(t,e){const i=this.prototype;for(let o=0;o<t.length;o++)i._createMethodObserver(t[o],e)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const t=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=void 0!==t?t:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(t){let e=null;if(t&&(!ke||Te)&&(e=Ue.import(t,"template"),ke&&!e))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${t}`);return e}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=_e(t.url);else{const t=Ue.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=Ee,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let e=t._properties;for(let i in e){let o=e[i];"value"in o&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[i]=o)}}return t.__propertyDefaults}(this.constructor);if(t)for(let e in t){let i=t[e];if(this._canApplyPropertyDefault(e)){let t="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}_canApplyPropertyDefault(t){return!this.hasOwnProperty(t)}static _processStyleText(t,e){return xe(t,e)}static _finalizeTemplate(t){const e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;const i=this.importPath;o(this,e,t,i?ye(i):""),this.prototype._bindTemplate(e)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const e=ui(this);if(e.attachShadow)return t?(e.shadowRoot||(e.attachShadow({mode:"open",shadyUpgradeFragment:t}),e.shadowRoot.appendChild(t),this.constructor._styleSheet&&(e.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),Le&&window.ShadyDOM&&window.ShadyDOM.flushInitial(e.shadowRoot),e.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,e){return!e&&this.importPath&&(e=ye(this.importPath)),ye(t,e)}static _parseTemplateContent(t,i,o){return i.dynamicFns=i.dynamicFns||this._properties,e._parseTemplateContent.call(this,t,i,o)}static _addTemplatePropertyEffect(t,i,o){return!Pe||i in this._properties||o.info.part.signature&&o.info.part.signature.static||o.info.part.hostProp||t.nestedTemplate||console.warn(`Property '${i}' used in template but not declared in 'properties'; attribute will not be observed.`),e._addTemplatePropertyEffect.call(this,t,i,o)}}})),Ro=Mo(HTMLElement);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class zo{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(t,e){this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run((()=>{this._timer=null,Ho.delete(this),this._callback()}))}cancel(){this.isActive()&&(this._cancelAsync(),Ho.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(t,e,i){return t instanceof zo?t._cancelAsync():t=new zo,t.setConfig(e,i),t}}let Ho=new Set;const Fo=function(t){Ho.add(t)},Do=function(){const t=Boolean(Ho.size);return Ho.forEach((t=>{try{t.flush()}catch(t){setTimeout((()=>{throw t}))}})),t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let $o="string"==typeof document.head.style.touchAction,Io="__polymerGestures",Uo="__polymerGesturesHandled",jo="__polymerGesturesTouchAction",Vo=["mousedown","mousemove","mouseup","click"],qo=[0,1,4,2],Go=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function Wo(t){return Vo.indexOf(t)>-1}let Xo=!1;function Yo(t){if(!Wo(t)&&"touchend"!==t)return $o&&Xo&&Ce?{passive:!0}:void 0}!function(){try{let t=Object.defineProperty({},"passive",{get(){Xo=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();let Qo=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const Jo=[],Ko={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},Zo={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function ta(t){let e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];let i=t.getRootNode();if(t.id){let o=i.querySelectorAll(`label[for = ${t.id}]`);for(let t=0;t<o.length;t++)e.push(o[t])}}return e}let ea=function(t){let e=t.sourceCapabilities;var i;if((!e||e.firesTouchEvents)&&(t[Uo]={skip:!0},"click"===t.type)){let e=!1,o=ra(t);for(let t=0;t<o.length;t++){if(o[t].nodeType===Node.ELEMENT_NODE)if("label"===o[t].localName)Jo.push(o[t]);else if(i=o[t],Ko[i.localName]){let i=ta(o[t]);for(let t=0;t<i.length;t++)e=e||Jo.indexOf(i[t])>-1}if(o[t]===aa.mouse.target)return}if(e)return;t.preventDefault(),t.stopPropagation()}};function ia(t){let e=Qo?["click"]:Vo;for(let i,o=0;o<e.length;o++)i=e[o],t?(Jo.length=0,document.addEventListener(i,ea,!0)):document.removeEventListener(i,ea,!0)}function oa(t){let e=t.type;if(!Wo(e))return!1;if("mousemove"===e){let e=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!Go&&(e=qo[t.which]||0),Boolean(1&e)}return 0===(void 0===t.button?0:t.button)}let aa={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function sa(t,e,i){t.movefn=e,t.upfn=i,document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}function na(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}document.addEventListener("touchend",(function(t){aa.mouse.mouseIgnoreJob||ia(!0),aa.mouse.target=ra(t)[0],aa.mouse.mouseIgnoreJob=zo.debounce(aa.mouse.mouseIgnoreJob,Oi.after(2500),(function(){ia(),aa.mouse.target=null,aa.mouse.mouseIgnoreJob=null}))}),!!Xo&&{passive:!0});const ra=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:t=>t.composedPath&&t.composedPath()||[],la={},da=[];function ca(t){const e=ra(t);return e.length>0?e[0]:t.target}function ha(t){let e,i=t.type,o=t.currentTarget.__polymerGestures;if(!o)return;let a=o[i];if(a){if(!t[Uo]&&(t[Uo]={},"touch"===i.slice(0,5))){let e=(t=t).changedTouches[0];if("touchstart"===i&&1===t.touches.length&&(aa.touch.id=e.identifier),aa.touch.id!==e.identifier)return;$o||"touchstart"!==i&&"touchmove"!==i||function(t){let e=t.changedTouches[0],i=t.type;if("touchstart"===i)aa.touch.x=e.clientX,aa.touch.y=e.clientY,aa.touch.scrollDecided=!1;else if("touchmove"===i){if(aa.touch.scrollDecided)return;aa.touch.scrollDecided=!0;let i=function(t){let e="auto",i=ra(t);for(let t,o=0;o<i.length;o++)if(t=i[o],t[jo]){e=t[jo];break}return e}(t),o=!1,a=Math.abs(aa.touch.x-e.clientX),s=Math.abs(aa.touch.y-e.clientY);t.cancelable&&("none"===i?o=!0:"pan-x"===i?o=s>a:"pan-y"===i&&(o=a>s)),o?t.preventDefault():ba("track")}}(t)}if(e=t[Uo],!e.skip){for(let i,o=0;o<da.length;o++)i=da[o],a[i.name]&&!e[i.name]&&i.flow&&i.flow.start.indexOf(t.type)>-1&&i.reset&&i.reset();for(let o,s=0;s<da.length;s++)o=da[s],a[o.name]&&!e[o.name]&&(e[o.name]=!0,o[i](t))}}}function ua(t,e,i){return!!la[e]&&(function(t,e,i){let o=la[e],a=o.deps,s=o.name,n=t[Io];n||(t[Io]=n={});for(let e,i,o=0;o<a.length;o++)e=a[o],Qo&&Wo(e)&&"click"!==e||(i=n[e],i||(n[e]=i={_count:0}),0===i._count&&t.addEventListener(e,ha,Yo(e)),i[s]=(i[s]||0)+1,i._count=(i._count||0)+1);t.addEventListener(e,i),o.touchAction&&function(t,e){$o&&t instanceof HTMLElement&&Ri.run((()=>{t.style.touchAction=e}));t[jo]=e}(t,o.touchAction)}(t,e,i),!0)}function pa(t,e,i){return!!la[e]&&(function(t,e,i){let o=la[e],a=o.deps,s=o.name,n=t[Io];if(n)for(let e,i,o=0;o<a.length;o++)e=a[o],i=n[e],i&&i[s]&&(i[s]=(i[s]||1)-1,i._count=(i._count||1)-1,0===i._count&&t.removeEventListener(e,ha,Yo(e)));t.removeEventListener(e,i)}(t,e,i),!0)}function ma(t){da.push(t);for(let e=0;e<t.emits.length;e++)la[t.emits[e]]=t}function ga(t,e,i){let o=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(o.detail=i,ui(t).dispatchEvent(o),o.defaultPrevented){let t=i.preventer||i.sourceEvent;t&&t.preventDefault&&t.preventDefault()}}function ba(t){let e=function(t){for(let e,i=0;i<da.length;i++){e=da[i];for(let i,o=0;o<e.emits.length;o++)if(i=e.emits[o],i===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function fa(t,e,i,o){e&&ga(e,t,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:o,prevent:function(t){return ba(t)}})}function va(t,e,i){if(t.prevent)return!1;if(t.started)return!0;let o=Math.abs(t.x-e),a=Math.abs(t.y-i);return o>=5||a>=5}function ya(t,e,i){if(!e)return;let o,a=t.moves[t.moves.length-2],s=t.moves[t.moves.length-1],n=s.x-t.x,r=s.y-t.y,l=0;a&&(o=s.x-a.x,l=s.y-a.y),ga(e,"track",{state:t.state,x:i.clientX,y:i.clientY,dx:n,dy:r,ddx:o,ddy:l,sourceEvent:i,hover:function(){return function(t,e){let i=document.elementFromPoint(t,e),o=i;for(;o&&o.shadowRoot&&!window.ShadyDOM;){let a=o;if(o=o.shadowRoot.elementFromPoint(t,e),a===o)break;o&&(i=o)}return i}(i.clientX,i.clientY)}})}function xa(t,e,i){let o=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y),s=ca(i||e);!s||Zo[s.localName]&&s.hasAttribute("disabled")||(isNaN(o)||isNaN(a)||o<=25&&a<=25||function(t){if("click"===t.type){if(0===t.detail)return!0;let e=ca(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let i=e.getBoundingClientRect(),o=t.pageX,a=t.pageY;return!(o>=i.left&&o<=i.right&&a>=i.top&&a<=i.bottom)}return!1}(e))&&(t.prevent||ga(s,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:i}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/ma({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){na(this.info)},mousedown:function(t){if(!oa(t))return;let e=ca(t),i=this;sa(this.info,(function(t){oa(t)||(fa("up",e,t),na(i.info))}),(function(t){oa(t)&&fa("up",e,t),na(i.info)})),fa("down",e,t)},touchstart:function(t){fa("down",ca(t),t.changedTouches[0],t)},touchend:function(t){fa("up",ca(t),t.changedTouches[0],t)}}),ma({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,na(this.info)},mousedown:function(t){if(!oa(t))return;let e=ca(t),i=this,o=function(t){let o=t.clientX,a=t.clientY;va(i.info,o,a)&&(i.info.state=i.info.started?"mouseup"===t.type?"end":"track":"start","start"===i.info.state&&ba("tap"),i.info.addMove({x:o,y:a}),oa(t)||(i.info.state="end",na(i.info)),e&&ya(i.info,e,t),i.info.started=!0)};sa(this.info,o,(function(t){i.info.started&&o(t),na(i.info)})),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){let e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){let e=ca(t),i=t.changedTouches[0],o=i.clientX,a=i.clientY;va(this.info,o,a)&&("start"===this.info.state&&ba("tap"),this.info.addMove({x:o,y:a}),ya(this.info,e,i),this.info.state="track",this.info.started=!0)},touchend:function(t){let e=ca(t),i=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),ya(this.info,e,i))}}),ma({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(t){oa(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click:function(t){oa(t)&&xa(this.info,t)},touchstart:function(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(t){xa(this.info,t.changedTouches[0],t)}});const _a=hi((t=>class extends t{_addEventListenerToNode(t,e,i){ua(t,e,i)||super._addEventListenerToNode(t,e,i)}_removeEventListenerFromNode(t,e,i){pa(t,e,i)||super._removeEventListenerFromNode(t,e,i)}})),wa=t=>class extends t{static get properties(){return{theme:{type:String,readOnly:!0}}}attributeChangedCallback(t,e,i){super.attributeChangedCallback(t,e,i),"theme"===t&&this._setTheme(i)}},Aa=t=>class extends(wa(t)){static finalize(){super.finalize();const t=this.prototype._template,e=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,i=Object.getPrototypeOf(this.prototype)._template;i&&!e&&Array.from(i.content.querySelectorAll("style[include]")).forEach((e=>{this._includeStyle(e.getAttribute("include"),t)})),this._includeMatchingThemes(t)}static _includeMatchingThemes(t){const e=Ue.prototype.modules;let i=!1;const o=this.is+"-default-theme";Object.keys(e).sort(((t,e)=>{const i=0===t.indexOf("vaadin-"),o=0===e.indexOf("vaadin-"),a=["lumo-","material-"],s=a.filter((e=>0===t.indexOf(e))).length>0,n=a.filter((t=>0===e.indexOf(t))).length>0;return i!==o?i?-1:1:s!==n?s?-1:1:0})).forEach((a=>{if(a!==o){const o=e[a].getAttribute("theme-for");o&&o.split(" ").forEach((e=>{new RegExp("^"+e.split("*").join(".*")+"$").test(this.is)&&(i=!0,this._includeStyle(a,t))}))}})),!i&&e[o]&&this._includeStyle(o,t)}static _includeStyle(t,e){if(e&&!e.content.querySelector(`style[include="${t}"]`)){const i=document.createElement("style");i.setAttribute("include",t),e.content.appendChild(i)}}}
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/;let Ea=!1;window.addEventListener("keydown",(()=>{Ea=!0}),{capture:!0}),window.addEventListener("mousedown",(()=>{Ea=!1}),{capture:!0});const Sa=t=>class extends((t=>class extends t{static get properties(){var t={tabindex:{type:Number,value:0,reflectToAttribute:!0,observer:"_tabindexChanged"}};return window.ShadyDOM&&(t.tabIndex=t.tabindex),t}})(t)){static get properties(){return{autofocus:{type:Boolean},_previousTabIndex:{type:Number},disabled:{type:Boolean,observer:"_disabledChanged",reflectToAttribute:!0},_isShiftTabbing:{type:Boolean}}}ready(){this.addEventListener("focusin",(t=>{t.composedPath()[0]===this?this.contains(t.relatedTarget)||this._focus():-1===t.composedPath().indexOf(this.focusElement)||this.disabled||this._setFocused(!0)})),this.addEventListener("focusout",(t=>this._setFocused(!1))),super.ready();const t=t=>{t.composed||t.target.dispatchEvent(new CustomEvent(t.type,{bubbles:!0,composed:!0,cancelable:!1}))};this.shadowRoot.addEventListener("focusin",t),this.shadowRoot.addEventListener("focusout",t),this.addEventListener("keydown",(t=>{if(!t.defaultPrevented&&9===t.keyCode)if(t.shiftKey)this._isShiftTabbing=!0,HTMLElement.prototype.focus.apply(this),this._setFocused(!1),setTimeout((()=>this._isShiftTabbing=!1),0);else{const t=window.navigator.userAgent.match(/Firefox\/(\d\d\.\d)/);if(t&&parseFloat(t[1])>=63&&parseFloat(t[1])<66&&this.parentNode&&this.nextSibling){const t=document.createElement("input");t.style.position="absolute",t.style.opacity="0",t.tabIndex=this.tabIndex,this.parentNode.insertBefore(t,this.nextSibling),t.focus(),t.addEventListener("focusout",(()=>this.parentNode.removeChild(t)))}}})),this.autofocus&&!this.disabled&&window.requestAnimationFrame((()=>{this._focus(),this._setFocused(!0),this.setAttribute("focus-ring","")}))}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("focused")&&this._setFocused(!1)}_setFocused(t){t?this.setAttribute("focused",""):this.removeAttribute("focused"),t&&Ea?this.setAttribute("focus-ring",""):this.removeAttribute("focus-ring")}get focusElement(){return window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`),this}_focus(){this.focusElement&&!this._isShiftTabbing&&(this.focusElement.focus(),this._setFocused(!0))}focus(){this.focusElement&&!this.disabled&&(this.focusElement.focus(),this._setFocused(!0))}blur(){this.focusElement&&(this.focusElement.blur(),this._setFocused(!1))}_disabledChanged(t){this.focusElement.disabled=t,t?(this.blur(),this._previousTabIndex=this.tabindex,this.tabindex=-1,this.setAttribute("aria-disabled","true")):(void 0!==this._previousTabIndex&&(this.tabindex=this._previousTabIndex),this.removeAttribute("aria-disabled"))}_tabindexChanged(t){void 0!==t&&(this.focusElement.tabIndex=t),this.disabled&&this.tabindex&&(-1!==this.tabindex&&(this._previousTabIndex=this.tabindex),this.tabindex=t=void 0),window.ShadyDOM&&this.setProperties({tabIndex:t,tabindex:t})}click(){this.disabled||super.click()}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/;
/**
@license
Copyright (c) 2020 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class Ca{static detectScrollType(){const t=document.createElement("div");t.textContent="ABCD",t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t);let e="reverse";return t.scrollLeft>0?e="default":(t.scrollLeft=2,t.scrollLeft<2&&(e="negative")),document.body.removeChild(t),e}static getNormalizedScrollLeft(t,e,i){const{scrollLeft:o}=i;if("rtl"!==e||!t)return o;switch(t){case"negative":return i.scrollWidth-i.clientWidth+o;case"reverse":return i.scrollWidth-i.clientWidth-o}return o}static setNormalizedScrollLeft(t,e,i,o){if("rtl"===e&&t)switch(t){case"negative":i.scrollLeft=i.clientWidth-i.scrollWidth+o;break;case"reverse":i.scrollLeft=i.scrollWidth-i.clientWidth-o;break;default:i.scrollLeft=o}else i.scrollLeft=o}}const ka=[];let Ta;new MutationObserver((function(){const t=Pa();ka.forEach((e=>{Na(e,t)}))})).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});const Na=function(t,e){e?t.setAttribute("dir",e):t.removeAttribute("dir")},Pa=function(){return document.documentElement.getAttribute("dir")},La=t=>class extends t{static get properties(){return{dir:{type:String,readOnly:!0}}}static finalize(){super.finalize(),Ta||(Ta=Ca.detectScrollType())}connectedCallback(){super.connectedCallback(),this.hasAttribute("dir")||(this.__subscribe(),Na(this,Pa()))}attributeChangedCallback(t,e,i){if(super.attributeChangedCallback(t,e,i),"dir"!==t)return;const o=i===Pa()&&-1===ka.indexOf(this),a=!i&&e&&-1===ka.indexOf(this),s=i!==Pa()&&e===Pa();o||a?(this.__subscribe(),Na(this,Pa())):s&&this.__subscribe(!1)}disconnectedCallback(){super.disconnectedCallback(),this.__subscribe(!1),this.removeAttribute("dir")}__subscribe(t=!0){t?-1===ka.indexOf(this)&&ka.push(this):ka.indexOf(this)>-1&&ka.splice(ka.indexOf(this),1)}__getNormalizedScrollLeft(t){return Ca.getNormalizedScrollLeft(Ta,this.getAttribute("dir")||"ltr",t)}__setNormalizedScrollLeft(t,e){return Ca.setNormalizedScrollLeft(Ta,this.getAttribute("dir")||"ltr",t,e)}},Ba=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,Oa=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function Ma(t,e){if("function"!=typeof t)return;const i=Ba.exec(t.toString());if(i)try{t=new Function(i[1])}catch(t){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",t)}return t(e)}window.Vaadin=window.Vaadin||{};const Ra=function(t,e){if(window.Vaadin.developmentMode)return Ma(t,e)};function za(){}void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(Oa?!(Oa&&Object.keys(Oa).map((t=>Oa[t])).filter((t=>t.productionMode)).length>0):!Ma((function(){return!0})))}catch(t){return!1}}());const Ha=function(){return Ra(za)};let Fa;window.Vaadin||(window.Vaadin={}),window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{},window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){Ha&&Ha()};const Da=new Set,$a=t=>class extends(La(t)){static finalize(){super.finalize();const{is:t}=this;t&&!Da.has(t)&&(window.Vaadin.registrations.push(this),Da.add(t),window.Vaadin.developmentModeCallback&&(Fa=zo.debounce(Fa,Mi,(()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()})),Fo(Fa)))}constructor(){super(),null===document.doctype&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}}
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/;class Ia extends($a(Sa(Aa(_a(Ro))))){static get template(){return li`
    <style>
      :host {
        display: inline-block;
        position: relative;
        outline: none;
        white-space: nowrap;
      }

      :host([hidden]) {
        display: none !important;
      }

      /* Ensure the button is always aligned on the baseline */
      .vaadin-button-container::before {
        content: "\\2003";
        display: inline-block;
        width: 0;
      }

      .vaadin-button-container {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 100%;
        height: 100%;
        min-height: inherit;
        text-shadow: inherit;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      [part="prefix"],
      [part="suffix"] {
        flex: none;
      }

      [part="label"] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      #button {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
      }
    </style>
    <div class="vaadin-button-container">
      <div part="prefix">
        <slot name="prefix"></slot>
      </div>
      <div part="label">
        <slot></slot>
      </div>
      <div part="suffix">
        <slot name="suffix"></slot>
      </div>
    </div>
    <button id="button" type="button"></button>
`}static get is(){return"vaadin-button"}static get version(){return"2.4.0"}ready(){super.ready(),this.setAttribute("role","button"),this.$.button.setAttribute("role","presentation"),this._addActiveListeners(),window.ShadyDOM&&window.ShadyDOM.flush()}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("active")&&this.removeAttribute("active")}_addActiveListeners(){ua(this,"down",(()=>!this.disabled&&this.setAttribute("active",""))),ua(this,"up",(()=>this.removeAttribute("active"))),this.addEventListener("keydown",(t=>!this.disabled&&[13,32].indexOf(t.keyCode)>=0&&this.setAttribute("active",""))),this.addEventListener("keyup",(()=>this.removeAttribute("active"))),this.addEventListener("blur",(()=>this.removeAttribute("active")))}get focusElement(){return this.$.button}}customElements.define(Ia.is,Ia);const Ua=li`<dom-module id="lumo-progress-bar" theme-for="vaadin-progress-bar">
  <template>
    <style>
      :host {
        height: calc(var(--lumo-size-l) / 10);
        margin: var(--lumo-space-s) 0;
      }

      [part="bar"] {
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-10pct);
      }

      [part="value"] {
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-primary-color);
        /* Use width instead of transform to preserve border radius */
        transform: none;
        width: calc(var(--vaadin-progress-value) * 100%);
        will-change: width;
        transition: 0.1s width linear;
      }

      /* Indeterminate mode */

      :host([indeterminate]) [part="value"] {
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));
        width: 100%;
        background-color: transparent !important;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background);
        opacity: 0.75;
        will-change: transform;
        animation: vaadin-progress-indeterminate 1.6s infinite cubic-bezier(.645, .045, .355, 1);
      }

      @keyframes vaadin-progress-indeterminate {
        0% {
          transform: scaleX(0.015);
          transform-origin: 0% 0%;
        }

        25% {
          transform: scaleX(0.4);
        }

        50% {
          transform: scaleX(0.015);
          transform-origin: 100% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background);
        }

        50.1% {
          transform: scaleX(0.015);
          transform-origin: 100% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
        }

        75% {
          transform: scaleX(0.4);
        }

        100% {
          transform: scaleX(0.015);
          transform-origin: 0% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
        }
      }

      :host(:not([aria-valuenow])) [part="value"]::before,
      :host([indeterminate]) [part="value"]::before {
        content: "";
        display: block;
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background-color: var(--lumo-primary-color);
        will-change: opacity;
        animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(.645, .045, .355, 1);
      }

      @keyframes vaadin-progress-pulse3 {
        0% { opacity: 1; }
        10% { opacity: 0; }
        40% { opacity: 0; }
        50% { opacity: 1; }
        50.1% { opacity: 1; }
        60% { opacity: 0; }
        90% { opacity: 0; }
        100% { opacity: 1; }
      }

      /* Contrast color */

      :host([theme~="contrast"]) [part="value"],
      :host([theme~="contrast"]) [part="value"]::before {
        background-color: var(--lumo-contrast-80pct);
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-80pct));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-60pct));
      }

      /* Error color */

      :host([theme~="error"]) [part="value"],
      :host([theme~="error"]) [part="value"]::before {
        background-color: var(--lumo-error-color);
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));
      }

      /* Primary color */

      :host([theme~="success"]) [part="value"],
      :host([theme~="success"]) [part="value"]::before {
        background-color: var(--lumo-success-color);
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));
      }

      /* RTL specific styles */

      :host([indeterminate][dir="rtl"]) [part="value"] {
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));
        animation: vaadin-progress-indeterminate-rtl 1.6s infinite cubic-bezier(.355, .045, .645, 1);
      }

      :host(:not([aria-valuenow])[dir="rtl"]) [part="value"]::before,
      :host([indeterminate][dir="rtl"]) [part="value"]::before {
        animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(.355, .045, .645, 1);
      }

      @keyframes vaadin-progress-indeterminate-rtl {
        0% {
          transform: scaleX(0.015);
          transform-origin: 100% 0%;
        }

        25% {
          transform: scaleX(0.4);
        }

        50% {
          transform: scaleX(0.015);
          transform-origin: 0% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background);
        }

        50.1% {
          transform: scaleX(0.015);
          transform-origin: 0% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
        }

        75% {
          transform: scaleX(0.4);
        }

        100% {
          transform: scaleX(0.015);
          transform-origin: 100% 0%;
          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
        }
      }

      /* Contrast color */

      :host([theme~="contrast"][dir="rtl"]) [part="value"],
      :host([theme~="contrast"][dir="rtl"]) [part="value"]::before {
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-80pct));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-60pct));
      }

      /* Error color */

      :host([theme~="error"][dir="rtl"]) [part="value"],
      :host([theme~="error"][dir="rtl"]) [part="value"]::before {
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));
      }

      /* Primary color */

      :host([theme~="success"][dir="rtl"]) [part="value"],
      :host([theme~="success"][dir="rtl"]) [part="value"]::before {
        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));
        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));
      }
    </style>
  </template>
</dom-module><custom-style>
  <style>
    @keyframes vaadin-progress-pulse3 {
      0% { opacity: 1; }
      10% { opacity: 0; }
      40% { opacity: 0; }
      50% { opacity: 1; }
      50.1% { opacity: 1; }
      60% { opacity: 0; }
      90% { opacity: 0; }
      100% { opacity: 1; }
    }
  </style>
</custom-style>`;document.head.appendChild(Ua.content);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
const ja=t=>class extends t{static get properties(){return{value:{type:Number,observer:"_valueChanged"},min:{type:Number,value:0,observer:"_minChanged"},max:{type:Number,value:1,observer:"_maxChanged"},indeterminate:{type:Boolean,value:!1,reflectToAttribute:!0}}}static get observers(){return["_normalizedValueChanged(value, min, max)"]}ready(){super.ready(),this.setAttribute("role","progressbar")}_normalizedValueChanged(t,e,i){const o=this._normalizeValue(t,e,i);this.style.setProperty("--vaadin-progress-value",o),this.updateStyles({"--vaadin-progress-value":String(o)})}_valueChanged(t,e){this.setAttribute("aria-valuenow",t)}_minChanged(t,e){this.setAttribute("aria-valuemin",t)}_maxChanged(t,e){this.setAttribute("aria-valuemax",t)}_normalizeValue(t,e,i){let o;return t||0==t?e>=i?o=1:(o=(t-e)/(i-e),o=Math.min(Math.max(o,0),1)):o=0,o}}
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/;class Va extends($a(Aa(ja(Ro)))){static get template(){return li`
    <style>
      :host {
        display: block;
        width: 100%; /* prevent collapsing inside non-stretching column flex */
        height: 8px;
      }

      :host([hidden]) {
        display: none !important;
      }

      [part="bar"] {
        height: 100%;
      }

      [part="value"] {
        height: 100%;
        transform-origin: 0 50%;
        transform: scaleX(var(--vaadin-progress-value));
      }

      /* RTL specific styles */

      :host([dir="rtl"]) [part="value"] {
        transform-origin: 100% 50%;
      }
    </style>

    <div part="bar">
      <div part="value"></div>
    </div>
`}static get is(){return"vaadin-progress-bar"}static get version(){return"1.3.0"}}customElements.define(Va.is,Va);const qa=li`<dom-module id="lumo-upload" theme-for="vaadin-upload">
  <template>
    <style>
      :host {
        line-height: var(--lumo-line-height-m);
      }

      :host(:not([nodrop])) {
        overflow: hidden;
        border: 1px dashed var(--lumo-contrast-20pct);
        border-radius: var(--lumo-border-radius);
        padding: var(--lumo-space-m);
        transition: background-color 0.6s, border-color 0.6s;
      }

      [part="primary-buttons"] > * {
        display: inline-block;
        white-space: nowrap;
      }

      [part="drop-label"] {
        display: inline-block;
        white-space: normal;
        padding: 0 var(--lumo-space-s);
        color: var(--lumo-secondary-text-color);
        font-family: var(--lumo-font-family);
      }

      :host([dragover-valid]) {
        border-color: var(--lumo-primary-color-50pct);
        background: var(--lumo-primary-color-10pct);
        transition: background-color 0.1s, border-color 0.1s;
      }

      :host([dragover-valid]) [part="drop-label"] {
        color: var(--lumo-primary-text-color);
      }

      [part="drop-label-icon"] {
        display: inline-block;
      }

      [part="drop-label-icon"]::before {
        content: var(--lumo-icons-upload);
        font-family: lumo-icons;
        font-size: var(--lumo-icon-size-m);
        line-height: 1;
        vertical-align: -.25em;
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-upload-file" theme-for="vaadin-upload-file">
  <template>
    <style include="lumo-field-button">
      :host {
        padding: var(--lumo-space-s) 0;
      }

      :host(:not(:first-child)) {
        border-top: 1px solid var(--lumo-contrast-10pct);
      }

      [part="row"] {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
      }

      [part="status"],
      [part="error"] {
        color: var(--lumo-secondary-text-color);
        font-size: var(--lumo-font-size-s);
      }

      [part="info"] {
        display: flex;
        align-items: baseline;
        flex: auto;
      }

      [part="meta"] {
        width: 0.001px;
        flex: 1 1 auto;
      }

      [part="name"] {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      [part="commands"] {
        display: flex;
        align-items: baseline;
        flex: none;
      }

      [part="done-icon"],
      [part="warning-icon"] {
        margin-right: var(--lumo-space-xs);
      }

      /* When both icons are hidden, let us keep space for one */
      [part="done-icon"][hidden] + [part="warning-icon"][hidden] {
        display: block !important;
        visibility: hidden;
      }

      [part="done-icon"],
      [part="warning-icon"] {
        font-size: var(--lumo-icon-size-m);
        font-family: 'lumo-icons';
        line-height: 1;
      }

      [part="start-button"],
      [part="retry-button"],
      [part="clear-button"] {
        flex: none;
        margin-left: var(--lumo-space-xs);
      }

      [part="done-icon"]::before,
      [part="warning-icon"]::before,
      [part="start-button"]::before,
      [part="retry-button"]::before,
      [part="clear-button"]::before {
        vertical-align: -.25em;
      }

      [part="done-icon"]::before {
        content: var(--lumo-icons-checkmark);
        color: var(--lumo-primary-text-color);
      }

      [part="warning-icon"]::before {
        content: var(--lumo-icons-error);
        color: var(--lumo-error-text-color);
      }

      [part="start-button"]::before {
        content: var(--lumo-icons-play);
      }

      [part="retry-button"]::before {
        content: var(--lumo-icons-reload);
      }

      [part="clear-button"]::before {
        content: var(--lumo-icons-cross);
      }

      [part="error"] {
        color: var(--lumo-error-text-color);
      }

      [part="progress"] {
        width: auto;
        margin-left: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
        margin-right: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
      }

      [part="progress"][complete],
      [part="progress"][error] {
        display: none;
      }

    </style>
  </template>
</dom-module>`;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Ga(t,e,i,o,a){let s;a&&(s="object"==typeof i&&null!==i,s&&(o=t.__dataTemp[e]));let n=o!==i&&(o==o||i==i);return s&&n&&(t.__dataTemp[e]=i),n}document.head.appendChild(qa.content);const Wa=hi((t=>class extends t{_shouldPropertyChange(t,e,i){return Ga(this,t,e,i,!0)}})),Xa=hi((t=>class extends t{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(t,e,i){return Ga(this,t,e,i,this.mutableData)}}));Wa._mutablePropertyChange=Ga;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Ya=null;function Qa(){return Ya}Qa.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Qa,writable:!0}});const Ja=Po(Qa),Ka=Wa(Ja);const Za=Po(class{});class ts extends Za{constructor(t){super(),this._configureProperties(t),this.root=this._stampTemplate(this.__dataHost);let e=[];this.children=e;for(let t=this.root.firstChild;t;t=t.nextSibling)e.push(t),t.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(t&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(t){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let e in t)this._setPendingProperty(e,t[e])}forwardHostProp(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(t,e,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,(t=>{t.model=this,i(t)}));else{let o=this.__dataHost.__dataHost;o&&o._addEventListenerToNode(t,e,i)}}_showHideChildren(t){!function(t,e){for(let i=0;i<e.length;i++){let o=e[i];if(Boolean(t)!=Boolean(o.__hideTemplateChildren__))if(o.nodeType===Node.TEXT_NODE)t?(o.__polymerTextContent__=o.textContent,o.textContent=""):o.textContent=o.__polymerTextContent__;else if("slot"===o.localName)if(t)o.__polymerReplaced__=document.createComment("hidden-slot"),ui(ui(o).parentNode).replaceChild(o.__polymerReplaced__,o);else{const t=o.__polymerReplaced__;t&&ui(ui(t).parentNode).replaceChild(o,t)}else o.style&&(t?(o.__polymerDisplay__=o.style.display,o.style.display="none"):o.style.display=o.__polymerDisplay__);o.__hideTemplateChildren__=t,o._showHideChildren&&o._showHideChildren(t)}}(t,this.children)}_setUnmanagedPropertyToNode(t,e,i){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(t,e,i)}get parentModel(){let t=this.__parentModel;if(!t){let e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}dispatchEvent(t){return!0}}ts.prototype.__dataHost,ts.prototype.__templatizeOptions,ts.prototype._methodHost,ts.prototype.__templatizeOwner,ts.prototype.__hostProps;const es=Wa(ts);function is(t){let e=t.__dataHost;return e&&e._methodHost||e}function os(t,e,i){let o=i.mutableData?es:ts;rs.mixin&&(o=rs.mixin(o));let a=class extends o{};return a.prototype.__templatizeOptions=i,a.prototype._bindTemplate(t),function(t,e,i,o){let a=i.hostProps||{};for(let e in o.instanceProps){delete a[e];let i=o.notifyInstanceProp;i&&t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:ns(e,i)})}if(o.forwardHostProp&&e.__dataHost)for(let e in a)i.hasHostProps||(i.hasHostProps=!0),t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,i){t.__dataHost._setPendingPropertyOrPath("_host_"+e,i[e],!0,!0)}})}(a,t,e,i),a}function as(t,e,i,o){let a=i.forwardHostProp;if(a&&e.hasHostProps){const s="template"==t.localName;let n=e.templatizeTemplateClass;if(!n){if(s){let t=i.mutableData?Ka:Ja;class o extends t{}n=e.templatizeTemplateClass=o}else{const i=t.constructor;class o extends i{}n=e.templatizeTemplateClass=o}let r=e.hostProps;for(let t in r)n.prototype._addPropertyEffect("_host_"+t,n.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:ss(t,a)}),n.prototype._createNotifyingProperty("_host_"+t);Pe&&o&&function(t,e,i){const o=i.constructor._properties,{propertyEffects:a}=t,{instanceProps:s}=e;for(let t in a)if(!(o[t]||s&&s[t])){const e=a[t];for(let i=0;i<e.length;i++){const{part:o}=e[i].info;if(!o.signature||!o.signature.static){console.warn(`Property '${t}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}(e,i,o)}if(t.__dataProto&&Object.assign(t.__data,t.__dataProto),s)!function(t,e){Ya=t,Object.setPrototypeOf(t,e.prototype),new e,Ya=null}(t,n),t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties();else{Object.setPrototypeOf(t,n.prototype);const i=e.hostProps;for(let e in i)if(e="_host_"+e,e in t){const i=t[e];delete t[e],t.__data[e]=i}}}}function ss(t,e){return function(t,i,o){e.call(t.__templatizeOwner,i.substring("_host_".length),o[i])}}function ns(t,e){return function(t,i,o){e.call(t.__templatizeOwner,t,i,o[i])}}function rs(t,e,i){if(ke&&!is(t))throw new Error("strictTemplatePolicy: template owner not trusted");if(i=i||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;let o=(e?e.constructor:ts)._parseTemplate(t),a=o.templatizeInstanceClass;a||(a=os(t,o,i),o.templatizeInstanceClass=a);const s=is(t);as(t,o,i,s);let n=class extends a{};return n.prototype._methodHost=s,n.prototype.__dataHost=t,n.prototype.__templatizeOwner=e,n.prototype.__hostProps=o.hostProps,n=n,n}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ls=!1;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ds=Xa(Ro);class cs extends ds{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!ze,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t)}connectedCallback(){if(super.connectedCallback(),function(){if(Ne&&!we){if(!ls){ls=!0;const t=document.createElement("style");t.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(t)}return!0}return!1}()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let t=ui(ui(this).parentNode);for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t)}}__ensureTemplatized(){if(!this.__ctor){const t=this;let e=this.template=t._templateInfo?t:this.querySelector("template");if(!e){let t=new MutationObserver((()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");t.disconnect(),this.__render()}));return t.observe(this,{childList:!0}),!1}let i={};i[this.as]=!0,i[this.indexAs]=!0,i[this.itemsIndexAs]=!0,this.__ctor=rs(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:i,forwardHostProp:function(t,e){let i=this.__instances;for(let o,a=0;a<i.length&&(o=i[a]);a++)o.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,i){if((o=this.as)===(a=e)||gi(o,a)||bi(o,a)){let o=t[this.itemsIndexAs];e==this.as&&(this.items[o]=i);let a=fi(this.as,`${JSCompiler_renameProperty("items",this)}.${o}`,e);this.notifyPath(a,i)}var o,a}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if("string"==typeof t){let e=t,i=this.__getMethodHost();return function(){return i[e].apply(i,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths){let e=this.__observePaths;for(let i=0;i<e.length;i++)0===t.indexOf(e[i])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||("items"===t.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(t,e=0){this.__renderDebouncer=zo.debounce(this.__renderDebouncer,e>0?Oi.after(e):Ri,t.bind(this)),Fo(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),function(){let t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=Do()}while(t||e)}()}__render(){if(!this.__ensureTemplatized())return;let t=this.items||[];const e=this.__sortAndFilterItems(t),i=this.__calculateLimit(e.length);this.__updateInstances(t,i,e),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((()=>this.__continueChunking()))),this._setRenderedItemCount(this.__instances.length),ze&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(t){let e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=i;return this.__filterFn&&(e=e.filter(((e,i,o)=>this.__filterFn(t[e],i,o)))),this.__sortFn&&e.sort(((e,i)=>this.__sortFn(t[e],t[i]))),e}__calculateLimit(t){let e=t;const i=this.__instances.length;if(this.initialCount){let o;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(e=Math.min(t,this.initialCount),o=Math.max(e-i,0),this.__chunkCount=o||1):(o=Math.min(Math.max(t-i,0),this.__chunkCount),e=Math.min(i+o,t)),this.__shouldMeasureChunk=o===this.__chunkCount,this.__shouldContinueChunking=e<t,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,e}__continueChunking(){if(this.__shouldMeasureChunk){const t=performance.now()-this.__renderStartTime,e=this._targetFrameTime/t;this.__chunkCount=Math.round(this.__chunkCount*e)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(t,e,i){const o=this.__itemsIdxToInstIdx={};let a;for(a=0;a<e;a++){let e=this.__instances[a],s=i[a],n=t[s];o[s]=a,e?(e._setPendingProperty(this.as,n),e._setPendingProperty(this.indexAs,a),e._setPendingProperty(this.itemsIndexAs,s),e._flushProperties()):this.__insertInstance(n,a,s)}for(let t=this.__instances.length-1;t>=a;t--)this.__detachAndRemoveInstance(t)}__detachInstance(t){let e=this.__instances[t];const i=ui(e.root);for(let t=0;t<e.children.length;t++){let o=e.children[t];i.appendChild(o)}return e}__attachInstance(t,e){let i=this.__instances[t];e.insertBefore(i.root,this)}__detachAndRemoveInstance(t){this.__detachInstance(t),this.__instances.splice(t,1)}__stampInstance(t,e,i){let o={};return o[this.as]=t,o[this.indexAs]=e,o[this.itemsIndexAs]=i,new this.__ctor(o)}__insertInstance(t,e,i){const o=this.__stampInstance(t,e,i);let a=this.__instances[e+1],s=a?a.children[0]:this;return ui(ui(this).parentNode).insertBefore(o.root,s),this.__instances[e]=o,o}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let i=t.slice(6),o=i.indexOf("."),a=o<0?i:i.substring(0,o);if(a==parseInt(a,10)){let t=o<0?"":i.substring(o+1);this.__handleObservedPaths(t);let s=this.__itemsIdxToInstIdx[a],n=this.__instances[s];if(n){let i=this.as+(t?"."+t:"");n._setPendingPropertyOrPath(i,e,!1,!0),n._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return function(t,e){let i;for(;e;)if(i=e.__dataHost?e:e.__templatizeInstance){if(i.__dataHost==t)return i;e=i.__dataHost}else e=ui(e).parentNode;return null}(this.template,t)}}customElements.define(cs.is,cs);const hs=document.createElement("template");hs.innerHTML="<custom-style>\n  <style>\n    @font-face {\n      font-family: 'vaadin-upload-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAABmAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIF5mNtYXAAAAFoAAAAVAAAAFQXVtKMZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAfQAAAH0bBJxYWhlYWQAAAO4AAAANgAAADYPD267aGhlYQAAA/AAAAAkAAAAJAfCA8tobXR4AAAEFAAAACgAAAAoHgAAx2xvY2EAAAQ8AAAAFgAAABYCSgHsbWF4cAAABFQAAAAgAAAAIAAOADVuYW1lAAAEdAAAAhYAAAIWmmcHf3Bvc3QAAAaMAAAAIAAAACAAAwAAAAMDtwGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QUDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkF//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgAA/8AEAAPAABkAMgAAEz4DMzIeAhczLgMjIg4CBycRIScFIRcOAyMiLgInIx4DMzI+AjcXphZGWmo6SH9kQwyADFiGrmJIhXJbIEYBAFoDWv76YBZGXGw8Rn5lRQyADFmIrWBIhHReIkYCWjJVPSIyVnVDXqN5RiVEYTxG/wBa2loyVT0iMlZ1Q16jeUYnRWE5RgAAAAABAIAAAAOAA4AAAgAAExEBgAMAA4D8gAHAAAAAAwAAAAAEAAOAAAIADgASAAAJASElIiY1NDYzMhYVFAYnETMRAgD+AAQA/gAdIyMdHSMjXYADgPyAgCMdHSMjHR0jwAEA/wAAAQANADMD5gNaAAUAACUBNwUBFwHT/jptATMBppMzAU2a4AIgdAAAAAEAOv/6A8YDhgALAAABJwkBBwkBFwkBNwEDxoz+xv7GjAFA/sCMAToBOoz+wAL6jP7AAUCM/sb+xowBQP7AjAE6AAAAAwAA/8AEAAPAAAcACwASAAABFSE1IREhEQEjNTMJAjMRIRECwP6A/sAEAP0AgIACQP7A/sDAAQABQICA/oABgP8AgAHAAUD+wP6AAYAAAAABAAAAAQAAdhiEdV8PPPUACwQAAAAAANX4FR8AAAAA1fgVHwAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAKBAAAAAAAAAAAAAAAAgAAAAQAAAAEAACABAAAAAQAAA0EAAA6BAAAAAAAAAAACgAUAB4AagB4AJwAsADSAPoAAAABAAAACgAzAAMAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEAEwAAAAEAAAAAAAIABwDMAAEAAAAAAAMAEwBaAAEAAAAAAAQAEwDhAAEAAAAAAAUACwA5AAEAAAAAAAYAEwCTAAEAAAAAAAoAGgEaAAMAAQQJAAEAJgATAAMAAQQJAAIADgDTAAMAAQQJAAMAJgBtAAMAAQQJAAQAJgD0AAMAAQQJAAUAFgBEAAMAAQQJAAYAJgCmAAMAAQQJAAoANAE0dmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQBydmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n  </style>\n</custom-style>",document.head.appendChild(hs.content);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class us extends(Aa(Ro)){static get template(){return li`
    <style>
      :host {
        display: block;
      }

      [hidden] {
        display: none;
      }
    </style>

    <div part="row">
      <div part="info">
        <div part="done-icon" hidden\$="[[!file.complete]]"></div>
        <div part="warning-icon" hidden\$="[[!file.error]]"></div>

        <div part="meta">
          <div part="name" id="name">[[file.name]]</div>
          <div part="status" hidden\$="[[!file.status]]" id="status">[[file.status]]</div>
          <div part="error" id="error" hidden\$="[[!file.error]]">[[file.error]]</div>
        </div>
      </div>
      <div part="commands">
        <div part="start-button" file-event="file-start" on-click="_fireFileEvent" hidden\$="[[!file.held]]"></div>
        <div part="retry-button" file-event="file-retry" on-click="_fireFileEvent" hidden\$="[[!file.error]]"></div>
        <div part="clear-button" file-event="file-abort" on-click="_fireFileEvent"></div>
      </div>
    </div>

    <vaadin-progress-bar part="progress" id="progress" value\$="[[_formatProgressValue(file.progress)]]" error\$="[[file.error]]" indeterminate\$="[[file.indeterminate]]" uploading\$="[[file.uploading]]" complete\$="[[file.complete]]">
    </vaadin-progress-bar>
`}static get is(){return"vaadin-upload-file"}static get properties(){return{file:Object}}static get observers(){return["_fileAborted(file.abort)",'_toggleHostAttribute(file.error, "error")','_toggleHostAttribute(file.indeterminate, "indeterminate")','_toggleHostAttribute(file.uploading, "uploading")','_toggleHostAttribute(file.complete, "complete")']}_fileAborted(t){t&&this._remove()}_remove(){this.dispatchEvent(new CustomEvent("file-remove",{detail:{file:this.file},bubbles:!0,composed:!0}))}_formatProgressValue(t){return t/100}_fireFileEvent(t){return t.preventDefault(),this.dispatchEvent(new CustomEvent(t.target.getAttribute("file-event"),{detail:{file:this.file},bubbles:!0,composed:!0}))}_toggleHostAttribute(t,e){const i=Boolean(t);this.hasAttribute(e)!==i&&(i?this.setAttribute(e,""):this.removeAttribute(e))}}customElements.define(us.is,us);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class ps extends($a(Aa(Ro))){static get template(){return li`
    <style>
      :host {
        display: block;
        position: relative;
      }

      :host([hidden]) {
        display: none !important;
      }

      [hidden] {
        display: none !important;
      }
    </style>

    <div part="primary-buttons">
      <div id="addFiles" on-touchend="_onAddFilesTouchEnd" on-click="_onAddFilesClick">
        <slot name="add-button">
          <vaadin-button part="upload-button" id="addButton" disabled="[[maxFilesReached]]">
            [[_i18nPlural(maxFiles, i18n.addFiles, i18n.addFiles.*)]]
          </vaadin-button>
        </slot>
      </div>
      <div part="drop-label" hidden\$="[[nodrop]]" id="dropLabelContainer">
        <slot name="drop-label-icon">
          <div part="drop-label-icon"></div>
        </slot>
        <slot name="drop-label" id="dropLabel">
          [[_i18nPlural(maxFiles, i18n.dropFiles, i18n.dropFiles.*)]]
        </slot>
      </div>
    </div>
    <slot name="file-list">
      <div id="fileList" part="file-list">
        <template is="dom-repeat" items="[[files]]" as="file">
          <vaadin-upload-file file="[[file]]"></vaadin-upload-file>
        </template>
      </div>
    </slot>
    <slot></slot>
    <input type="file" id="fileInput" on-change="_onFileInputChange" hidden="" accept\$="{{accept}}" multiple\$="[[_isMultiple(maxFiles)]]" capture\$="[[capture]]">
`}static get is(){return"vaadin-upload"}static get version(){return"4.4.2"}static get properties(){return{nodrop:{type:Boolean,reflectToAttribute:!0,value:function(){try{return!!document.createEvent("TouchEvent")}catch(t){return!1}}},target:{type:String,value:""},method:{type:String,value:"POST"},headers:{type:Object,value:{}},timeout:{type:Number,value:0},_dragover:{type:Boolean,value:!1,observer:"_dragoverChanged"},files:{type:Array,notify:!0,value:function(){return[]}},maxFiles:{type:Number,value:1/0},maxFilesReached:{type:Boolean,value:!1,notify:!0,readOnly:!0,computed:"_maxFilesAdded(maxFiles, files.length)"},accept:{type:String,value:""},maxFileSize:{type:Number,value:1/0},_dragoverValid:{type:Boolean,value:!1,observer:"_dragoverValidChanged"},formDataName:{type:String,value:"file"},noAuto:{type:Boolean,value:!1},withCredentials:{type:Boolean,value:!1},capture:String,i18n:{type:Object,value:function(){return{dropFiles:{one:"Drop file here",many:"Drop files here"},addFiles:{one:"Upload File...",many:"Upload Files..."},cancel:"Cancel",error:{tooManyFiles:"Too Many Files.",fileIsTooBig:"File is Too Big.",incorrectFileType:"Incorrect File Type."},uploading:{status:{connecting:"Connecting...",stalled:"Stalled.",processing:"Processing File...",held:"Queued"},remainingTime:{prefix:"remaining time: ",unknown:"unknown remaining time"},error:{serverUnavailable:"Server Unavailable",unexpectedServerError:"Unexpected Server Error",forbidden:"Forbidden"}},units:{size:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]}}}}}}ready(){super.ready(),this.addEventListener("dragover",this._onDragover.bind(this)),this.addEventListener("dragleave",this._onDragleave.bind(this)),this.addEventListener("drop",this._onDrop.bind(this)),this.addEventListener("file-retry",this._onFileRetry.bind(this)),this.addEventListener("file-abort",this._onFileAbort.bind(this)),this.addEventListener("file-remove",this._onFileRemove.bind(this)),this.addEventListener("file-start",this._onFileStart.bind(this))}_formatSize(t){if("function"==typeof this.i18n.formatSize)return this.i18n.formatSize(t);const e=this.i18n.units.sizeBase||1e3,i=~~(Math.log(t)/Math.log(e)),o=Math.max(0,Math.min(3,i-1));return parseFloat((t/Math.pow(e,i)).toFixed(o))+" "+this.i18n.units.size[i]}_splitTimeByUnits(t){const e=[60,60,24,1/0],i=[0];for(var o=0;o<e.length&&t>0;o++)i[o]=t%e[o],t=Math.floor(t/e[o]);return i}_formatTime(t,e){if("function"==typeof this.i18n.formatTime)return this.i18n.formatTime(t,e);for(;e.length<3;)e.push(0);return e.reverse().map((t=>(t<10?"0":"")+t)).join(":")}_formatFileProgress(t){return t.totalStr+": "+t.progress+"% ("+(t.loaded>0?this.i18n.uploading.remainingTime.prefix+t.remainingStr:this.i18n.uploading.remainingTime.unknown)+")"}_maxFilesAdded(t,e){return t>=0&&e>=t}_onDragover(t){t.preventDefault(),this.nodrop||this._dragover||(this._dragoverValid=!this.maxFilesReached,this._dragover=!0),t.dataTransfer.dropEffect=!this._dragoverValid||this.nodrop?"none":"copy"}_onDragleave(t){t.preventDefault(),this._dragover&&!this.nodrop&&(this._dragover=this._dragoverValid=!1)}_onDrop(t){this.nodrop||(t.preventDefault(),this._dragover=this._dragoverValid=!1,this._addFiles(t.dataTransfer.files))}_createXhr(){return new XMLHttpRequest}_configureXhr(t){if("string"==typeof this.headers)try{this.headers=JSON.parse(this.headers)}catch(t){this.headers=void 0}for(var e in this.headers)t.setRequestHeader(e,this.headers[e]);this.timeout&&(t.timeout=this.timeout),t.withCredentials=this.withCredentials}_setStatus(t,e,i,o){t.elapsed=o,t.elapsedStr=this._formatTime(t.elapsed,this._splitTimeByUnits(t.elapsed)),t.remaining=Math.ceil(o*(e/i-1)),t.remainingStr=this._formatTime(t.remaining,this._splitTimeByUnits(t.remaining)),t.speed=~~(e/o/1024),t.totalStr=this._formatSize(e),t.loadedStr=this._formatSize(i),t.status=this._formatFileProgress(t)}uploadFiles(t){t&&!Array.isArray(t)&&(t=[t]),t=(t=t||this.files).filter((t=>!t.complete)),Array.prototype.forEach.call(t,this._uploadFile.bind(this))}_uploadFile(t){if(t.uploading)return;const e=Date.now(),i=t.xhr=this._createXhr();let o,a;i.upload.onprogress=s=>{clearTimeout(o),a=Date.now();const n=(a-e)/1e3,r=s.loaded,l=s.total,d=~~(r/l*100);t.loaded=r,t.progress=d,t.indeterminate=r<=0||r>=l,t.error?t.indeterminate=t.status=void 0:t.abort||(d<100?(this._setStatus(t,l,r,n),o=setTimeout((()=>{t.status=this.i18n.uploading.status.stalled,this._notifyFileChanges(t)}),2e3)):(t.loadedStr=t.totalStr,t.status=this.i18n.uploading.status.processing)),this._notifyFileChanges(t),this.dispatchEvent(new CustomEvent("upload-progress",{detail:{file:t,xhr:i}}))},i.onreadystatechange=()=>{if(4==i.readyState){if(clearTimeout(o),t.indeterminate=t.uploading=!1,t.abort)return void this._notifyFileChanges(t);t.status="";if(!this.dispatchEvent(new CustomEvent("upload-response",{detail:{file:t,xhr:i},cancelable:!0})))return;0===i.status?t.error=this.i18n.uploading.error.serverUnavailable:i.status>=500?t.error=this.i18n.uploading.error.unexpectedServerError:i.status>=400&&(t.error=this.i18n.uploading.error.forbidden),t.complete=!t.error,this.dispatchEvent(new CustomEvent("upload-"+(t.error?"error":"success"),{detail:{file:t,xhr:i}})),this._notifyFileChanges(t)}};const s=new FormData;t.uploadTarget=t.uploadTarget||this.target||"",t.formDataName=this.formDataName;if(!this.dispatchEvent(new CustomEvent("upload-before",{detail:{file:t,xhr:i},cancelable:!0})))return;s.append(t.formDataName,t,t.name),i.open(this.method,t.uploadTarget,!0),this._configureXhr(i),t.status=this.i18n.uploading.status.connecting,t.uploading=t.indeterminate=!0,t.complete=t.abort=t.error=t.held=!1,i.upload.onloadstart=()=>{this.dispatchEvent(new CustomEvent("upload-start",{detail:{file:t,xhr:i}})),this._notifyFileChanges(t)};this.dispatchEvent(new CustomEvent("upload-request",{detail:{file:t,xhr:i,formData:s},cancelable:!0}))&&i.send(s)}_retryFileUpload(t){this.dispatchEvent(new CustomEvent("upload-retry",{detail:{file:t,xhr:t.xhr},cancelable:!0}))&&this._uploadFile(t)}_abortFileUpload(t){this.dispatchEvent(new CustomEvent("upload-abort",{detail:{file:t,xhr:t.xhr},cancelable:!0}))&&(t.abort=!0,t.xhr&&t.xhr.abort(),this._notifyFileChanges(t))}_notifyFileChanges(t){var e="files."+this.files.indexOf(t)+".";for(var i in t)t.hasOwnProperty(i)&&this.notifyPath(e+i,t[i])}_addFiles(t){Array.prototype.forEach.call(t,this._addFile.bind(this))}_addFile(t){if(this.maxFilesReached)return void this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.tooManyFiles}}));if(this.maxFileSize>=0&&t.size>this.maxFileSize)return void this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.fileIsTooBig}}));const e=t.name.match(/\.[^\.]*$|$/)[0],i=new RegExp("^("+this.accept.replace(/[, ]+/g,"|").replace(/\/\*/g,"/.*")+")$","i");!this.accept||i.test(t.type)||i.test(e)?(t.loaded=0,t.held=!0,t.status=this.i18n.uploading.status.held,this.unshift("files",t),this.noAuto||this._uploadFile(t)):this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.incorrectFileType}}))}_removeFile(t){this.files.indexOf(t)>-1&&this.splice("files",this.files.indexOf(t),1)}_onAddFilesTouchEnd(t){t.preventDefault(),this.__resetMouseCanceller(),this._onAddFilesClick()}__resetMouseCanceller(){aa.mouse.mouseIgnoreJob&&aa.mouse.mouseIgnoreJob.flush()}_onAddFilesClick(){this.maxFilesReached||(this.$.fileInput.value="",this.$.fileInput.click())}_onFileInputChange(t){this._addFiles(t.target.files)}_onFileStart(t){this._uploadFile(t.detail.file)}_onFileRetry(t){this._retryFileUpload(t.detail.file)}_onFileAbort(t){this._abortFileUpload(t.detail.file)}_onFileRemove(t){this._removeFile(t.detail.file)}_dragoverChanged(t){t?this.setAttribute("dragover",t):this.removeAttribute("dragover")}_dragoverValidChanged(t){t?this.setAttribute("dragover-valid",t):this.removeAttribute("dragover-valid")}_i18nPlural(t,e){return 1==t?e.one:e.many}_isMultiple(t){return 1!=t}}customElements.define(ps.is,ps);class ms extends(_(x)){static get tag(){return"simple-fields-upload"}static get styles(){return[...super.styles,...w,s`:host{pointer-events:all;overflow:visible;transition:.3s all ease;--simple-login-camera-aspect:1.777777777777;--simple-camera-snap-color:var(--simple-fields-color, currentColor);--simple-camera-snap-background:var(
            --simple-fields-background-color,
            unset
          );--simple-camera-snap-border-radius:2px;--lumo-font-family:var(--simple-fields-font-family, sans-serif);--lumo-error-color:var(--simple-fields-error-color, #b40000);--lumo-primary-font-color:var(--simple-fields-color, currentColor);--lumo-base-color:var(--simple-fields-background-color, transparent)}:host([responsive-size=xs]),div[part=description]{font-size:10px;--simple-fields-font-size:10px;--simple-fields-button-font-size:11px;--simple-fields-legend-font-size:11px;--simple-fields-detail-font-size:10px}fieldset{padding:0;max-width:100%}#upload,div[slot=drop-label]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;width:100%}#upload{border-radius:var(--simple-fields-border-radius,2px);border:1px dashed var(--simple-fields-border-color-light,#ccc)}#url{flex:1 1 100%;margin:var(--simple-fields-margin-small,8px) 0;background-color:transparent}#upload-options{position:relative;transition:height .3s linear}div[slot=drop-label]>*{flex:0 1 auto}simple-fields-url-combo[always-expanded]::part(listbox){background-color:transparent}simple-toolbar-button{font-family:var(--simple-fields-font-family,sans-serif);color:var(--simple-fields-color,currentColor);margin:calc(.5 * var(--simple-fields-margin-small,8px)) calc(.25 * var(--simple-fields-margin-small,8px))}simple-toolbar-button[part=cancel-media]{position:absolute;right:0;top:0;z-index:2;--simple-fields-button-padding-sm:0;background-color:var(--simple-fields-background-color,#fff);opacity:.7}span[part=drop-area-text]{font-family:var(--simple-fields-button-font-family,sans-serif);font-size:var(--simple-fields-button-font-size,14px);white-space:nowrap;margin:calc(.5 * var(--simple-fields-margin-small,8px)) calc(.25 * var(--simple-fields-margin-small,8px))}vaadin-upload{padding:var(--simple-fields-margin-small,8px);position:relative;overflow:visible;border:none!important}vaadin-upload[dragover]{border-color:var(--simple-fields-secondary-accent-color,var(--simple-colors-default-theme-accent-3,#77e2ff))}vaadin-upload::part(drop-label){font-family:var(--simple-fields-font-family,sans-serif);color:var(--simple-fields-color,currentColor);display:flex;align-items:center;justify-content:center;flex-wrap:wrap;padding:0;width:100%;margin-top:-16px}vaadin-upload.option-selfie::part(drop-label){display:block}vaadin-upload::part(drop-label-icon){display:none}vaadin-upload-file{--disabled-text-color:#var(--simple-fields-border-color, #999)}simple-camera-snap{--simple-camera-snap-button-container-bottom:2px;--simple-camera-snap-button-container-z-index:5;--simple-camera-snap-button-border-radius:100%;--simple-camera-snap-button-opacity:0.7}`]}constructor(){super(),this.itemsList=[],this.autocomplete="off",this.noCamera=!1,this.noVoiceRecord=!0,this.responsiveSize="sm"}render(){return a` <fieldset part="fieldset">${this.legend} ${this.fields}</fieldset> `}get fields(){return a` <div id="upload-options"> <vaadin-upload capture class="option-${this.option}" form-data-name="file-upload" id="fileupload" @upload-before="${this._fileAboutToUpload}" @upload-response="${this._fileUploadResponse}" part="upload"> <button id="add-hidden" slot="add-button" hidden></button> <div slot="drop-label" part="browse-area" ?hidden="${"selfie"==this.option||"audio"==this.option}"> <simple-fields-url-combo id="url" ?autofocus="${this.autofocus}" autocomplete="both" value="${this.value||""}" label="URL" type="url" auto-validate="" part="url" ?always-expanded="${this.responsiveSize.indexOf("s")<0}" display-as="${this.responsiveSize.indexOf("l")>-1?"grid":""}" .itemsList="${this.itemsList}" @click="${t=>t.stopImmediatePropagation()}" @mousedown="${t=>t.stopImmediatePropagation()}" @focus="${t=>t.stopImmediatePropagation()}" @value-changed="${this.valueChanged}"> </simple-fields-url-combo> </div> <div id="upload"> <span part="drop-area-text">drop media here or</span> <simple-toolbar-button id="browse" label="Upload..." ?show-text-label="${this.responsiveSize.indexOf("s")<0}" icon="icons:file-upload" show-text-label @click="${this._handleBrowse}" controls="fieldset" part="browse"> </simple-toolbar-button> <simple-toolbar-button icon="image:camera-alt" label="Take photo..." ?show-text-label="${this.responsiveSize.indexOf("s")<0}" @mousedown="${t=>t.preventDefault()}" @focus="${t=>t.preventDefault()}" @click="${this._handleCameraOption}" controls="fieldset" part="take-photo" ?hidden="${!navigator.mediaDevices||this.noCamera}"> </simple-toolbar-button> <simple-toolbar-button icon="image:camera-alt" label="Record Audio..." ?show-text-label="${this.responsiveSize.indexOf("s")<0}" @mousedown="${t=>t.preventDefault()}" @focus="${t=>t.preventDefault()}" @click="${this._handleAudioOption}" controls="fieldset" part="record-audio" ?hidden="${!navigator.mediaDevices||this.noVoiceRecord}"> </simple-toolbar-button> </div> <simple-toolbar-button id="cancel" icon="icons:clear" label="Cancel" @mousedown="${t=>t.preventDefault()}" @focus="${t=>t.preventDefault()}" @click="${this._handleCancel}" controls="fieldset" slot="drop-label" part="cancel-media" ?hidden="${"selfie"!==this.option&&"audio"!==this.option}"> </simple-toolbar-button> <div id="camerahole" ?hidden="${"selfie"!==this.option}" part="camera" slot="drop-label" part="camera-preview"></div> <div id="voicerecorder" ?hidden="${"audio"!==this.option}" slot="drop-label" part="voice-preview"></div> ${this.desc} </vaadin-upload> </div> `}_handleCameraOption(t){t.preventDefault(),this.option="selfie",this._takeSelfie(t)}_handleAudioOption(t){t.preventDefault(),this.option="voice",this._voiceRecorder(t)}_handleCancel(t){t.preventDefault(),this.option="fileupload"}_handleBrowse(t){t.preventDefault(),this.shadowRoot.querySelector("#add-hidden").dispatchEvent(new CustomEvent("click",t))}valueChanged(t){this.value=t.detail.value}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{"value"==e&&this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this[e]}}))})),this.field&&this.__delayedFocus&&this.focus()}static get properties(){return{...super.properties,accept:{type:String},autocomplete:{type:String},autofocus:{type:Boolean},value:{type:String},option:{type:String},noCamera:{type:Boolean,attribute:"no-camera"},noVoiceRecord:{type:Boolean,attribute:"no-voice-record"},responsiveSize:{type:String,attribute:"responsive-size",reflect:!0},itemsList:{type:Object,attribute:"items-list"}}}get field(){if(this.shadowRoot)return"selfie"==this.option&&this.shadowRoot.querySelector("#cancel")||"audio"==this.option&&this.shadowRoot.querySelector("#cancel")?this.shadowRoot.querySelector("#cancel"):!!this.shadowRoot.querySelector("#url")&&this.shadowRoot.querySelector("#url")}focus(){this.field?(this.field.focus(),this.__delayedFocus=!1):this.__delayedFocus=!0}_fileAboutToUpload(t){this.dispatchEvent(new CustomEvent("upload-before",{bubbles:!0,cancelable:!0,composed:!1,detail:t.detail}))}_fileUploadResponse(t){this.dispatchEvent(new CustomEvent("upload-response",{bubbles:!0,cancelable:!0,composed:!1,detail:t.detail}))}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.value?this.option="url":this.option="fileupload",window.ResponsiveUtility.requestAvailability(),window.dispatchEvent(new CustomEvent("responsive-element",{detail:{element:this,attribute:"responsive-size",relativeToParent:!0,sm:150,md:300,lg:600,xl:1200}}))}__newPhotoShowedUp(t){let e=new File([t.detail.raw],"headshot"+t.timeStamp+".jpg");this.shadowRoot.querySelector("#fileupload")._addFile(e)}__newAudioShowedUp(t){let e=new File([t.detail.value],"voice-memo"+t.timeStamp+".mp3");this.shadowRoot.querySelector("#fileupload")._addFile(e)}_takeSelfie(t){this.camera||(import("./490b04b7.js"),this.camera=document.createElement("simple-camera-snap"),this.camera.autoplay=!0,this.camera.addEventListener("simple-camera-snap-image",this.__newPhotoShowedUp.bind(this)),this.shadowRoot.querySelector("#camerahole").appendChild(this.camera))}_voiceRecorder(t){this.voice||(import("./b746786b.js"),this.voice=document.createElement("voice-recorder"),this.voice.addEventListener("voice-recorder-recording",this.__newAudioShowedUp.bind(this)),this.shadowRoot.querySelector("#voicerecorder").appendChild(this.voice))}_resolveObjectPath(t,e){return t.split(".").reduce((function(t,e){return t?t[e]:null}),e||self)}}window.customElements.define(ms.tag,ms);class gs extends(R($(ms))){constructor(){super(),this.autocomplete="on",this.__winEvents={"hax-app-picker-selection":"_haxAppPickerSelection"},this.t={whereUpload:"Where would you like to upload this",cantHandle:"Sorry, you don't have a storage location that can handle",uploads:"uploads"},this.registerLocalization({context:this,namespace:"hax"})}_canUpload(){return!this.__allowUpload&&p}_fileAboutToUpload(t){if(this._canUpload()){t.preventDefault(),t.stopPropagation();let i={source:t.detail.file.name,type:t.detail.file.type};var e=p.guessGizmoType(i);let o=p.getHaxAppStoreTargets(e);1===o.length?this._haxAppPickerSelection({detail:o[0]}):0!==o.length?p.haxAppPicker.presentOptions(o,e,`${this.t.whereUpload} ${e}?`,"app"):"document"===e&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t.detail.file.type?Promise.resolve().then((function(){return Is})).then((()=>{window.DOCXFileSystemBroker.requestAvailability().fileToHTML(t.detail.file,"hax-upload")})):p.toast(`${this.t.cantHandle} ${e} ${this.t.uploads}!`,5e3)}else this.__allowUpload=!1}insertDOCXFileContents(t){if("hax-upload"===t.detail.name){let i=document.createElement("div");i.innerHTML=t.detail.value;let o=!1;p.activeNode.hasAttribute("slot")&&(o=p.activeNode.getAttribute("slot"));for(var e=i.children.length-1;e>0;e--)o&&i.children[e].setAttribute("slot",o),p.activeNode.parentNode.insertBefore(i.children[e],p.activeNode.nextSibling)}}connectedCallback(){super.connectedCallback(),window.addEventListener("docx-file-system-data",this.insertDOCXFileContents.bind(this))}disconnectedCallback(){window.removeEventListener("docx-file-system-data",this.insertDOCXFileContents.bind(this)),super.disconnectedCallback()}_haxAppPickerSelection(t){let e=t.detail.connection;this.__appUsed=t.detail,this.shadowRoot.querySelector("#fileupload").method=e.operations.add.method;let i=e.protocol+"://"+e.url;"/"!=i.substr(i.length-1)&&(i+="/"),void 0!==e.operations.add.endPoint&&(i+=e.operations.add.endPoint),null!=p.connectionRewrites.appendUploadEndPoint&&(i+="?"+p.connectionRewrites.appendUploadEndPoint),null!=p.connectionRewrites.appendJwt&&(i+="&"+p.connectionRewrites.appendJwt+"="+function(t){try{return localStorage.getItem(t)}catch(t){return!1}}(p.connectionRewrites.appendJwt)),this.shadowRoot.querySelector("#fileupload").headers=e.headers,this.shadowRoot.querySelector("#fileupload").target=i,this.__allowUpload=!0,this.shadowRoot.querySelector("#fileupload").uploadFiles()}_fileUploadResponse(t){let e=JSON.parse(t.detail.xhr.response),i=this.__appUsed.connection.operations.add.resultMap,o={},a={};for(var s in void 0!==this._resolveObjectPath(i.item,e)&&(o=this._resolveObjectPath(i.item,e)),a.type=i.defaultGizmoType,i.gizmo)a[s]=this._resolveObjectPath(i.gizmo[s],o);void 0===a.url&&void 0!==a.source&&(a.url=a.source),void 0!==i.gizmo.type&&(a.type=this._resolveObjectPath(i.gizmo.type,o)),this.shadowRoot.querySelector("#url").value=a.url}}window.customElements.define("hax-upload-field",gs);class bs extends gs{static get tag(){return"hax-tray-upload"}constructor(){super(),this.t={...super.t,uploadMedia:"Upload Media"},this.registerLocalization({context:this,namespace:"hax"}),this.__winEvents={"hax-app-picker-selection":"_haxAppPickerSelection","place-holder-file-drop":"_placeHolderFileDrop"}}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{"t"==e&&(this.label=this.t.uploadMedia)}))}_fileUploadResponse(t){super._fileUploadResponse(t),this.newAssetConfigure()}_canUpload(){return!this.__allowUpload}newAssetConfigure(){let t={source:this.shadowRoot.querySelector("#url").value,title:this.shadowRoot.querySelector("#url").value};p.insertLogicFromValues(t,this)}_placeHolderFileDrop(t){p.activePlaceHolder=t.detail.placeHolderElement,this.shadowRoot.querySelector("#fileupload")._onDrop(t.detail)}}window.customElements.define(bs.tag,bs);const fs=function(t){return class extends(v(t)){static get tag(){return"hax-toolbar-item"}constructor(){super(),this.danger=!1,this.feature=!1,this.menu=!1}static get properties(){return{...super.properties,danger:{type:Boolean,reflect:!0},eventName:{type:String,reflect:!0,attribute:"event-name"},feature:{type:Boolean,reflect:!0},toggledTooltip:{type:String},tooltip:{type:String}}}get buttonTemplate(){return this.radio?a` <button id="button" aria-checked="${this.isToggled?"true":"false"}" class="simple-toolbar-button" ?disabled="${this.disabled}" ?controls="${this.controls}" @click="${this._handleClick}" @keydown="${this._handleKeys}" @mousedown="${this._handleMousedown}" role="radio" part="button" tabindex="${this.isCurrentItem?1:-1}"> ${this.buttonInnerTemplate} </button> ${this.tooltipTemplate}`:this.toggles?a` <button id="button" aria-pressed="${this.isToggled?"true":"false"}" class="simple-toolbar-button" ?disabled="${this.disabled}" ?controls="${this.controls}" @click="${this._handleClick}" @keydown="${this._handleKeys}" @mousedown="${this._handleMousedown}" part="button" tabindex="${this.isCurrentItem?1:-1}"> ${this.buttonInnerTemplate} </button> ${this.tooltipTemplate}`:a` <button id="button" class="simple-toolbar-button" ?disabled="${this.disabled}" ?controls="${this.controls}" @click="${this._handleClick}" @keydown="${this._handleKeys}" @mousedown="${this._handleMousedown}" tabindex="0" part="button" tabindex="${this.isCurrentItem?1:-1}"> ${this.buttonInnerTemplate} </button> ${this.tooltipTemplate}`}static get simpleButtonThemeStyles(){return Ut}static get simpleButtonCoreStyles(){return super.simpleButtonCoreStyles}static get simpleButtonLayoutStyles(){return super.simpleButtonLayoutStyles}static get styles(){return[...super.styles,s`:host(:focus-within),:host(:hover){z-index:var(--hax-ui-focus-z-index,1001)!important}`]}_handleClick(t){}_handleKeys(t){}_handleMousedown(t){}}};class vs extends(fs(c)){}window.customElements.define(vs.tag,vs);var ys=Object.freeze({__proto__:null,HaxToolbarItem:vs,HaxToolbarItemBehaviors:fs});class xs extends(fs(c)){static get tag(){return"hax-tray-button"}constructor(){super(),this.eventData=null}static get properties(){return{...super.properties,voiceCommand:{type:String,attribute:"voice-command"},wide:{type:Boolean,reflect:!0},index:{type:Number},eventData:{type:String,attribute:"event-data"}}}_voiceEvent(t){this._handleClick(t),this.click()}_handleClick(t){this.dispatchEvent(new CustomEvent("hax-tray-button-click",{bubbles:!0,cancelable:!0,composed:!0,detail:{eventName:this.eventName,index:this.index,value:this.eventData}}))}updated(t){super.updated&&super.updated(t),t.forEach(((t,e)=>{"voiceCommand"==e&&this.dispatchEvent(new CustomEvent("hax-add-voice-command",{bubbles:!0,composed:!0,cancelable:!1,detail:{command:":name: "+this[e],context:this,callback:"_voiceEvent"}}))}))}}customElements.define(xs.tag,xs);var _s,ws,As=Object.freeze({__proto__:null,HaxButton:xs});class Es extends c{static get styles(){return[s`:host{overflow-y:auto;position:relative}simple-button-grid{overflow:auto}simple-button-grid.collapse-hide{max-height:0!important;transition:all .5s}.visibility-hidden{z-index:-1;visibility:hidden;opacity:0;height:0;transition:all .5s}`]}constructor(){super(),this.addEventListener("hax-tray-button-click",(t=>{"search-selected"===t.detail.eventName?(this.searching=!0,p.activeApp=m(this.appList[t.detail.index])):"cancel-search"===t.detail.eventName&&(this.searching=!1)})),this.searching=!1,this.appList=[],this.activeApp=null,this.hasActive=!1,import("./3903524a.js"),Promise.resolve().then((function(){return Ns})),u((()=>{this.appList=m(p.appList)})),u((()=>{this.activeApp=m(p.activeApp)}))}render(){return a` <simple-button-grid class="${this.searching?"collapse-hide":""}" always-expanded columns="3"> ${this.appList.map((t=>a` <hax-tray-button class="${this.searching?"visibility-hidden":""}" show-text-label icon-position="top" index="${t.index}" label="${t.details.title}" icon="${t.details.icon}" color="${t.details.color}" event-name="search-selected" event-data="${t.index}"> </hax-tray-button> `))} </simple-button-grid> <hax-app-search id="haxappsearch" class="${this.searching?"":"visibility-hidden"}"></hax-app-search> <slot></slot> `}static get tag(){return"hax-app-browser"}static get properties(){return{search:{type:String},searching:{type:Boolean,reflect:!0},activeApp:{type:Object},hasActive:{reflect:!0,type:Boolean,attribute:"has-active"},appList:{type:Array}}}updated(t){t.forEach(((t,e)=>{"activeApp"==e&&this[e]&&this._activeAppChanged(this[e],t),"appList"==e&&this[e]&&this.shadowRoot&&(this.searching=!1)}))}_activeAppChanged(t,e){this.hasActive=void 0!==e&&null!=t}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.searching=!1}}window.customElements.define(Es.tag,Es);class Ss extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=i(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return o}}Ss.finalized=!0,Ss._$litElement$=!0,null===(_s=globalThis.litElementHydrateSupport)||void 0===_s||_s.call(globalThis,{LitElement:Ss});const Cs=globalThis.litElementPolyfillSupport;null==Cs||Cs({LitElement:Ss}),(null!==(ws=globalThis.litElementVersions)&&void 0!==ws?ws:globalThis.litElementVersions=[]).push("3.0.1");
/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const ks=function(t){return class extends(d(t)){tag(){return"simple-toolbar-grid"}static get baseStyles(){return[s`:host{padding:0;margin:0;max-width:100%;display:flex;overflow:hidden;flex-direction:column;align-items:stretch;overflow:hidden!important;--simple-button-grid-cols:var(
              --simple-toolbar-button-min-width,
              var(
                --simple-toolbar-button-width,
                var(--simple-toolbar-button-height, 24px)
              )
            );transition:all .5s;transition:z-index 0s}:host([hidden]){z-index:-1;visibility:hidden;opacity:0;height:0}#grid{flex:1 1 auto;max-width:100%;overflow:auto}#buttons{flex:0 1 100%;max-width:100%;display:flex;flex-wrap:wrap;--simple-toolbar-button-flex:var(
              --simple-toolbar-button-grid-flex,
              1 1 100%
            )}#buttons{display:grid;overflow:visible;grid-gap:var(--simple-button-grid-margin,4px);grid-template-columns:repeat(auto-fill,minmax(calc(var(--simple-button-grid-cols) - 2 * var(--simple-button-grid-margin,4px)),1fr))}:host([collapsed]:not([always-expanded])) ::slotted([collapse-hide]){display:none!important}`]}static get properties(){return{...super.properties,columns:{type:Number,attribute:"columns"},rows:{type:Number,attribute:"rows"},disableAutogrow:{type:Boolean,attribute:"disable-autogrow",reflect:!0}}}get gridStyles(){let t=[];return this.columns&&t.push(`--simple-button-grid-cols:${100/this.columns}%`),t.join(";")}get toolbarTemplate(){return a` <div id="grid"> <div id="buttons" class="${!this.alwaysExpanded&&this.collapsed?"collapsed":""}" style="${this.gridStyles}" part="buttons"> <slot></slot> ${this.alwaysExpanded?"":this.moreButton} </div> </div> `}_bottom(t){return t&&t.offsetTop&&t.clientHeight?t.offsetTop+t.clientHeight:void 0}resizeToolbar(){if(this.alwaysExpanded)return;let t=this.shadowRoot?this.shadowRoot.querySelector("#morebutton"):void 0;this._bottom(t);let e,i=this._bottom(this),o=[...this.children||[]],a=!0,s=[];o.forEach((t=>{if(t.removeAttribute&&t.removeAttribute("collapse-hide"),0==s.length)s.unshift(t.offsetTop);else{let o=t.offsetTop>s[0];o&&s.unshift(t.offsetTop),this.rows&&s.length>this.rows||!this.rows&&o&&this._bottom(t)>i?(t.setAttribute("collapse-hide",!0),a=!1):a?e=t:t.setAttribute("collapse-hide",!0)}})),this.collapseDisabled=a&&!(t&&e&&this._bottom(t)>i),!this.collapseDisabled&&e&&e.setAttribute("collapse-hide",!0)}constructor(){super()}}};
/**
 * Copyright 2021 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */class Ts extends(ks(A)){}customElements.define("simple-button-grid",Ts);var Ns=Object.freeze({__proto__:null,SimpleButtonGrid:Ts,SimpleButtonGridBehaviors:ks});class Ps extends($(function(t){return class extends t{constructor(){super(),this.caseSensitive=!1,this.filtered=[],this.resetList()}resetList(t=[]){this.items=[...t],this.where="title",this.value="",this.like=""}static get properties(){return{...super.properties,items:{type:Array},like:{type:String},where:{type:String},caseSensitive:{type:Boolean,attribute:"case-sensitive",reflect:!0},filtered:{type:Array}}}update(t){super.update(t),t.forEach(((t,e)=>{["items","where","like","caseSensitive"].includes(e)&&this.shadowRoot&&(clearTimeout(this.__debounce),this.__debounce=setTimeout((()=>{this.filtered=this._computeFiltered(this.items,this.where,this.like,this.caseSensitive)}),0)),"filtered"==e&&this.shadowRoot&&(this.dispatchEvent(new CustomEvent("filter",{bubbles:!0,cancelable:!0,composed:!0,detail:!0})),this.dispatchEvent(new CustomEvent("filtered-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:{value:this.filtered}})))}))}filter(){this.where=""}_computeFiltered(t,e,i,o){"\\"!==i[0]&&"\\"!==i||(i="\\"+i);var a=null;a=o?new RegExp(i):new RegExp(i,"i");var s=this._decomposeWhere.bind(this);return t.filter((function(t){if("object"==typeof t){var i=s(e,t);return void 0===i&&""!=e&&console.warn("grafitto-filter was unable to find a property in '"+e+"'"),a.test(i)}return"string"==typeof t?a.test(t):"number"==typeof t?a.test(t.toString()):void 0}))}_decomposeWhere(t,e){return t.split(".").reduce((function(t,e){return t&&t[e]}),e)}}}(c))){static get styles(){return[s`:host{display:flex;flex-direction:column;align-items:stretch;flex:0 1 auto;overflow-y:auto}:host>*{max-width:100%}.toolbar-inner{display:flex;flex-direction:column;align-items:stretch;width:100%;flex:0 0 auto}hax-tray-button::part(button){font-size:var(hax-ui-font-size-xs)}simple-fields-field{margin-top:0}`]}constructor(){super(),this.where="title",this.t={filterContentTypes:"Filter Content Types"},this.registerLocalization({context:this,namespace:"hax"})}render(){return a` <div class="toolbar-inner" part="toolbar"> <simple-fields-field id="inputfilter" @value-changed="${this.inputfilterChanged}" aria-controls="filter" label="${this.t.filterContentTypes}" type="text" auto-validate="" part="filter"></simple-fields-field> </div> <simple-button-grid columns="3" always-expanded part="grid"> ${this.filtered.map(((t,e)=>a` <hax-tray-button show-text-label voice-command="insert ${t.title}" draggable="true" @dragstart="${this._dragStart}" @dragend="${this._dragEnd}" index="${e}" label="${t.title}" event-name="insert-tag" event-data="${t.tag}" data-demo-schema="true" icon-position="top" icon="${t.icon}" part="grid-button"></hax-tray-button> `))} </simple-button-grid> `}static get tag(){return"hax-gizmo-browser"}_dragStart(t){let e=p.haxSchemaFromTag(t.target.eventData);var i;i=e.gizmo.tag&&e.demoSchema&&e.demoSchema[0]?N(e.demoSchema[0]):document.createElement(t.target.eventData),p.__dragTarget=i,t.dataTransfer&&(this.crt=i.cloneNode(!0),e.gizmo.tag&&e.demoSchema&&e.demoSchema[0]?(this.crt.style.width="200px",this.crt.style.height="200px"):(this.crt.style.position="absolute",this.crt.style.top="-1000px",this.crt.style.right="-1000px",this.crt.style.transform="scale(0.25)"),this.crt.style.opacity=".8",this.crt.style.backgroundColor=t.target.getAttribute("drag-color"),t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move",t.dataTransfer.setDragImage(this.crt,0,0)),t.stopPropagation(),t.stopImmediatePropagation()}_dragEnd(t){this.crt.remove()}inputfilterChanged(t){this.like=t.target.value}updated(t){t.forEach(((t,e)=>{"activeApp"==e&&this._activeAppChanged(this[e],t),"filtered"==e&&this.requestUpdate()}))}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),u((()=>{this.resetList(m(p.gizmoList))}))}resetList(t){super.resetList(t),t&&(this.items=[...t.filter(((t,e)=>!(t&&t.meta&&(t.meta.inlineOnly||t.meta.hidden||t.requiresParent))))])}}window.customElements.define(Ps.tag,Ps);class Ls extends(fs(c)){constructor(){super(),this.haxUIElement=!0,this.action=!1,this.more=!1,this.eventName="button",this.inputMethod=null,this.propertyToBind=null,this.slotToBind=null,this.value=""}static get tag(){return"hax-context-item"}static get properties(){return{...super.properties,more:{type:Boolean},action:{type:Boolean},label:{type:String,reflect:!0},inputMethod:{type:String,reflect:!0,attribute:"input-method"},propertyToBind:{type:String,reflect:!0,attribute:"property-to-bind"},slotToBind:{type:String,reflect:!0,attribute:"slot-to-bind"},description:{type:String,reflect:!0},default:{type:Boolean},value:{type:String}}}_handleMousedown(t){this.disabled||(p._tmpSelection=p.getSelection())}_handleClick(t){this.disabled||this.dispatchEvent(new CustomEvent("hax-context-item-selected",{bubbles:!0,cancelable:!0,composed:!0,detail:{target:this,eventName:this.eventName,value:this.value}}))}}window.customElements.define(Ls.tag,Ls);class Bs extends(E(c)){static get styles(){return[...super.styles]}constructor(){super(),this._blockEvent=!1}static get simpleButtonThemeStyles(){return Ut}static get simpleButtonCoreStyles(){return[...super.simpleButtonCoreStyles,s`::slotted([slot=menuitem]){--simple-toolbar-button-justify:flex-start;--simple-toolbar-button-label-white-space:nowrap}`]}static get tag(){return"hax-toolbar-menu"}static get properties(){return{...super.properties,_blockEvent:{type:Boolean},eventName:{type:String,attribute:"event-name"}}}}window.customElements.define(Bs.tag,Bs);var Os=Object.freeze({__proto__:null,HaxToolbarMenu:Bs});class Ms extends(function(t){return class extends(d(t)){static get styles(){return[...super.styles,s`:host{--hax-ui-border-radius:0px}.selected-buttons{transition:.1s all ease-in-out;width:0}:host([has-selected-text]) .selected-buttons{width:100%}::slotted(*){pointer-events:all}::slotted(.group){border:none}`]}constructor(){super(),this.selected=!1,this.inline=!1}static get tag(){return"hax-toolbar"}static get properties(){return{...super.properties,selected:{type:Boolean,reflect:!0},inline:{type:Boolean,reflect:!0}}}}}(c)){}window.customElements.define(Ms.tag,Ms);
/**
 * Copyright 2021 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class Rs extends HTMLElement{constructor(){super(),this.dirHandler=null,this.fileHandler=null,this.files=[]}static get tag(){return"file-system-broker"}async loadFile(t,e=!1,i=!0){let o,a=this.typeToAccept(t),s=`${t} file`;return[o]=await window.showOpenFilePicker({types:[{description:s,accept:a}],excludeAcceptAllOption:i,multiple:e}),this.fileHandler=await o.getFile(),this.fileHandler}async getFileContents(t,e=!1,i=!0){return await this.loadFile(t,e,i),await this.fileHandler.text()}typeToAccept(t){let e={};switch(t){case"xls":case"xlsx":case"ods":e={"text/csv":[".csv"],"application/*":[".xls",".xlsx",".ods"]};break;case"csv":e={"text/*":[".csv",".txt"]};break;case"image":e={"image/*":[".jpg",".jpeg",".gif",".png"]};break;case"video":e={"video/*":[".mp4"]};break;case"markdown":e={"text/*":[".txt",".md"]}}return e}async saveFile(t,e){const i={types:[{description:`Save ${t} file`,accept:this.typeToAccept(t)}]};this.fileHandler=await window.showSaveFilePicker(i);const o=await this.fileHandler.createWritable();await o.write(e),await o.close()}async openDir(t=!0){try{this.dirHandler=await window.showDirectoryPicker()}catch(t){console.log(t)}return this.files=[],this.files=await this.__readDir(this.dirHandler,t,this.dirHandler.name+"/",this.dirHandler),this.files}async readFileInDir(t){try{this.dirHandler=await window.showDirectoryPicker();for await(const e of this.dirHandler.values())if(t&&"function"==typeof e.getFile&&e.name===t){const t=await e.getFile();return await t.text()}}catch(t){console.log(t)}return""}async writeFileInDir(t,e=""){try{this.dirHandler=await window.showDirectoryPicker();for await(const o of this.dirHandler.values())if(t&&"function"==typeof o.getFile&&o.name===t){var i=await this.dirHandler.getFileHandle(o.name);const t=await i.createWritable();return await t.write(e),await t.close(),!0}}catch(t){console.log(t)}return!1}async __readDir(t,e,i,o){const a=[];for await(let[s,n]of t){const{kind:t}=n;"directory"===n.kind?(a.push({name:s,kind:t,handle:n,folder:i,parentHandler:o}),".git"!==s&&e&&a.push(...await this.__readDir(n,e,i+s+"/",n))):a.push({name:s,kind:t,handle:n,folder:i,parentHandler:o})}return a}}window.FileSystemBroker=window.FileSystemBroker||{},window.FileSystemBroker.requestAvailability=()=>(window.FileSystemBroker.instance||(window.FileSystemBroker.instance=document.createElement("file-system-broker"),document.body.appendChild(window.FileSystemBroker.instance)),window.FileSystemBroker.instance);const zs=window.FileSystemBroker.requestAvailability();customElements.define(Rs.tag,Rs);class Hs extends Rs{static get tag(){return"docx-file-system-broker"}constructor(){super(),window.WCGlobalBasePath?this.libPath=window.WCGlobalBasePath:this.libPath=new URL("./",import.meta.url).href,this.libPath+="mammoth/",U.load("mammoth",this.libPath+"mammoth.browser.min.js").then((()=>{window.mammoth&&(this.docx=window.mammoth,this.dispatchEvent(new CustomEvent("docx-reader-ready",{bubbles:!0,composed:!0,cancelable:!1,detail:this})))}))}__toHTML(t,e){window.dispatchEvent(new CustomEvent("docx-file-system-data",{composed:!1,bubbles:!1,cancelable:!0,detail:{name:e,value:t.value}}))}HTMLToDOCX(t,e,i=!0){const o=`<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>\n      <head>\n        <meta charset='utf-8'>\n        <title>${e}</title>\n      </head>\n      <body>\n      ${t}\n      </body>\n    </html>`;if(i){let t=document.createElement("a");document.body.appendChild(t),t.href="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(o),t.download=`${e}.docx`,t.click(),document.body.removeChild(t)}return o}fileToHTML(t,e="filepicked"){var i=new FileReader;i.onload=async t=>{await this.docx.convertToHtml({arrayBuffer:t.target.result}).then((t=>this.__toHTML(t,e))).done()},i.readAsBinaryString(t)}}customElements.define(Hs.tag,Hs),window.DOCXFileSystemBroker=window.DOCXFileSystemBroker||{},window.DOCXFileSystemBroker.requestAvailability=()=>(window.DOCXFileSystemBroker.instance||(window.DOCXFileSystemBroker.instance=document.createElement("docx-file-system-broker"),document.body.appendChild(window.DOCXFileSystemBroker.instance)),window.DOCXFileSystemBroker.instance);const Fs=window.DOCXFileSystemBroker.requestAvailability();var Ds,$s,Is=Object.freeze({__proto__:null,DOCXFileSystemBrokerSingleton:Fs,DOCXFileSystemBroker:Hs,FileSystemBroker:Rs,FileSystemBrokerSingleton:zs});class Us extends($(function(t){return class extends t{static get properties(){return super.properties?Object.assign({fileTypes:{type:Object,value:()=>({CSV:"text/csv",JSON:"text/json",PDF:"application/pdf",TXT:"text/plain",HTML:"text/html"})}},super.properties):{fileTypes:{type:Object,value:()=>({CSV:"text/csv",JSON:"text/json",PDF:"application/pdf",TXT:"text/plain",HTML:"text/html"})}}}downloadFromData(t,e,i="download",o=!0){const a=this.fileTypes[e.toUpperCase()],s=new Blob([decodeURIComponent(encodeURI(t))],{type:a}),n=i+"."+e.toLowerCase();if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,n);else{const t=document.createElement("a");t.href=(window.URL||window.webkitURL).createObjectURL(s),t.download=n,t.target=o?"_blank":"_self",this.appendChild(t),t.click(),this.removeChild(t)}}downloadFromURI(t,e=!0){return window.open(t,e?"_blank":"_self"),!0}}}(c))){static get styles(){return[...Vt,s`#wrapper,:host{margin:0;padding:0;display:flex;flex-direction:column;align-items:stretch;position:relative;flex:1 1 100%}#spacer{flex:1 1 100%;z-index:-1}#textarea{position:absolute;top:0;bottom:0;margin:0;padding:0}hax-toolbar{flex:0 0 auto;background-color:var(--hax-ui-background-color)}hax-toolbar::part(buttons){display:flex;justify-content:center;align-items:stretch;margin:0 auto}hax-tray-button{flex:1 1 auto}@media screen and (max-width:800px){hax-tray-button{flex:0 1 auto}}`]}render(){return a` <div id="wrapper"> <div id="spacer"></div> <textarea id="hiddentextarea" hidden></textarea> <code-editor id="textarea" theme="${"hax"==this.haxUiTheme?"vs":"haxdark"==this.haxUiTheme?"vs-dark":"auto"}" language="html" font-size="13" word-wrap></code-editor> </div> <hax-toolbar always-expanded> <hax-tray-button label="${this.t.updatePage}" tooltip="${this.t.updatePageTooltip}" icon="editor:insert-drive-file" @click="${this.importContent.bind(this)}" show-text-label icon-position="top"> </hax-tray-button> <hax-tray-button @click="${this.scrubContent.bind(this)}" icon="editor:format-clear" label="${this.t.cleanFormatting}" tooltip="${this.t.cleanFormattingTooltip}" show-text-label icon-position="top"> </hax-tray-button> <hax-tray-button @click="${this.selectBody.bind(this)}" icon="icons:content-copy" label="${this.t.copyHTML}" tooltip="${this.t.copyHTMLTooltip}" show-text-label icon-position="top"> </hax-tray-button> <hax-tray-button label="${this.t.downloadHTML}" tooltip="${this.t.downloadHTMLTooltip}" icon="icons:file-download" @click="${this.download.bind(this)}" show-text-label icon-position="top"> </hax-tray-button> <hax-tray-button label="${this.t.downloadDOCX}" tooltip="${this.t.downloadDOCXTooltip}" icon="editor:insert-drive-file" @click="${this.downloadDOCX.bind(this)}" show-text-label icon-position="top"> </hax-tray-button> <hax-tray-button @click="${this.htmlToHaxElements.bind(this)}" label="${this.t.schema}" tooltip="${this.t.schemaTooltip}" icon="hax:code-json" show-text-label icon-position="top"> </hax-tray-button> </hax-toolbar> `}static get tag(){return"hax-view-source"}download(t){const e=this.contentToFile(!1);this.downloadFromData(e,"html","my-new-code"),p.toast("HTML content downloaded")}async downloadDOCX(t){let e=await p.activeHaxBody.haxToContent();window.DOCXFileSystemBroker.requestAvailability().HTMLToDOCX(e,document.title),p.toast("docx file downloaded")}downloadfull(t){const e=this.contentToFile(!0);this.downloadFromData(e,"html","my-new-webpage"),p.toast("Working offline copy downloaded")}importContent(t){const e=this.shadowRoot.querySelector("#textarea").value;p.activeHaxBody.importContent(e),p.haxTray.trayDetail=""}scrubContent(t){const e=this.shadowRoot.querySelector("#textarea").value;p.toast("Scrubbed, Content updated"),p.activeHaxBody.importContent(z(e))}openSource(){import("./da3789ad.js").then((function(t){return t.c})),this.updateEditor()}selectBody(t){let e=this.shadowRoot.querySelector("#hiddentextarea");e.value=this.shadowRoot.querySelector("#textarea").value,e.removeAttribute("hidden"),e.focus(),e.select(),document.execCommand("copy"),e.setAttribute("hidden","hidden"),p.toast(this.t.copiedToClipboard)}async htmlToHaxElements(t){let e=await p.htmlToHaxElements(this.shadowRoot.querySelector("#textarea").value);var i=JSON.stringify(e,null,2);let o=this.shadowRoot.querySelector("#textarea").value,a=this.shadowRoot.querySelector("#hiddentextarea");a.removeAttribute("hidden"),a.value=i,a.focus(),a.select(),document.execCommand("copy"),a.value=o,a.setAttribute("hidden","hidden"),p.toast(this.t.copiedToClipboard)}async firstUpdated(t){super.firstUpdated&&(super.firstUpdated(t),this.dispatchEvent(new CustomEvent("hax-register-core-piece",{bubbles:!0,cancelable:!0,composed:!0,detail:{piece:"haxViewSource",object:this}}))),await this.updateEditor()}async updateEditor(){p.activeHaxBody&&this.shadowRoot&&this.shadowRoot.querySelector("#textarea")&&(this.shadowRoot.querySelector("#textarea").editorValue=H(await p.activeHaxBody.haxToContent()))}async contentToFile(t){let e=await p.activeHaxBody.haxToContent();var i=e;return t&&(i=`\n        <!DOCTYPE html>\n        <html lang="en">\n          <head>\n            <meta charset="utf-8" />\n            <meta\n              name="viewport"\n              content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes"\n            />\n            <title>hax-body demo</title>\n            <script>window.WCGlobalCDNPath="https://cdn.webcomponents.psu.edu/cdn/"; <\/script> <script src="https://cdn.webcomponents.psu.edu/cdn/build.js"><\/script> \n            <style>\n              body {\n                padding: 32px;\n              }\n            </style>\n          </head>\n          <body>\n          ${e}\n          </body>\n        </html>\n      `),i}static get properties(){return{...super.properties,globalPreferences:{type:Object},theme:{type:String}}}constructor(){super(),this.t={updatePage:"Update",updatePageTooltip:"Update Page HTML",copyHTML:"Copy",copyHTMLTooltip:"Copy HTML",downloadHTML:"Download",downloadHTMLTooltip:"Download HTML",downloadDOCX:"Download (docx)",downloadDOCXTooltip:"Download .docx format",cleanFormatting:"Clean",cleanFormattingTooltip:"Clean HTML Formatting",cleanFormatting:"Clean",schema:"Schema",schemaTooltip:"HAX Schema"},this.registerLocalization({context:this,namespace:"hax"}),this.fileTypes={CSV:"text/csv",JSON:"text/json",PDF:"application/pdf",TXT:"text/plain",HTML:"text/html"},u((()=>{this.globalPreferences=m(p.globalPreferences),this.haxUiTheme=(this.globalPreferences||{}).haxUiTheme||"hax"}))}}window.customElements.define(Us.tag,Us);class js extends c{static get styles(){return[s`:host{display:flex;flex-direction:column;align-items:stretch;flex:0 0 auto;overflow-y:auto}simple-button-grid{overflow:auto}`]}constructor(){super(),this.staxList=[]}render(){return a` <simple-button-grid columns="3" rows="1" always-expanded> ${this.staxList.map((t=>a` <hax-tray-button icon-position="top" show-text-label index="${t.index}" label="${t.details.title}" .stax="${t.stax}" icon="hax:templates" color="green" event-name="insert-stax"></hax-tray-button> `))} </simple-button-grid> `}static get tag(){return"hax-stax-browser"}static get properties(){return{staxList:{type:Array}}}}window.customElements.define(js.tag,js);class Vs extends($(c)){static get styles(){return[...Gt,s`:host{display:block}.container{text-align:left}.stats{display:flex;align-items:stretch;flex-wrap:wrap}.stat{flex:1 1 auto;text-align:center;border:1px solid var(--hax-ui-border-color);font-weight:400;font-size:var(--hax-ui-font-size-xs);line-height:140%;padding:var(--hax-ui-spacing-sm)}.stat>*{display:block}.stat :first-child{font-weight:700;font-size:150%}ul{list-style:none;padding:0;margin:0}ul li{margin:0;padding:0}li>hax-toolbar-item{width:100%}hax-toolbar-item[data-active-item]::part(button){color:var(--hax-ui-color);background-color:var(--hax-ui-background-color-accent);border-color:var(--hax-ui-color-accent)}li>hax-toolbar-item::part(button),li>hax-toolbar-item[icon="hax:h2"].heading-level-h2::part(button){width:100%;margin-left:0}li>hax-toolbar-item.heading-level-h2::part(button),li>hax-toolbar-item[icon="hax:h3"].heading-level-h3::part(button){width:calc(100% - 26px);margin-left:26px}li>hax-toolbar-item.heading-level-h3::part(button),li>hax-toolbar-item[icon="hax:h4"].heading-level-h4::part(button){width:calc(100% - calc(2 * 26px));margin-left:calc(2 * 26px)}li>hax-toolbar-item.heading-level-h4::part(button),li>hax-toolbar-item[icon="hax:h5"].heading-level-h5::part(button){width:calc(100% - calc(3 * 26px));margin-left:calc(3 * 26px)}li>hax-toolbar-item.heading-level-h5::part(button),li>hax-toolbar-item[icon="hax:h6"].heading-level-h6::part(button){width:calc(100% - calc(4 * 26px));margin-left:calc(4 * 26px)}li>hax-toolbar-item.heading-level-h6::part(button){width:calc(100% - calc(5 * 26px));margin-left:calc(5 * 26px)}`]}constructor(){super(),this.elementList=[],this.t={contentStatistics:"Content Statistics",words:"Words",headings:"Headings",paragraphs:"Paragraphs",widgets:"Widgets",characters:"Characters",listView:"List view"},this.registerLocalization({context:this,namespace:"hax"}),u((()=>{this.activeNodeIndex=m(p.activeNodeIndex)}))}async updateHAXMap(t){let e=await p.htmlToHaxElements(await p.activeHaxBody.haxToContent());this.calcStats(e);let i=[];for(var o=0;o<e.length;o++){let t=p.haxSchemaFromTag(e[o].tag);t.gizmo?i.push({icon:t.gizmo.icon,name:t.gizmo.title}):e[o].tag&&e[o].tag.includes("-")?i.push({icon:"hax:templates",name:"Widget"}):i.push({icon:"hax:paragraph",name:"HTML block"})}this.elementList=[...i]}calcStats(t){if(t&&p.activeHaxBody.innerText){let i={c:p.activeHaxBody.innerText.length,w:parseInt(p.activeHaxBody.innerText.split(/\s+/g).length-1),h:0,p:0,e:0};for(var e in t.forEach((t=>{switch(t.tag){case"blockquote":case"div":case"span":case"p":i.p++;break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"relative-heading":i.h++;break;default:i.e++}})),i)this[`${e}Count`]=i[e]}}render(){return a` <h5>${this.t.contentStatistics}</h5> <div class="stats"> <div class="stat"> <span>${this.wCount}</span> <span>${this.t.words}</span> </div> <div class="stat"> <span>${this.pCount}</span> <span>${this.t.paragraphs}</span> </div> <div class="stat"> <span>${this.eCount}</span> <span>${this.t.widgets}</span> </div> <div class="stat"> <span>${this.cCount}</span> <span>${this.t.characters}</span> </div> </div> <h5>${this.t.listView}</h5> <ul> ${this.indentedElements.map(((t,e)=>a` <li> <hax-toolbar-item align-horizontal="left" class="heading-level-${t.parent||"h1"}" @click="${t=>this.goToItem(e)}" data-index="${e}" ?data-active-item="${e===this.activeNodeIndex}" icon="${t.icon}" label="${t.name}" show-text-label> </hax-toolbar-item> </li> `))} </ul> `}get indentedElements(){let t="h1";return this.elementList.map((e=>{let i=e;if(i.parent=t,"Heading"==i.name){let e=i.icon.replace("hax:","").trim();i.parent=e,t=e}return i}))}goToItem(t){if(!1!==t){let e=p.activeHaxBody.children[parseInt(t)];p.activeNode=e,e.classList.add("blinkfocus"),"function"==typeof e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded(!0):e.scrollIntoView({behavior:"smooth",inline:"center"}),setTimeout((()=>{e.classList.remove("blinkfocus")}),500)}}scrollInMap(){var t=S(e)[0];this.goToItem(t.getAttribute("data-index"))}static get tag(){return"hax-map"}static get properties(){return{opened:{type:Boolean},elementList:{type:Array},cCount:{type:String},wCount:{type:String},hCount:{type:String},pCount:{type:String},eCount:{type:String},activeNodeIndex:{type:Number}}}}customElements.define(Vs.tag,Vs);
/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class qs extends(g(r)){static get tag(){return"simple-icon-button"}constructor(){super(),this.accentColor="grey",this.contrast=4,this.dark=!1}render(){return a` <button ?autofocus="${this.autofocus}" .aria-labelledby="${this.ariaLabelledby}" .aria-pressed="${this.toggles||this.toggled?"true":this.toggles?"false":void 0}" controls="${this.controls}" part="button" ?disabled="${this.disabled}" form="${this.form}" label="${this.label}" aria-label="${this.label}" name="${this.fieldName}" .type="${this.type}" value="${this.value}"> <simple-icon part="icon" icon="${this.icon}" accent-color="${this.accentColor}" contrast="${this.contrast}" ?dark="${this.dark}"></simple-icon> </button> `}static get properties(){return{...super.properties,contrast:{type:Number,reflect:!0}}}}customElements.define(qs.tag,qs);class Gs extends($(c)){static get styles(){return[s`:host{display:block}.pref-container{text-align:left}simple-icon-button{float:right}`]}constructor(){super(),this.hideLink=!1,this.t={learnMoreAboutHAX:"Learn more about HAX",voiceCommands:"Voice commands",haxUITheme:"HAX UI Theme",language:"Language",english:"English",spanish:"Spanish"},this.udpateSchema(),this.registerLocalization({context:this,namespace:"hax",updateCallback:"udpateSchema"}),u((()=>{this.globalPreferences=m(p.globalPreferences),this.globalPreferences.haxLang&&I.lang!=this.globalPreferences.haxLang&&(I.lang=this.globalPreferences.haxLang||"en",this.udpateSchema())}))}udpateSchema(){let t=I.lang;t.indexOf("-")&&(t=t.split("-")[0]),this.schema=[{property:"haxVoiceCommands",title:this.t.voiceCommands,description:"Experimental: Voice based control system",inputMethod:"boolean",value:!1},{property:"haxUiTheme",title:this.t.haxUITheme,description:"Change the theme of the HAX interface (not the site's content).",inputMethod:"radio",options:{hax:"Default (light)",haxdark:"Dark",system:"System Default"},value:"hax"},{property:"haxLang",title:this.t.language,description:"Toggle between supported languages for internationalization",inputMethod:"radio",options:{en:this.t.english,es:this.t.spanish},value:t}],this.schemaValues={haxVoiceCommands:!1,haxUiTheme:"hax",haxLang:t},this.shadowRoot&&this.shadowRoot.querySelector("#settingsform")&&this.reloadPreferencesForm()}closeBtn(t){this.dispatchEvent(new CustomEvent("hax-tray-button-click",{bubbles:!0,cancelable:!0,composed:!0,detail:{eventName:"open-preferences",index:0,value:!0}}))}render(){return a` <div style="height:100%;overflow:auto" class="pref-container"> <simple-fields id="settingsform" .schematizer="${j}" .elementizer="${V}"> </simple-fields> </div> <hr> <br> <br> ${this.hideLink?"":a`<a href="https://haxtheweb.org/" rel="noopener" id="link" target="_blank" part="haxlink">${this.t.learnMoreAboutHAX}</a>`} `}static get tag(){return"hax-preferences-dialog"}static get properties(){return{hideLink:{type:Boolean},schema:{type:Object},globalPreferences:{type:Object}}}firstUpdated(t){this.reloadPreferencesForm(),this.shadowRoot.querySelector("#settingsform").addEventListener("value-changed",this.__valueChangedEvent.bind(this))}__valueChangedEvent(t){t.detail.value&&(p.globalPreferences={...t.detail.value},this.schemaValues={...t.detail.value})}reloadPreferencesForm(){this.shadowRoot.querySelector("#settingsform").fields=[...this.schema],this.shadowRoot.querySelector("#settingsform").value={...this.schemaValues}}}window.customElements.define(Gs.tag,Gs);class Ws extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=i(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return o}}Ws.finalized=!0,Ws._$litElement$=!0,null===(Ds=globalThis.litElementHydrateSupport)||void 0===Ds||Ds.call(globalThis,{LitElement:Ws});const Xs=globalThis.litElementPolyfillSupport;null==Xs||Xs({LitElement:Ws}),(null!==($s=globalThis.litElementVersions)&&void 0!==$s?$s:globalThis.litElementVersions=[]).push("3.0.1");class Ys extends Ws{static get styles(){return s`:host{display:block}.progress-line,.progress-line:before{height:5px;width:100%;margin:auto}:host([full]) .progress-line{--loading-indicator-width:100%}.progress-line{background-color:var(--loading-indicator-background-color,rgba(0,0,0,.05));display:-webkit-flex;display:flex;width:var(--loading-indicator-width,300px)}.progress-line:before{background-color:var(--loading-indicator-color,#000);content:"";animation:running-progress 2s cubic-bezier(.4,0,.2,1) infinite}@keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}@keyframes fade-out{0%{opacity:1}99%{opacity:0}100%{opacity:0}}`}static get properties(){return{full:{type:Boolean,reflect:!0},loading:{type:Boolean,reflect:!0}}}constructor(){super(),this.full=!1,this.loading=!1}render(){return this.loading?a`<div class="progress-line"></div>`:l}static get tag(){return"loading-indicator"}}customElements.define(Ys.tag,Ys);class Qs extends($(Lt(R(c)))){static get tag(){return"hax-tray"}constructor(){super(),this.tourName="hax",this.__winEvents={"can-redo-changed":"_redoChanged","can-undo-changed":"_undoChanged","hax-drop-focus-event":"_expandSettingsPanel"},this.t={structure:"Outline",structureTip:"View Page Structure",editSelected:"Edit selected",edit:"Edit",save:"Save",move:"Move",moveMenu:"Toggles Menu Aligmnent",menuAlignment:"Menu Alignment",menuLeft:"Move",menuRight:"Move",menuPosition:"Menu position",changeSideVisually:"Change which side of the screen the menu is affixed to visually.",expand:"Expand",collapse:"Collapse",menuSize:"Menu size",menuSizeDescription:"Expand or collapse the menu visually.",takeATour:"Help",settings:"Settings",source:"Source",undo:"Undo",redo:"Redo",media:"Media",blocks:"Blocks",cancel:"Cancel",cancelWithoutSaving:"Cancel without saving",configure:"Configure",advanced:"Advanced",layout:"Layout",alignment:"Alignment",left:"Left",center:"Center",right:"Right",search:"Search",templates:"Templates",width:"Width"},this.registerLocalization({context:this,namespace:"hax",updateCallback:"_updateTrayDetail"}),this._initial=!0,this.activeValue={settings:{layout:{__position:"hax-align-left",__scale:100},configure:{},advanced:{}}},this.collapsed=!0,this.activeTab="item-0",this.activeSchema=[],this.canUndo=!1,this.canRedo=!1,this.trayDetail="content-edit",this.activeTagName="",this.traySizeIcon="hax:arrow-expand-right",this.__setup=!1,setTimeout((()=>{Promise.resolve().then((function(){return As})),Promise.resolve().then((function(){return Os})),this.addEventListener("hax-tray-button-click",this._processTrayEvent.bind(this))}),0),u((()=>{this.activeGizmo=m(p.activeGizmo)})),u((()=>{this.activeNode=m(p.activeNode)})),u((()=>{this.elementAlign=m(p.elementAlign)})),u((()=>{this.tourOpened=m(p.tourOpened)})),u((()=>{this.appStoreLoaded=m(p.appStoreLoaded)})),u((()=>{this.globalPreferences=m(p.globalPreferences),this.haxUiTheme=(this.globalPreferences||{}).haxUiTheme||"hax",document.body.setAttribute("hax-ui-theme",this.haxUiTheme)})),u((()=>{this.editMode=m(p.editMode)}))}_expandSettingsPanel(t){this.shadowRoot.querySelector("#content-edit").click()}_redoChanged(t){this.canRedo=t.detail.value}_undoChanged(t){this.canUndo=t.detail.value}static get styles(){return[...super.styles||[],...qt,...Vt,s`:host{z-index:var(--hax-ui-focus-z-index - 1);top:0;font-family:var(--hax-ui-font-family);font-size:var(--hax-ui-font-size);color:var(--hax-ui-color);transition:0s color linear 0s}:host(:focus-within),:host(:hover){z-index:var(--hax-ui-focus-z-index)}.wrapper{position:fixed;display:none;align-items:stretch;flex-direction:row-reverse;opacity:0;visibility:visible;pointer-events:none;overflow:hidden;top:0;bottom:0;width:var(--hax-tray-width);height:100vh;max-height:100vh;transition:.2s opacity ease-in-out 0s;z-index:var(--hax-ui-focus-z-index)}:host([element-align=left]) .wrapper{left:-1000px;flex-direction:row}:host([edit-mode]) .wrapper{opacity:1;visibility:visible;pointer-events:all;display:flex}:host([edit-mode][element-align=left]) .wrapper{left:0}:host([edit-mode][element-align=right]) .wrapper{right:0}:host([edit-mode][collapsed]) .wrapper{width:unset}:host([edit-mode]) .wrapper.full-panel{width:unset;left:0;right:0}:host([edit-mode]) .wrapper.full-panel .detail{max-width:unset}#menubar{display:inline-flex;flex-direction:column;align-items:stretch;width:var(--hax-tray-menubar-min-width);overflow:visible;flex:0 0 auto;z-index:6;background-color:var(--hax-ui-background-color)}:host([collapsed]) #menubar{width:unset}#menubar>*{background-color:var(--hax-ui-background-color)}#menubar>::part(button){padding:var(--hax-ui-spacing-xs)}#menubar>::part(label){opacity:0;margin:0;width:0%;font-size:10px;padding:0;visibility:hidden;overflow:hidden;display:inline-block;text-align:left;transition:.2s width ease-in-out 0s,.2s margin ease-in-out 0s,.2s padding ease-in-out 0s,0s opacity linear .2s,0s visibility linear .2s}:host([collapsed]) #menubar>::part(label){opacity:1;width:100%;visibility:visible;padding:0 var(--hax-ui-spacing-sm);overflow:unset;transition:.2s width ease-in-out 0s,.2s margin ease-in-out 0s,.2s padding ease-in-out 0s,0s opacity linear 0s,0s visibility linear 0s,0s overflow linear .2s}loading-indicator{--loading-indicator-background-color:var(
            --simple-colors-default-theme-accent-2,
            grey
          );--loading-indicator-color:var(
            --simple-colors-default-theme-accent-10,
            black
          )}#tray-detail,.detail{flex:1 1 auto;display:flex;flex-direction:column;align-items:stretch}.detail{opacity:1;visibility:visible;pointer-events:all;transition:.2s opacity ease-in-out 0s,.2s width ease-in-out 0s,.2s visibility ease-in-out 0s,0s border linear;border:1px solid var(--hax-ui-border-color);background-color:var(--hax-ui-background-color);transition:.2s width ease-in-out 0s;max-height:100vh;max-width:calc(var(--hax-tray-width) - var(--hax-tray-menubar-min-width));overflow-x:auto}:host([collapsed]) .detail{width:0;overflow:hidden;opacity:0;visibility:hidden;pointer-events:none;max-height:100vh;overflow-y:auto}#tray-detail{width:auto;padding:0 var(--hax-ui-spacing) var(--hax-ui-spacing);overflow-y:auto}#haxcancelbutton::part(dropdown-icon){display:none}.tray-detail-titlebar{background-color:var(--hax-ui-color-accent);padding:var(--hax-ui-spacing-sm) var(--hax-ui-spacing);margin:0 calc(0px - var(--hax-ui-spacing)) var(--hax-ui-spacing);display:flex;align-items:center;justify-content:space-between;height:var(--simple-modal-titlebar-height,unset);line-height:var(--simple-modal-titlebar-line-height,unset);position:sticky;z-index:2;top:0}.tray-detail-titlebar h4{flex:1 1 auto;font-size:var(--hax-ui-font-size);font-family:var(--hax-ui-font-family)}#toggle-tray-size{flex:0 0 auto}hax-app-browser,hax-gizmo-browser,hax-tray-button{transition:.2s all ease-in-out;transition:0s color linear!important;transition:0s background-color linear!important;transition:0s border-color linear!important;visibility:visible}hax-app-browser:not(:defined),hax-gizmo-browser:not(:defined),hax-tray-button:not(:defined){visibility:hidden}hax-tray-upload{flex:0 0 auto}[hidden]{display:none}:host([element-align=right]) #button{right:0}:host([element-align=left]) #button{left:0}#button{position:fixed;top:0;visibility:visible;margin:var(--hax-ui-spacing-xs)}:host([edit-mode]) #button{visibility:hidden;opacity:0}#button:hover{opacity:1}@media screen and (max-width:800px){:host{width:100%;z-index:calc(var(--hax-ui-focus-z-index) + 3)}.wrapper{width:unset;top:-1000px;left:0;right:0;flex-direction:column}:host([edit-mode]) .wrapper{top:0}:host([collapsed]) .wrapper{height:var(--hax-tray-menubar-min-height);overflow-y:visible}:host([element-align=left]) .wrapper{left:-1000px;flex-direction:column}#menubar{position:sticky;flex-direction:row;left:0;top:0;height:auto;flex:0 0 auto;width:100%}#menubar>*{flex:1 0 auto;min-width:var(--hax-tray-menubar-min-width)}#menubar>::part(button){min-width:var(--hax-tray-menubar-min-width);justify-content:space-around}#menubar>::part(label){display:none}#haxMenuAlign{display:none}.detail{width:100%;position:relative;flex:1 1 100%}:host([collapsed]) .detail{flex:0 0 0px}}@media screen and (max-width:600px){:host([edit-mode]) .hide-small{display:none}}`]}get trayStatus(){let t=this.collapsed?"collapsed":"view-source"==this.trayDetail?"full-panel":"side-panel";return p.trayStatus=t,p.trayDetail=this.trayDetail,t}render(){return a` ${this.panelOpsTemplate} <div class="wrapper ${this.trayStatus}"> ${this.menuToolbarTemplate} <div class="detail"> <loading-indicator ?loading="${!this.appStoreLoaded}"></loading-indicator> ${this.trayDetailTemplate} </div> </div> `}get panelOpsTemplate(){return this.hidePanelOps?"":a` <hax-tray-button large voice-command="edit page" .data-opened="${this.editMode}" @click="${this._clickEditButton}" icon="create" id="button" feature show-text-label show-tooltip label="${this.editMode?this.t.save:this.t.edit}"></hax-tray-button> `}get toolbarsTemplate(){return a`${this.opsToolbarTemplate}${this.trayToolbarTemplate}`}get menuToolbarTemplate(){return a` <div id="menubar" class="collapse-menu"> ${this.saveButtons} ${this.doButtons} ${this.contentButtons} <slot name="tray-buttons-pre"></slot> ${this.moreButtons}${this.menuButtons} </div>`}get menuButtons(){return a` <hax-tray-button show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}" id="haxMenuAlign" event-name="toggle-element-align" icon="arrow-${"left"==this.elementAlign?"forward":"back"}" label="${"left"==this.elementAlign?this.t.menuRight:this.t.menuLeft}" index="${"left"==this.elementAlign?"1":"0"}" tooltip="${this.t.moveMenu} ${"left"==this.elementAlign?this.t.right:this.t.left}"> </hax-tray-button> `}get saveButtons(){return this.hidePanelOps?"":a` <hax-tray-button @click="${this._clickSaveButton}" icon="save" icon-position="left" id="haxsavebutton" label="${this.editMode?this.t.save:this.t.edit}" event-name="save" voice-command="save page" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"></hax-tray-button> <hax-tray-button icon="cancel" id="haxcancelbutton" label="${this.t.cancel}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"></hax-tray-button> `}get doButtons(){return a` <hax-tray-button icon="icons:undo" ?disabled="${!this.canUndo}" label="${this.t.undo}" event-name="undo" voice-command="undo" data-simple-tour-stop data-stop-title="label" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div slot="tour" data-stop-content> Undo the previous operation in the content, whether typing or adding a widget. </div> </hax-tray-button> <hax-tray-button icon="icons:redo" ?disabled="${!this.canRedo}" label="${this.t.redo}" event-name="redo" voice-command="redo" data-simple-tour-stop data-stop-title="label" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div slot="tour" data-stop-content> Redo the last action that you hit Undo on. </div> </hax-tray-button>`}get contentButtons(){return a` <hax-tray-button event-name="content-add" icon="add-box" id="content-add" label="${this.t.blocks}" voice-command="select blocks (menu)" data-simple-tour-stop data-stop-title="label" controls="tray-detail" toggles ?toggled="${!this.collapsed&&"content-add"===this.trayDetail}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div slot="tour" data-stop-content> When you want to add any content to the page from text, to images, to anything more advanced; you can always find items to add under the Add content menu. Click to expand, then either drag and drop items into the page or click and have them placed near whatever you are actively working on. </div> </hax-tray-button> <hax-tray-button event-name="media-add" icon="image:collections" id="media-add" label="${this.t.media}" voice-command="select media (menu)" data-simple-tour-stop data-stop-title="label" controls="tray-detail" toggles ?toggled="${!this.collapsed&&"media-add"===this.trayDetail}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div slot="tour" data-stop-content> Search for media and content anywhere that your copy of HAX has access to. Pick what to search, perform the search and then click or drag the item into the contnet. </div> </hax-tray-button> <hax-tray-button event-name="content-edit" icon="build" id="content-edit" label="${this.t.edit}" ?disabled="${!this.activeTagName||""==this.activeTagName||!this.activeNode||!this.activeNode.tagName}" voice-command="(modify)(configure)(edit) selected" data-simple-tour-stop data-stop-title="label" controls="tray-detail" tooltip="${this.t.editSelected} ${this.activeTagName}" toggles ?toggled="${!this.collapsed&&"content-edit"===this.trayDetail}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div slot="tour" data-stop-content> When you want to add any content to the page from text, to images, to anything more advanced; you can always find items to add under the Add content menu. Click to expand, then either drag and drop items into the page or click and have them placed near whatever you are actively working on. </div> </hax-tray-button> <hax-tray-button event-name="content-map" icon="icons:toc" id="content-map" label="${this.t.structure}" voice-command="select structure (menu)" data-simple-tour-stop data-stop-title="label" controls="tray-detail" toggles ?toggled="${!this.collapsed&&"content-map"===this.trayDetail}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div data-stop-content> This is a simple list of all the block areas of the page that are clickable to jump through items quickly as well as review some simple overview stats. </div> </hax-tray-button>`}get moreButtons(){return a`<hax-tray-button id="exportbtn" icon="code" label="${this.t.source}" event-name="view-source" voice-command="view (page) source" data-simple-tour-stop data-stop-title="label" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div data-stop-content> Every change you make in HAX is ultimately writing HTML. Know HTML? Awesome, pop open the source view and make any changes you like. HTML is always behind the scenes ensuring that content is portable, well formatted and easy to read. </div> </hax-tray-button> <hax-tray-button ?hidden="${this.hidePreferencesButton}" id="advanced-settings" event-name="advanced-settings" icon="settings" label="${this.t.settings}" voice-command="select settings (menu)" data-simple-tour-stop data-stop-title="label" controls="tray-detail" toggles ?toggled="${!this.collapsed&&"advanced-settings"===this.trayDetail}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"> <div data-stop-content> Some advanced options for developers and experimental purposes. </div> </hax-tray-button> <hax-tray-button event-name="${this.tourOpened?"stop-tour":"start-tour"}" icon="help" label="${this.t.takeATour}" voice-command="start tour" toggles ?toggled="${!this.collapsed&&this.tourOpened}" icon-position="left" show-text-label show-tooltip align-horizontal="${this.collapsed?"left":"center"}"></hax-tray-button> `}get trayDetailTemplate(){return a` <div id="tray-detail" aria-live="polite" aria-disabled="${this.collapsed?"true":"false"}" tabindex="${this.collapsed?"-1":"0"}" selected-detail="${this.trayDetail}"> <div class="tray-detail-titlebar"> <h4> ${this.trayLabel||`${this.t.editSelected} ${this.activeTagName}`} </h4> <hax-tray-button voice-command="collapse menu" id="toggle-tray-size" event-name="toggle-tray-size" icon="close" label="Close"> </hax-tray-button> </div> ${this.viewSourceTemplate} ${this.advancedSettingsTemplate} ${this.contentMapTemplate} ${this.contentEditTemplate} ${this.contentAddTemplate} ${this.mediaTemplate} </div>`}get viewSourceTemplate(){return a` <hax-view-source id="view-source" ?hidden="${"view-source"!==this.trayDetail}"></hax-view-source>`}get advancedSettingsTemplate(){return a` <hax-preferences-dialog id="advanced-settings" ?hidden="${"advanced-settings"!==this.trayDetail}"></hax-preferences-dialog>`}get contentEditTemplate(){return a` <simple-fields id="settingsform" disable-responsive code-theme="${"system"==this.haxUiTheme?"auto":"haxdark"==this.haxUiTheme?"vs-dark":"vs"}" ?hidden="${"content-edit"!==this.trayDetail}"></simple-fields>`}get contentAddTemplate(){let t="content-add"!==this.trayDetail;return a` <hax-gizmo-browser id="gizmobrowser" ?hidden="${t}"></hax-gizmo-browser> <h5 ?hidden="${t}">${this.t.templates}</h5> <hax-stax-browser id="staxbrowser" ?hidden="${t}"></hax-stax-browser>`}get contentMapTemplate(){return a`<hax-map controls="content-map" ?hidden="${"content-map"!==this.trayDetail}"></hax-map>`}get mediaTemplate(){let t="media-add"!==this.trayDetail;return a` <hax-tray-upload ?hidden="${t}"></hax-tray-upload> <h5 ?hidden="${t}">${this.t.search}</h5> <hax-app-browser id="appbrowser" ?hidden="${t}"></hax-app-browser>`}__simpleFieldsClick(t){try{this.activeTab=this.shadowRoot.querySelector("#settingsform").shadowRoot.querySelector("simple-fields").activeTab}catch(t){this.activeTab="item-0"}}_refreshAddData(){this.shadowRoot.querySelector("#gizmobrowser").resetList(m(p.gizmoList)),this.shadowRoot.querySelector("#staxbrowser").staxList=[...m(p.staxList)]}_processTrayEvent(t){var e=S(t)[0],i=t.detail.eventName;switch(this.collapsed||this.trayDetail!==i||(i="toggle-tray-size"),i){case"insert-stax":this.dispatchEvent(new CustomEvent("hax-insert-content-array",{bubbles:!0,cancelable:!0,composed:!0,detail:e.stax}));break;case"insert-tag":let i,o={tag:t.detail.value},a=p.haxSchemaFromTag(t.detail.value);if(e.getAttribute("data-demo-schema")&&a&&a.demoSchema&&a.demoSchema[0])i=a.demoSchema[0];else{let t=JSON.parse(e.getAttribute("event-properties")),a=e.getAttribute("event-content");null==t&&(t={}),null==a&&(a=""),i=p.haxElementPrototype(o,t,a)}this.dispatchEvent(new CustomEvent("hax-insert-content",{bubbles:!0,cancelable:!0,composed:!0,detail:i}));break;case"advanced-settings":case"content-map":case"content-edit":case"content-add":case"media-add":this.trayDetail=t.detail.eventName,this.collapsed=!1;break;case"toggle-element-align":let s=["left","right"],n=s[t.detail.index]?s[t.detail.index]:"right";t.detail.index>1&&(this.collapsed=!0),this.style.setProperty("--hax-tray-custom-y",null),this.style.setProperty("--hax-tray-custom-x",null),p.elementAlign=n,localStorage.setItem("hax-tray-elementAlign",n);break;case"toggle-tray-size":this.collapsed=!this.collapsed;break;case"start-tour":this.startTour();break;case"stop-tour":window.SimpleTourManager.requestAvailability().stopTour("hax");break;case"undo":p.activeHaxBody.undo();break;case"redo":p.activeHaxBody.redo();break;case"view-source":this.trayDetail=t.detail.eventName,p.haxViewSource.openSource(),this.collapsed=!1}}startTour(){this.__tour=this.__tour||window.SimpleTourManager.requestAvailability(),window.addEventListener("tour-changed",this._handleTourChanged.bind(this)),this.__tour.startTour("hax")}stopTour(){this.__tour=this.__tour||window.SimpleTourManager.requestAvailability(),this.__tour.stopTour("hax"),window.removeEventListener("tour-changed",this._handleTourChanged.bind(this))}_handleTourChanged(t){this.tourOpened=t.detail.active==this.tourName}static get properties(){return{...super.properties,offsetMargin:{type:String,attribute:"offset-margin"},collapsed:{type:Boolean,reflect:!0},traySizeIcon:{type:String},appStoreLoaded:{type:Boolean},activeValue:{type:Object},activeSchema:{type:Object},elementAlign:{type:String,reflect:!0,attribute:"element-align"},light:{type:Boolean,reflect:!0},canUndo:{type:Boolean,attribute:"can-undo"},canRedo:{type:Boolean,attribute:"can-redo"},haxUiTheme:{type:String},hidePreferencesButton:{type:Boolean,reflect:!0,attribute:"hide-preferences-button"},hidePanelOps:{type:Boolean,reflect:!0,attribute:"hide-panel-ops"},globalPreferences:{type:Object},activeNode:{type:Object},activeTagName:{type:String},activeGizmo:{type:Object},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},trayDetail:{type:String,reflect:!0,attribute:"tray-detail"},trayLabel:{type:String},tourOpened:{type:String},__tour:{type:Object}}}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.__setup||(this.shadowRoot.querySelector("#settingsform").schematizer=j,this.shadowRoot.querySelector("#settingsform").elementizer=V,setTimeout((()=>{this.shadowRoot.querySelector(".wrapper").style.margin=this.offsetMargin}),1e3),this.__setup=!0,this.shadowRoot.querySelector("#settingsform").addEventListener("click",this.__simpleFieldsClick.bind(this)),this.shadowRoot.querySelector("#settingsform").addEventListener("value-changed",this.__valueChangedEvent.bind(this)),this.dispatchEvent(new CustomEvent("hax-register-core-piece",{bubbles:!0,cancelable:!0,composed:!0,detail:{piece:"haxTray",object:this}})),this.dispatchEvent(new CustomEvent("hax-add-voice-command",{bubbles:!0,composed:!0,cancelable:!1,detail:{command:":name: (collapse)(open)(expand)(toggle) Blocks (menu)",context:this.shadowRoot.querySelector("#content-add"),callback:"click"}})),this.dispatchEvent(new CustomEvent("hax-add-voice-command",{bubbles:!0,composed:!0,cancelable:!1,detail:{command:":name: (collapse)(open)(expand)(toggle) element settings (menu)",context:this.shadowRoot.querySelector("#advanced-settings"),callback:"click"}})),this.dispatchEvent(new CustomEvent("hax-add-voice-command",{bubbles:!0,composed:!0,cancelable:!1,detail:{command:":name: (collapse)(open)(expand)(toggle) search (menu)",context:this.shadowRoot.querySelector("#media-add"),callback:"click"}})))}async updated(t){super.updated&&super.updated(t),t.forEach((async(t,e)=>{"editMode"==e&&(this.editMode&&await p.refreshActiveNodeForm(),this._editModeChanged(this.editMode)),"offsetMargin"==e&&setTimeout((()=>{this.shadowRoot.querySelector(".wrapper").style.margin=this.offsetMargin}),0),"trayDetail"==e&&this._updateTrayDetail(this[e]),"collapsed"==e&&this[e]&&this._editModeChanged(this.editMode),"activeGizmo"==e&&"view-source"!==this.trayDetail&&(this.activeGizmo?(this.activeTagName=this.activeGizmo.title,t&&"content-edit"===this.trayDetail||"content-map"===this.trayDetail||(this.trayDetail="content-edit")):(this.activeTagName="",["content-add","content-map"].includes(this.trayDetail)||(this.trayDetail="content-add"))),"activeNode"==e&&(this.activeNode&&this.activeNode.tagName?this.editMode&&await p.refreshActiveNodeForm():this.activeTagName="")}))}_setupForm(){let t=this.activeNode;if(this._initial=!0,this.activeValue={settings:{layout:{__position:"hax-align-left",__scale:100},configure:{},advanced:{}}},this.shadowRoot.querySelector("#settingsform").fields=[],this.shadowRoot.querySelector("#settingsform").value={},t&&t.tagName&&p.elementList[t.tagName.toLowerCase()]){let i={...p.elementList[t.tagName.toLowerCase()]};for(var e in void 0===i.gizmo.title?this.humanName=t.tagName.replace("-"," ").toLowerCase():this.humanName=i.gizmo.title,this.activeHaxElement.properties)i.settings.configure.forEach((t=>{t.property===e&&(this.activeValue.settings.configure[e]=this.activeHaxElement.properties[e]),t.attribute===e&&(this.activeValue.settings.configure[e]=this.activeHaxElement.properties[e]),t.slot===e&&(this.activeValue.settings.configure[e]=this.activeHaxElement.properties[e])})),i.settings.advanced.forEach((t=>{t.property===e&&(this.activeValue.settings.advanced[e]=this.activeHaxElement.properties[e]),t.attribute===e&&(this.activeValue.settings.advanced[e]=this.activeHaxElement.properties[e]),t.slot===e&&(this.activeValue.settings.advanced[e]=this.activeHaxElement.properties[e])}));let o=document.createElement("div");o.innerHTML=this.activeHaxElement.content,o.childNodes.forEach((t=>{1===t.nodeType&&"undefined"!==t.innerHTML&&(i.settings.configure.forEach((e=>{e.slot===t.getAttribute("slot")?this.activeValue.settings.configure[e.slot]=t.innerHTML:""!=e.slot||null!=t.getAttribute("slot")&&"null"!=t.getAttribute("slot")||(this.activeValue.settings.configure[e.slot]=t.innerHTML)})),i.settings.advanced.forEach((e=>{e.slot===t.getAttribute("slot")?this.activeValue.settings.advanced[e.slot]=t.innerHTML:""!=e.slot||null!=t.getAttribute("slot")&&"null"!=t.getAttribute("slot")||(this.activeValue.settings.advanced[e.slot]=t.innerHTML)})))})),""!=t.style.width?this.activeValue.settings.layout.__scale=t.style.width.replace("%",""):this.activeValue.settings.layout.__scale=100,"block"==t.style.display&&"0px auto"==t.style.margin&&"right"==t.style.float?this.activeValue.settings.layout.__position="hax-align-right":"block"==t.style.display&&"0px auto"==t.style.margin?this.activeValue.settings.layout.__position="hax-align-center":this.activeValue.settings.layout.__position="hax-align-left",this.activeHaxElement.properties.__scale=this.activeValue.settings.layout.__scale,this.activeHaxElement.properties.__position=this.activeValue.settings.layout.__position;let a=!!i.type&&"grid"===i.type;i.settings.configure.forEach(((t,e)=>{i.settings.configure[e].attribute&&(i.settings.configure[e].property=i.settings.configure[e].attribute),i.settings.configure[e].slot&&(i.settings.configure[e].property=i.settings.configure[e].slot)})),i.settings.advanced.forEach(((t,e)=>{i.settings.advanced[e].attribute&&(i.settings.advanced[e].property=i.settings.advanced[e].attribute),i.settings.advanced[e].slot&&(i.settings.advanced[e].property=i.settings.advanced[e].slot)})),i.settings.layout=[],i.canPosition&&i.settings.layout.push({property:"__position",title:this.t.alignment,inputMethod:"select",value:this.activeValue.settings.layout.__position,options:{"hax-align-left":this.t.left,"hax-align-center":this.t.center,"hax-align-right":this.t.right}}),i.canScale&&i.settings.layout.push({property:"__scale",title:this.t.width,inputMethod:"slider",value:this.activeValue.settings.layout.__scale,min:i.canScale.min?i.canScale.min:12.5,max:i.canScale.max?i.canScale.max:100,step:i.canScale.step?i.canScale.step:12.5}),this.activeSchema=[{property:"settings",inputMethod:"tabs",properties:[]}];let s=(t,e,i=[])=>{let o=a?i.filter((t=>!(""===t.slot||t.slot||t.attribute&&"slot"==t.attribute))):i;this.activeSchema[0].properties.push({property:t,title:e,properties:o.length>0?o:void 0,disabled:o.length<1})};s("configure",this.t.configure,i.settings.configure),s("layout",this.t.layout,i.settings.layout),s("advanced",this.t.advanced,i.settings.advanced),this.__activePropSchema=i,this.shadowRoot.querySelector("#settingsform").fields=this.activeSchema,this.shadowRoot.querySelector("#settingsform").value=this.activeValue}}_toArray(t){return null==t?[]:Object.keys(t).map((function(e){return t[e]}))}updateMap(){this.shadowRoot&&this.shadowRoot.querySelector("hax-map")&&"content-map"==this.trayDetail&&this.shadowRoot.querySelector("hax-map").updateHAXMap()}_updateTrayDetail(t){"content-add"==t?(this.trayLabel=this.t.blocks,this._refreshAddData()):"media-add"==t?this.trayLabel=this.t.media:"content-map"==t?(this.trayLabel=this.t.structure,this.shadowRoot.querySelector("hax-map").updateHAXMap()):"advanced-settings"==t?(this.trayLabel=this.t.settings,this.shadowRoot.querySelector("hax-preferences-dialog").reloadPreferencesForm()):"content-edit"!=t||this.activeTagName&&""!=this.activeTagName&&this.activeNode&&this.activeNode.tagName?t&&""!=t?this.trayLabel=void 0:this.trayDetail="content-edit":this.trayDetail="content-add",this.requestUpdate()}__valueChangedEvent(t){if(this.editMode&&t.detail.value&&t.detail.value.settings){let i=t.detail.value.settings,o=t.detail.value.type&&"grid"==t.detail.value.type,a={advanced:"advanced",configure:"configure",layout:"layout"};var e;clearTimeout(this.__contextPropDebounce),this.__contextPropDebounce=setTimeout((()=>{for(let r in a)for(let a in i[r])if(e=!1,null==i[r][a]||i[r][a].readOnly)this.activeNode.removeAttribute(F(a));else{if("prefix"===a&&""!=i[r][a])this.activeNode.setAttribute("prefix",i[r][a]),e=!0;else if("innerText"===a)this.activeNode.innerText=i[r][a],e=!0;else if("layout"===r&&"__position"===a)e=!0,this._initial||(clearTimeout(this.__contextValueDebounce),this.__contextValueDebounce=setTimeout((()=>{this.dispatchEvent(new CustomEvent("hax-context-item-selected",{bubbles:!0,composed:!0,detail:{eventName:i[r][a],value:i[r][a]}}))}),50));else if("layout"===r&&"__scale"===a)e=!0,this._initial||(clearTimeout(this.__contextSizeDebounce),this.__contextSizeDebounce=setTimeout((()=>{this.dispatchEvent(new CustomEvent("hax-context-item-selected",{bubbles:!0,composed:!0,detail:{eventName:"hax-size-change",value:i[r][a]}}))}),50));else if(this.activeNode.hasOwnProperty(a)||this.activeNode.properties&&this.activeNode.properties.hasOwnProperty(a)||null!=i[r][a]&&i[r][a].constructor===Array||null!=i[r][a]&&i[r][a].constructor===Object)try{i[r][a].constructor===Array?this.activeNode[a]=[...i[r][a]]:i[r][a].constructor===Object?this.activeNode[a]={...i[r][a]}:this.activeNode[a]=i[r][a],e=!0}catch(t){console.warn(t),e=!1}else if(!o)for(var t in this.__activePropSchema.settings[r])if(this.__activePropSchema.settings[r][t].slot==a){let o="span";if(this.__activePropSchema.settings[r][t].slotWrapper)o=this.__activePropSchema.settings[r][t].slotWrapper;else if(this.__activePropSchema.settings[r][t].allowedSlotWrappers&&this.__activePropSchema.settings[r][t].allowedSlotWrappers[0])o=this.__activePropSchema.settings[r][t].allowedSlotWrappers[0];else if("code-editor"===this.activeNode.tagName.toLowerCase())o="template";else{let e=["span","div","p"],i=this.__activePropSchema.settings[r][t].excludedSlotWrappers||[];i&&(e=e.filter((t=>!i.includes(t))))}var s=document.createElement(o);if(this.__activePropSchema.settings[r][t].slotAttributes)for(var n in this.__activePropSchema.settings[r][t].slotAttributes)s.setAttribute(n,this.__activePropSchema.settings[r][t].slotAttributes[n]);""!==this.__activePropSchema.settings[r][t].slot&&(s.slot=this.__activePropSchema.settings[r][t].slot),s.innerHTML=i[r][a];const l=s.cloneNode(!0);e=!0,p.isTextElement(this.activeNode)?this.activeNode.innerHTML=s.innerHTML:(L(this.activeNode,this.__activePropSchema.settings[r][t].slot),this.activeNode.appendChild(l))}if(!e)try{!0===i[r][a]?this.activeNode.setAttribute(F(a),F(a)):!1===i[r][a]||""===i[r][a]?this.activeNode.removeAttribute(F(a)):this.activeNode.setAttribute(F(a),i[r][a])}catch(t){console.warn(t),console.warn(a,i[r][a])}}}),100)}setTimeout((()=>{this._initial&&(this._initial=!1)}),51)}_editModeChanged(t){!this.hidePanelOps&&this.shadowRoot&&this.shadowRoot.querySelector("#button")&&(this.shadowRoot.querySelector("#button").icon=t?"save":"create")}_clickEditButton(t){p.editMode=!0,window.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}))}_clickSaveButton(t){p.editMode=!1,this.dispatchEvent(new CustomEvent("hax-save",{bubbles:!0,cancelable:!0,composed:!0,detail:t.detail})),window.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}))}}window.customElements.define(Qs.tag,Qs);class Js extends(b(c)){static get styles(){return[s`:host{display:none}`]}render(){return a`<slot></slot>`}static get tag(){return"hax-autoloader"}static get properties(){return{...super.properties,processedList:{type:Object}}}constructor(){super(),this.processedList={}}firstUpdated(t){this.dispatchEvent(new CustomEvent("hax-register-core-piece",{bubbles:!0,cancelable:!0,composed:!0,detail:{piece:"haxAutoloader",object:this}}))}connectedCallback(){super.connectedCallback(),this.observer=new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{this.processNewElements(t)}))}))})),this.observer.observe(this,{childList:!0})}disconnectedCallback(){this.observer.disconnect(),super.disconnectedCallback()}processNewElements(t){let e=this.childNodes;for(var i=0;i<e.length;i++){if(void 0!==e[i].tagName&&void 0===this.processedList[e[i].tagName])try{let a=e[i].tagName.toLowerCase();if("function"==typeof e[i].getHaxProperties){const t=new CustomEvent("hax-register-properties",{bubbles:!0,composed:!0,cancelable:!0,detail:{tag:a,properties:e[i].getHaxProperties(),polymer:!0}});context.dispatchEvent(t)}else if("function"==typeof e[i].HAXWiring){const t=new CustomEvent("hax-register-properties",{bubbles:!0,cancelable:!0,composed:!0,detail:{tag:a,properties:e[i].HAXWiring.getHaxProperties(),polymer:!1}});context.dispatchEvent(t)}else if(window.customElements.get(a)){let e=window.customElements.get(a);if(e)if("function"==typeof e.getHaxProperties)this.setHaxProperties(e.getHaxProperties(),a);else if("function"==typeof e.HAXWiring)this.setHaxProperties(e.HAXWiring.getHaxProperties(),a);else if(e.haxProperties)this.setHaxProperties(e.haxProperties,a);else{console.warn(`${a} didn't have hax wiring so HAX guessed as best it can. See https://haxtheweb.org/documentation-1/hax-development/hax-schema for documentation on adding custom wiring for better UX.`);try{let t,e=new f,s=e.prototypeHaxProperties();if(s.gizmo.title=a,s.gizmo.handles=[],s.settings.configure=[],s.settings.advanced=[],s=e.standardAdvancedProps(s),s.saveOptions={},s.demoSchema=[],customElements.get(a)&&(t=customElements.get(a).properties),t){for(var o in t)if(t[o].type&&t[o].type.name)switch(t[o].type.name){case"String":s.settings.configure.push({property:o,title:o,description:"",inputMethod:"textfield"});break;case"Number":s.settings.configure.push({property:o,title:o,description:"",inputMethod:"number"});break;case"Boolean":s.settings.configure.push({property:o,title:o,description:"",inputMethod:"boolean"})}}else{let t=document.createElement(a).getAttributeNames();for(i=0;i<t.length;i++)s.settings.configure.push({attribute:t[i],title:t[i],description:"",inputMethod:"textfield"})}e.readyToFireHAXSchema(a,s,this)}catch(t){console.warn("HAX failed to create wiring that worked")}}else console.error(`${a} was not a valid custom element yet a load was attempted`)}else{let t=D(p,`__appStoreData.autoloader.${a}.import`,D(p,`__appStoreData.autoloader.${a}`,`@lrnwebcomponents/${a}/${a}.js`));import(`${new URL("./../../../",import.meta.url).href}${t}`).then((t=>{let e=window.customElements.get(a);e?"function"==typeof e.getHaxProperties?this.setHaxProperties(e.getHaxProperties(),a):"function"==typeof e.HAXWiring?this.setHaxProperties(e.HAXWiring.getHaxProperties(),a):e.haxProperties?this.setHaxProperties(e.haxProperties,a):D(p,`__appStoreData.autoloader.${a}.haxProperties`,!1)?this.setHaxProperties(D(p,`__appStoreData.autoloader.${a}.haxProperties`,!1),a):console.warn(`${a} didn't have hax wiring in the end`):console.error(`${a} was not a valid custom element yet a load was attempted`)})).catch((t=>{console.warn(t)}))}this.processedList[a]=a}catch(t){}e[i].remove()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ks,Zs;window.customElements.define(Js.tag,Js);class tn extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=i(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return o}}tn.finalized=!0,tn._$litElement$=!0,null===(Ks=globalThis.litElementHydrateSupport)||void 0===Ks||Ks.call(globalThis,{LitElement:tn});const en=globalThis.litElementPolyfillSupport;function on(t,e,i,o=20,a=0){let s=[];if(a>=o)return s;const n=t=>{const s=t.assignedNodes().filter((t=>1===t.nodeType));return s.length>0?on(s[0].parentElement,e,i,o,a+1):[]},r=Array.from(t.children||[]);for(const t of r)e(t)||(i(t)&&s.push(t),null!=t.shadowRoot?s.push(...on(t.shadowRoot,e,i,o,a+1)):"SLOT"===t.tagName?s.push(...n(t)):s.push(...on(t,e,i,o,a+1)));return s}function an(t){return t.hasAttribute("hidden")||t.hasAttribute("aria-hidden")&&"false"!==t.getAttribute("aria-hidden")||"none"===t.style.display||"0"===t.style.opacity||"hidden"===t.style.visibility||"collapse"===t.style.visibility}function sn(t){return"-1"!==t.getAttribute("tabindex")&&!an(t)&&!function(t){return t.hasAttribute("disabled")||t.hasAttribute("aria-disabled")&&"false"!==t.getAttribute("aria-disabled")}(t)&&(t.hasAttribute("tabindex")||(t instanceof HTMLAnchorElement||t instanceof HTMLAreaElement)&&t.hasAttribute("href")||t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||t instanceof HTMLIFrameElement)}null==en||en({LitElement:tn}),(null!==(Zs=globalThis.litElementVersions)&&void 0!==Zs?Zs:globalThis.litElementVersions=[]).push("3.0.1");const nn=new Map;const rn=document.createElement("template");rn.innerHTML='\n\t<div id="start"></div>\n\t<div id="backup"></div>\n\t<slot></slot>\n\t<div id="end"></div>\n';class ln extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this._focused=!1;const t=this.attachShadow({mode:"open"});t.appendChild(rn.content.cloneNode(!0)),this.$backup=t.querySelector("#backup"),this.$start=t.querySelector("#start"),this.$end=t.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(t){t?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this._focused}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return on(this,an,sn)}trapFocus(t){if(this.inactive)return;let e=this.getFocusableElements();e.length>0?(t?e[e.length-1].focus():e[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(t){!function(t,e,i){const o=nn.get(i);null!=o&&window.clearTimeout(o),nn.set(i,window.setTimeout((()=>{t(),nn.delete(i)}),e))}((()=>{this.focused!==t&&(this._focused=t,this.render())}),0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}function dn(t){return Number(t.getAttribute("data-dialog-count"))||0}function cn(t,e){t.setAttribute("data-dialog-count",e.toString())}function hn(t=document.activeElement){return null!=t&&null!=t.shadowRoot&&null!=t.shadowRoot.activeElement?hn(t.shadowRoot.activeElement):t}window.customElements.define("focus-trap",ln);const un=document.createElement("template");un.innerHTML='\n  <style>*{box-sizing:border-box}:host{padding:var(--dialog-container-padding,5vw 24px);z-index:var(--dialog-z-index,12345678);outline:none}#backdrop,:host{position:fixed;top:0;left:0;bottom:0;right:0}:host,:host([center]) #dialog{overflow-x:var(--dialog-overflow-x,hidden);overflow-y:var(--dialog-overflow-y,auto);overscroll-behavior:contain;-webkit-overflow-scrolling:touch}:host([center]){display:flex;align-items:center;justify-content:center;overflow:hidden}:host([center]) #dialog{max-height:var(--dialog-max-height,100%)}:host(:not(:defined)),:host(:not([open])){display:none}#backdrop{background:var(--dialog-backdrop-bg,rgba(0,0,0,.6));animation:fadeIn var(--dialog-animation-duration,.1s) var(--dialog-animation-easing,ease-out);z-index:-1}#dialog{animation:scaleIn var(--dialog-animation-duration,.1s) var(--dialog-animation-easing,ease-out);border-radius:var(--dialog-border-radius,12px);box-shadow:var(--dialog-box-shadow,0 2px 10px -5px rgba(0,0,0,.6));max-width:var(--dialog-max-width,700px);width:var(--dialog-width,100%);padding:var(--dialog-padding,24px);max-height:var(--dialog-max-height,unset);height:var(--dialog-height,auto);color:var(--dialog-color,currentColor);background:var(--dialog-bg,#fff);z-index:1;position:relative;display:flex;flex-direction:column;margin:0 auto;border:none}::slotted(article),article{flex-grow:1;overflow-y:auto;-webkit-overflow-scrolling:touch}::slotted(footer),::slotted(header),footer,header{flex-shrink:0}@keyframes scaleIn{0%{transform:scale(.9) translateY(30px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}</style>\n  <div id="backdrop" part="backdrop"></div>\n  <focus-trap id="dialog" part="dialog">\n    <slot></slot>\n  </focus-trap>\n';class pn extends HTMLElement{constructor(){super(),this.$scrollContainer=document.documentElement,this.$previousActiveElement=null;const t=this.attachShadow({mode:"open"});t.appendChild(un.content.cloneNode(!0)),this.$dialog=t.querySelector("#dialog"),this.$backdrop=t.querySelector("#backdrop"),this.onBackdropClick=this.onBackdropClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.setAttribute("aria-modal","true"),this.$dialog.setAttribute("role","alertdialog")}static get observedAttributes(){return["open","center"]}get open(){return this.hasAttribute("open")}set open(t){t?this.setAttribute("open",""):this.removeAttribute("open")}get center(){return this.hasAttribute("center")}set center(t){t?this.setAttribute("center",""):this.removeAttribute("center")}connectedCallback(){this.$backdrop.addEventListener("click",this.onBackdropClick)}disconnectedCallback(){this.$backdrop.removeEventListener("click",this.onBackdropClick),this.open&&this.didClose()}show(){this.open=!0}close(t){this.result=t,this.open=!1}onBackdropClick(){this.assertClosing()&&this.close()}onKeyDown(t){if("Escape"===t.code)this.assertClosing()&&(this.close(),t.stopImmediatePropagation())}assertClosing(){return this.dispatchEvent(new CustomEvent("closing",{cancelable:!0}))}didOpen(){this.$previousActiveElement=hn(document.activeElement),requestAnimationFrame((()=>{this.$dialog.focusFirstElement()})),this.tabIndex=0,this.$scrollContainer.style.overflow="hidden",this.addEventListener("keydown",this.onKeyDown,{capture:!0,passive:!0}),cn(this.$scrollContainer,dn(this.$scrollContainer)+1),this.dispatchEvent(new CustomEvent("open"))}didClose(){this.removeEventListener("keydown",this.onKeyDown,{capture:!0}),cn(this.$scrollContainer,Math.max(0,dn(this.$scrollContainer)-1)),dn(this.$scrollContainer)<=0&&(this.$scrollContainer.style.overflow=""),this.tabIndex=-1,null!=this.$previousActiveElement&&(this.$previousActiveElement.focus(),this.$previousActiveElement=null),this.dispatchEvent(new CustomEvent("close",{detail:this.result}))}attributeChangedCallback(t,e,i){if("open"===t)this.open?this.didOpen():this.didClose()}}customElements.define("web-dialog",pn);
/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
const mn=["--simple-modal-resize","--simple-modal-width","--simple-modal-z-index","--simple-modal-height","--simple-modal-min-width","--simple-modal-min-height","--simple-modal-max-width","--simple-modal-max-height","--simple-modal-titlebar-color","--simple-modal-titlebar-height","--simple-modal-titlebar-line-height","--simple-modal-titlebar-background","--simple-modal-titlebar-padding","--simple-modal-header-color","--simple-modal-header-background","--simple-modal-header-padding","--simple-modal-content-container-color","--simple-modal-content-container-background","--simple-modal-content-padding","--simple-modal-buttons-color","--simple-modal-buttons-background","--simple-modal-buttons-padding","--simple-modal-button-color","--simple-modal-button-background"];class gn extends tn{static get styles(){return[s`:host{display:block}:host([hidden]){display:none}:host web-dialog ::slotted(*){font-size:14px}#titlebar{margin-top:0;padding:var(--simple-modal-titlebar-padding,0 16px);display:flex;align-items:center;justify-content:space-between;color:var(--simple-modal-titlebar-color,#444);background-color:var(--simple-modal-titlebar-background,#ddd);border-radius:0;height:var(--simple-modal-titlebar-height,unset);line-height:var(--simple-modal-titlebar-line-height,unset)}#headerbar{margin:0;padding:var(--simple-modal-header-padding,0 16px);color:var(--simple-modal-header-color,#222);background-color:var(--simple-modal-header-background,#ccc)}h2{margin-right:8px;padding:0;margin:0;flex:auto;font-size:18px;line-height:18px}#close{top:0;border:var(--simple-modal-titlebar-button-border,none);padding:var(--simple-modal-titlebar-button-padding,10px 0);min-width:unset;text-transform:none;color:var(--simple-modal-titlebar-color,#444);background-color:transparent}#close:focus{opacity:.7;outline:var(--simple-modal-titlebar-button-outline,2px dotted grey);outline-offset:var(--simple-modal-titlebar-button-outline-offset,2px)}#close simple-icon-lite{--simple-icon-height:var(--simple-modal-titlebar-icon-height, 16px);--simple-icon-width:var(--simple-modal-titlebar-icon-width, 16px);color:var(--simple-modal-titlebar-color,#444)}#simple-modal-content{flex-grow:1;padding:var(--simple-modal-content-padding,8px 16px);margin:0;color:var(--simple-modal-content-container-color,#222);background-color:var(--simple-modal-content-container-background,#fff)}.buttons{padding:0;padding:var(--simple-modal-buttons-padding,0);margin:0;color:var(--simple-modal-buttons-color,#00f);background-color:var(--simple-modal-buttons-background,#fff)}.buttons ::slotted(*){padding:0;margin:0;color:var(--simple-modal-button-color,--simple-modal-buttons-color);background-color:var(--simple-modal-button-background,--simple-modal-buttons-background)}web-dialog{--dialog-border-radius:var(--simple-modal-border-radius, 2px);z-index:var(--simple-modal-z-index,1)!important;padding:0}web-dialog::part(dialog){border:1px solid var(--simple-modal-border-color,#222);min-height:var(--simple-modal-min-height,unset);min-width:var(--simple-modal-min-width,unset);z-index:var(--simple-modal-z-index,1000);resize:var(--simple-modal-resize,unset);padding:0;--dialog-height:var(--simple-modal-height, auto);--dialog-width:var(--simple-modal-width, 75vw);--dialog-max-width:var(--simple-modal-max-width, 100vw);--dialog-max-height:var(--simple-modal-max-height, 100vh)}web-dialog.style-scope.simple-modal{display:none!important}web-dialog[open].style-scope.simple-modal{display:flex!important;position:fixed!important;margin:auto}:host([resize=horizontal]) web-dialog[open].style-scope.simple-modal,:host([resize=none]) web-dialog[open].style-scope.simple-modal{top:calc(50% - var(--simple-modal-height,auto)/ 2)}:host([resize=none]) web-dialog[open].style-scope.simple-modal,:host([resize=vertical]) web-dialog[open].style-scope.simple-modal{left:calc(50% - var(--simple-modal-width,75vw)/ 2)}`]}render(){return a`<web-dialog id="dialog" center role="dialog" part="dialog" aria-describedby="simple-modal-content" aria-label="${this._getAriaLabel(this.title)}" aria-labelledby="${this._getAriaLabelledby(this.title)}" aria-modal="true" ?open="${this.opened}" @open="${this.open}" @close="${this.close}"> <div id="titlebar" part="titlebar"> <h2 id="simple-modal-title" ?hidden="${!this.title}" part="title"> ${this.title} </h2> <div></div> <simple-icon-button-lite id="close" dark icon="${this.closeIcon}" @click="${this.close}" label="${this.closeLabel}" part="close"> </simple-icon-button-lite> </div> <div id="headerbar" part="headerbar"><slot name="header"></slot></div> <div id="simple-modal-content" part="content"> <slot name="content"></slot> </div> <slot name="custom" part="custom"></slot> <div class="buttons" part="buttons"> <slot name="buttons"></slot> </div> </web-dialog>`}static get properties(){return{...super.properties,title:{type:String},opened:{type:Boolean,reflect:!0},closeLabel:{attribute:"close-label",type:String},closeIcon:{type:String,attribute:"close-icon"},invokedBy:{type:Object},modal:{type:Boolean},mode:{type:String,reflect:!0}}}static get tag(){return"simple-modal"}constructor(){super(),this.title="",this.opened=!1,this.closeLabel="Close",this.closeIcon="close",this.modal=!1}updated(t){t.forEach(((t,e)=>{"opened"==e&&this._openedChanged(this[e])}))}connectedCallback(){super.connectedCallback(),setTimeout((()=>{window.addEventListener("simple-modal-hide",this.close.bind(this)),window.addEventListener("simple-modal-show",this.showEvent.bind(this))}),0)}disconnectedCallback(){window.removeEventListener("simple-modal-hide",this.close.bind(this)),window.removeEventListener("simple-modal-show",this.showEvent.bind(this)),super.disconnectedCallback()}showEvent(t){window.dispatchEvent(new CustomEvent("simple-toast-hide",{bubbles:!0,composed:!0,cancelable:!1,detail:!1})),this.opened?(this.innerHTML="",setTimeout((()=>{this.show(t.detail.title,t.detail.mode,t.detail.elements,t.detail.invokedBy,t.detail.id,t.detail.modalClass,t.detail.styles,t.detail.clone,t.detail.modal)}),0)):this.show(t.detail.title,t.detail.mode,t.detail.elements,t.detail.invokedBy,t.detail.id,t.detail.modalClass,t.detail.styles,t.detail.clone,t.detail.modal)}show(t,e,i,o,a=null,s=null,n=null,r=!1,l=!1){let d;this.invokedBy=o,this.modal=l,this.title=t,this.mode=e;let c=["header","content","buttons","custom"];for(var h in a?this.setAttribute("id",a):this.removeAttribute("id"),this.setAttribute("style",""),n&&mn.forEach((t=>{this.style.setProperty(t,n[t]||"inherit")})),s?this.setAttribute("class",s):this.removeAttribute("class"),c)i[c[h]]&&(d=r?i[c[h]].cloneNode(!0):i[c[h]],d.setAttribute("slot",c[h]),this.appendChild(d));this.opened=!0}close(){this.opened=!1,window.ShadyCSS&&!window.ShadyCSS.nativeShadow&&(this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.position="relative")}open(){this.opened=!0,window.ShadyCSS&&!window.ShadyCSS.nativeShadow&&(this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.position="fixed",this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.top=0,this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.bottom=0,this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.left=0,this.shadowRoot.querySelector("web-dialog").shadowRoot.querySelector("#backdrop").style.right=0)}_openedChanged(t){if(void 0===t||t){if(t){this.querySelectorAll("[dialog-dismiss]").forEach((t=>{t.addEventListener("click",(t=>{const e=new CustomEvent("simple-modal-dismissed",{bubbles:!0,composed:!0,cancelable:!0,detail:{opened:!1,invokedBy:this.invokedBy}});this.dispatchEvent(e),this.close()}))})),this.querySelectorAll("[dialog-confirm]").forEach((t=>{t.addEventListener("click",(t=>{const e=new CustomEvent("simple-modal-confirmed",{composed:!0,bubbles:!0,cancelable:!0,detail:{opened:!1,invokedBy:this.invokedBy}});this.dispatchEvent(e),this.close()}))}));const t=new CustomEvent("simple-modal-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{opened:!0,invokedBy:this.invokedBy}});this.dispatchEvent(t)}}else{for(this.title="";null!==this.firstChild;)this.removeChild(this.firstChild);this.invokedBy&&setTimeout((()=>{this.invokedBy.focus()}),500);const t=new CustomEvent("simple-modal-closed",{bubbles:!0,cancelable:!0,detail:{opened:!1,invokedBy:this.invokedBy}});this.dispatchEvent(t)}}_getAriaLabelledby(t){return t?"simple-modal-title":null}_getAriaLabel(t){return t?null:"Modal Dialog"}}window.customElements.define(gn.tag,gn),window.SimpleModal=window.SimpleModal||{},window.SimpleModal.requestAvailability=()=>(window.SimpleModal.instance||(window.SimpleModal.instance=document.createElement("simple-modal"),document.body.appendChild(window.SimpleModal.instance)),window.SimpleModal.instance),window.SimpleModal.requestAvailability();
/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
class bn extends tn{static get styles(){return[s`:host{display:none}`]}static get tag(){return"simple-modal-template"}constructor(){super(),this.title="",this.modal=window.SimpleModal.requestAvailability()}static get properties(){return{modal:{type:Object},title:{type:String},mode:{type:String}}}render(){return a` <slot name="header"></slot> <slot name="content"></slot> <slot name="buttons"></slot> `}associateEvents(t,e="click",i=!0,o=!0){return t.addEventListener(e,(e=>{this.openModal(t,i,o)})),this.modal}openModal(t,e=!0,i=!0){let o=getComputedStyle(this),a={};mn.forEach((t=>{a[t]=o.getPropertyValue(t),"--simple-modal-z-index"==t&&(a[t]=Number(a[t]))}));const s=new CustomEvent("simple-modal-show",{bubbles:e,cancelable:i,composed:!0,detail:{id:this.getAttribute("modal-id"),elements:{header:this._getSlot("header"),content:this._getSlot("content"),buttons:this._getSlot("buttons"),custom:this._getCustom()},resize:this.resize,invokedBy:t,modalClass:this.getAttribute("class"),styles:a,clone:!1,mode:null!==this.mode&&this.mode,title:null!==this.title&&this.title}});window.dispatchEvent(s)}_getCustom(){let t=this.querySelectorAll('[slot="custom"]');return 1==t.length?t[0].cloneNode(!0):this._getSlot("custom")}_getSlot(t){let e=this.querySelectorAll('[slot="'+t+'"]');e&&e[0]&&"SLOT"==e[0].tagName&&(e=e[0].assignedNodes({flatten:!0}));let i=document.createElement("div");return e.forEach((t=>{i.appendChild(t.cloneNode(!0))})),null!==e&&i.cloneNode(!0)}}window.customElements.define(bn.tag,bn);class fn extends c{static get styles(){return[...Vt,s`simple-button-grid{overflow-y:auto;margin:var(--hax-ui-spacing-sm);--simple-button-grid-cols:100px}#filters{min-height:24px}simple-icon-button-lite{float:right;margin-left:-24px}simple-fields-field::part(fieldset-legend){line-height:24px}simple-fields-field::part(fieldset-options){display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}simple-fields-field::part(option){display:flex;flex-wrap:no-wrap;align-items:center;justify-content:space-between;margin:0 var(--simple-fields-margin-small,8px);flex-direction:row-reverse}simple-fields-field::part(option-inner){flex:0 0 auto;margin:0 calc(var(--simple-fields-margin-small,8px) * .5) 0 0}simple-fields-field::part(option-label){flex:1 1 auto;margin:0;font-size:var(--hax-ui-font-size-sm,13px)}:host([filter-on]) simple-button-grid{margin-bottom:var(--simple-fields-margin-small,8px)}:host([filter-on]) #hax-gizmo-filters{margin-bottom:0}:host([filter-on]) ::part(fieldset-options){padding-bottom:var(--simple-fields-margin-small,8px)}`]}constructor(){super(),this._elements=[],this.selectionList=[],this.pickerType="gizmo"}render(){return a` ${this.keywords?a` <div id="filters"> <simple-icon-button-lite icon="editable-table:filter${this.filterOn?"-off":""}" label="Toggle Filters" tooltip-position="right" @click="${t=>this.filterOn=!this.filterOn}"> </simple-icon-button-lite> <simple-fields-field ?hidden="${!this.filterOn}" id="hax-gizmo-filters" label="Filters" type="checkbox" .options="${this.keywords}" @value-changed="${this._handleFilters}"> </simple-fields-field> </div>`:""} <simple-button-grid cols="100px"> ${this.selectionList.map(((t,e)=>this._isFiltered(t.keywords)?a` <hax-tray-button show-text-label id="picker-item-${e}" @click="${this._selected}" data-selected="${e}" ?disabled="${p.activeGizmo&&p.activeGizmo.tag==t.tag}" label="${t.title}" icon="${t.icon}" icon-position="top"></hax-tray-button> `:""))} </simple-button-grid> `}static get tag(){return"hax-picker"}static get properties(){return{_elements:{type:Array},keywords:{type:Object},selectionList:{type:Array},pickerType:{type:String,attribute:"picker-type"},filters:{type:Array},filterOn:{type:Boolean,attribute:"filter-on",reflect:!0}}}buildOptions(t,e="element",i="Select an option",o="gizmo"){this.pickerType=o;var a=[],s=e=>{t[e].gizmo.keywords.forEach((t=>{(t=(t||"").toLowerCase()).replace(/[\s\W]*/,"").length>0&&(this.keywords[t]=t)}))};switch(this.keywords={},o){case"gizmo":for(var n in t)t[n].__type=e,a.push({icon:t[n].gizmo.icon,title:t[n].gizmo.title,color:t[n].gizmo.color,tag:t[n].gizmo.tag,keywords:t[n].gizmo.keywords}),s(n);break;case"app":for(var n in t)a.push({icon:t[n].details.icon,title:t[n].details.title,color:t[n].details.color,tag:t[n].gizmo.tag,keywords:t[n].gizmo.keywords}),s(n);break;default:a=t}this._elements=t,this.selectionList=[...a],setTimeout((()=>{this.shadowRoot.querySelector("#picker-item-0").focus()}),50)}_handleFilters(t){let e=this.shadowRoot&&this.shadowRoot.querySelector("#hax-gizmo-filters")?this.shadowRoot.querySelector("#hax-gizmo-filters"):void 0;e&&(this.filters=e.value)}_isFiltered(t){let e=0,i=!this.filterOn||!this.filters||this.filters.length<1;for(;!i&&e<this.filters.length;)t.includes(this.filters[e])&&(i=!0),e++;return i}_selected(t){let e=t.target.getAttribute("data-selected");t.preventDefault(),t.stopPropagation(),void 0!==this._elements[e]&&("gizmo"==this.pickerType?(this._elements[e].replace=!0,this.dispatchEvent(new CustomEvent("hax-insert-content",{bubbles:!0,cancelable:!0,composed:!0,detail:this._elements[e]}))):this.dispatchEvent(new CustomEvent("hax-app-picker-selection",{bubbles:!0,cancelable:!0,composed:!0,detail:this._elements[e]}))),this.close()}close(){window.dispatchEvent(new CustomEvent("simple-modal-hide",{bubbles:!0,cancelable:!0,detail:{}}))}}window.customElements.define(fn.tag,fn);class vn extends c{static get styles(){return[...Vt,s`:host{display:none}`]}constructor(){super(),this.title="Select an option"}connectedCallback(){super.connectedCallback(),window.addEventListener("simple-modal-show",this.modalToggle.bind(this))}disconnectedCallback(){window.removeEventListener("simple-modal-show",this.modalToggle.bind(this)),super.disconnectedCallback()}modalToggle(t){"hax-picker"==t.detail.id&&t.detail.elements.content.children[0].buildOptions(this.elements,this.type,this.title,this.pickerType,this.target)}static get properties(){return{title:{type:String}}}presentOptions(t,e="element",i="Select an option",o="gizmo",a=window){this.elements=t,this.type=e,this.title=i,this.pickerType=o,this.target=a,setTimeout((()=>{this.shadowRoot.querySelector('[modal-id="hax-picker"]').openModal(a)}),0)}render(){return a` <simple-modal-template .title="${this.title}" modal-id="hax-picker" mode="hax-ui"> <hax-picker slot="content"></hax-picker> </simple-modal-template> `}static get tag(){return"hax-app-picker"}firstUpdated(){this.dispatchEvent(new CustomEvent("hax-register-core-piece",{bubbles:!0,cancelable:!0,composed:!0,detail:{piece:"haxAppPicker",object:this}}))}}window.customElements.define(vn.tag,vn);class yn extends($(c)){static get styles(){return[...Vt,s`:host{display:none;--simple-modal-resize:none;--simple-modal-width:200px;--simple-modal-height:auto;margin:0;padding:0}`]}render(){return a` <simple-modal-template modal-id="hax-cancel" mode="hax-ui" id="dialog" .title="${this.t.cancelTitle}"> <div slot="content">${this.t.cancelWithoutSaving}</div> <hax-toolbar id="hax-cancel-buttons" always-expanded slot="buttons"> <hax-tray-button id="hax-cancel-no" label="${this.t.cancelNo}" dialog-dismiss show-text-label> </hax-tray-button> <hax-tray-button id="hax-cancel-yes" dialog-confirm @click="${t=>console.log(t)}" label="${this.t.cancelYes}" show-text-label> </hax-tray-button> </hax-toolbar> </simple-modal-template> `}static get tag(){return"hax-cancel-dialog"}firstUpdated(){this.dispatchEvent(new CustomEvent("hax-register-core-piece",{bubbles:!0,cancelable:!0,composed:!0,detail:{piece:"haxCancel",object:this}}))}constructor(){super(),this.t={cancelTitle:"Confirm Cancel",cancelWithoutSaving:"Any changes since your last save will be lost. Cancel anyway?",cancelYes:"Yes",cancelNo:"No"},this.registerLocalization({context:this,namespace:"hax"})}}window.customElements.define(yn.tag,yn);var xn=Object.freeze({__proto__:null});export{fs as H,Ct as R,Bt as a,nt as b,lt as c,rt as d,dt as e,Tt as f,Gt as g,j as h,V as i,ys as j,Ns as k,xn as l,et as s};
